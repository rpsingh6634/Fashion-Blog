// Minified using Javascript Aggregator - see /sites/default/files/js/js_c65dbe030541e445ec2c58e05417de6f.js for original source including licensing information.

(function(global,factory){"use strict";if(typeof module==="object"&&typeof module.exports==="object"){module.exports=global.document?factory(global,true):function(w){if(!w.document){throw new Error("jQuery requires a window with a document");}
return factory(w);};}else{factory(global);}})(typeof window!=="undefined"?window:this,function(window,noGlobal){"use strict";var arr=[];var getProto=Object.getPrototypeOf;var slice=arr.slice;var flat=arr.flat?function(array){return arr.flat.call(array);}:function(array){return arr.concat.apply([],array);};var push=arr.push;var indexOf=arr.indexOf;var class2type={};var toString=class2type.toString;var hasOwn=class2type.hasOwnProperty;var fnToString=hasOwn.toString;var ObjectFunctionString=fnToString.call(Object);var support={};var isFunction=function isFunction(obj){return typeof obj==="function"&&typeof obj.nodeType!=="number";};var isWindow=function isWindow(obj){return obj!=null&&obj===obj.window;};var document=window.document;var preservedScriptAttributes={type:true,src:true,nonce:true,noModule:true};function DOMEval(code,node,doc){doc=doc||document;var i,val,script=doc.createElement("script");script.text=code;if(node){for(i in preservedScriptAttributes){val=node[i]||node.getAttribute&&node.getAttribute(i);if(val){script.setAttribute(i,val);}}}
doc.head.appendChild(script).parentNode.removeChild(script);}
function toType(obj){if(obj==null){return obj+"";}
return typeof obj==="object"||typeof obj==="function"?class2type[toString.call(obj)]||"object":typeof obj;}
var
version="3.5.1",jQuery=function(selector,context){return new jQuery.fn.init(selector,context);};jQuery.fn=jQuery.prototype={jquery:version,constructor:jQuery,length:0,toArray:function(){return slice.call(this);},get:function(num){if(num==null){return slice.call(this);}
return num<0?this[num+this.length]:this[num];},pushStack:function(elems){var ret=jQuery.merge(this.constructor(),elems);ret.prevObject=this;return ret;},each:function(callback){return jQuery.each(this,callback);},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem);}));},slice:function(){return this.pushStack(slice.apply(this,arguments));},first:function(){return this.eq(0);},last:function(){return this.eq(-1);},even:function(){return this.pushStack(jQuery.grep(this,function(_elem,i){return(i+1)%2;}));},odd:function(){return this.pushStack(jQuery.grep(this,function(_elem,i){return i%2;}));},eq:function(i){var len=this.length,j=+i+(i<0?len:0);return this.pushStack(j>=0&&j<len?[this[j]]:[]);},end:function(){return this.prevObject||this.constructor();},push:push,sort:arr.sort,splice:arr.splice};jQuery.extend=jQuery.fn.extend=function(){var options,name,src,copy,copyIsArray,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=false;if(typeof target==="boolean"){deep=target;target=arguments[i]||{};i++;}
if(typeof target!=="object"&&!isFunction(target)){target={};}
if(i===length){target=this;i--;}
for(;i<length;i++){if((options=arguments[i])!=null){for(name in options){copy=options[name];if(name==="__proto__"||target===copy){continue;}
if(deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=Array.isArray(copy)))){src=target[name];if(copyIsArray&&!Array.isArray(src)){clone=[];}else if(!copyIsArray&&!jQuery.isPlainObject(src)){clone={};}else{clone=src;}
copyIsArray=false;target[name]=jQuery.extend(deep,clone,copy);}else if(copy!==undefined){target[name]=copy;}}}}
return target;};jQuery.extend({expando:"jQuery"+(version+Math.random()).replace(/\D/g,""),isReady:true,error:function(msg){throw new Error(msg);},noop:function(){},isPlainObject:function(obj){var proto,Ctor;if(!obj||toString.call(obj)!=="[object Object]"){return false;}
proto=getProto(obj);if(!proto){return true;}
Ctor=hasOwn.call(proto,"constructor")&&proto.constructor;return typeof Ctor==="function"&&fnToString.call(Ctor)===ObjectFunctionString;},isEmptyObject:function(obj){var name;for(name in obj){return false;}
return true;},globalEval:function(code,options,doc){DOMEval(code,{nonce:options&&options.nonce},doc);},each:function(obj,callback){var length,i=0;if(isArrayLike(obj)){length=obj.length;for(;i<length;i++){if(callback.call(obj[i],i,obj[i])===false){break;}}}else{for(i in obj){if(callback.call(obj[i],i,obj[i])===false){break;}}}
return obj;},makeArray:function(arr,results){var ret=results||[];if(arr!=null){if(isArrayLike(Object(arr))){jQuery.merge(ret,typeof arr==="string"?[arr]:arr);}else{push.call(ret,arr);}}
return ret;},inArray:function(elem,arr,i){return arr==null?-1:indexOf.call(arr,elem,i);},merge:function(first,second){var len=+second.length,j=0,i=first.length;for(;j<len;j++){first[i++]=second[j];}
first.length=i;return first;},grep:function(elems,callback,invert){var callbackInverse,matches=[],i=0,length=elems.length,callbackExpect=!invert;for(;i<length;i++){callbackInverse=!callback(elems[i],i);if(callbackInverse!==callbackExpect){matches.push(elems[i]);}}
return matches;},map:function(elems,callback,arg){var length,value,i=0,ret=[];if(isArrayLike(elems)){length=elems.length;for(;i<length;i++){value=callback(elems[i],i,arg);if(value!=null){ret.push(value);}}}else{for(i in elems){value=callback(elems[i],i,arg);if(value!=null){ret.push(value);}}}
return flat(ret);},guid:1,support:support});if(typeof Symbol==="function"){jQuery.fn[Symbol.iterator]=arr[Symbol.iterator];}
jQuery.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(_i,name){class2type["[object "+name+"]"]=name.toLowerCase();});function isArrayLike(obj){var length=!!obj&&"length"in obj&&obj.length,type=toType(obj);if(isFunction(obj)||isWindow(obj)){return false;}
return type==="array"||length===0||typeof length==="number"&&length>0&&(length-1)in obj;}
var Sizzle=(function(window){var i,support,Expr,getText,isXML,tokenize,compile,select,outermostContext,sortInput,hasDuplicate,setDocument,document,docElem,documentIsHTML,rbuggyQSA,rbuggyMatches,matches,contains,expando="sizzle"+1*new Date(),preferredDoc=window.document,dirruns=0,done=0,classCache=createCache(),tokenCache=createCache(),compilerCache=createCache(),nonnativeSelectorCache=createCache(),sortOrder=function(a,b){if(a===b){hasDuplicate=true;}
return 0;},hasOwn=({}).hasOwnProperty,arr=[],pop=arr.pop,pushNative=arr.push,push=arr.push,slice=arr.slice,indexOf=function(list,elem){var i=0,len=list.length;for(;i<len;i++){if(list[i]===elem){return i;}}
return-1;},booleans="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|"+"ismap|loop|multiple|open|readonly|required|scoped",whitespace="[\\x20\\t\\r\\n\\f]",identifier="(?:\\\\[\\da-fA-F]{1,6}"+whitespace+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",attributes="\\["+whitespace+"*("+identifier+")(?:"+whitespace+"*([*^$|!~]?=)"+whitespace+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+identifier+"))|)"+
whitespace+"*\\]",pseudos=":("+identifier+")(?:\\(("+"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|"+"((?:\\\\.|[^\\\\()[\\]]|"+attributes+")*)|"+".*"+")\\)|)",rwhitespace=new RegExp(whitespace+"+","g"),rtrim=new RegExp("^"+whitespace+"+|((?:^|[^\\\\])(?:\\\\.)*)"+
whitespace+"+$","g"),rcomma=new RegExp("^"+whitespace+"*,"+whitespace+"*"),rcombinators=new RegExp("^"+whitespace+"*([>+~]|"+whitespace+")"+whitespace+"*"),rdescend=new RegExp(whitespace+"|>"),rpseudo=new RegExp(pseudos),ridentifier=new RegExp("^"+identifier+"$"),matchExpr={"ID":new RegExp("^#("+identifier+")"),"CLASS":new RegExp("^\\.("+identifier+")"),"TAG":new RegExp("^("+identifier+"|[*])"),"ATTR":new RegExp("^"+attributes),"PSEUDO":new RegExp("^"+pseudos),"CHILD":new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+
whitespace+"*(even|odd|(([+-]|)(\\d*)n|)"+whitespace+"*(?:([+-]|)"+
whitespace+"*(\\d+)|))"+whitespace+"*\\)|)","i"),"bool":new RegExp("^(?:"+booleans+")$","i"),"needsContext":new RegExp("^"+whitespace+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+whitespace+"*((?:-\\d)?\\d*)"+whitespace+"*\\)|)(?=[^-]|$)","i")},rhtml=/HTML$/i,rinputs=/^(?:input|select|textarea|button)$/i,rheader=/^h\d$/i,rnative=/^[^{]+\{\s*\[native \w/,rquickExpr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,rsibling=/[+~]/,runescape=new RegExp("\\\\[\\da-fA-F]{1,6}"+whitespace+"?|\\\\([^\\r\\n\\f])","g"),funescape=function(escape,nonHex){var high="0x"+escape.slice(1)-0x10000;return nonHex?nonHex:high<0?String.fromCharCode(high+0x10000):String.fromCharCode(high>>10|0xD800,high&0x3FF|0xDC00);},rcssescape=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,fcssescape=function(ch,asCodePoint){if(asCodePoint){if(ch==="\0"){return"\uFFFD";}
return ch.slice(0,-1)+"\\"+
ch.charCodeAt(ch.length-1).toString(16)+" ";}
return"\\"+ch;},unloadHandler=function(){setDocument();},inDisabledFieldset=addCombinator(function(elem){return elem.disabled===true&&elem.nodeName.toLowerCase()==="fieldset";},{dir:"parentNode",next:"legend"});try{push.apply((arr=slice.call(preferredDoc.childNodes)),preferredDoc.childNodes);arr[preferredDoc.childNodes.length].nodeType;}catch(e){push={apply:arr.length?function(target,els){pushNative.apply(target,slice.call(els));}:function(target,els){var j=target.length,i=0;while((target[j++]=els[i++])){}
target.length=j-1;}};}
function Sizzle(selector,context,results,seed){var m,i,elem,nid,match,groups,newSelector,newContext=context&&context.ownerDocument,nodeType=context?context.nodeType:9;results=results||[];if(typeof selector!=="string"||!selector||nodeType!==1&&nodeType!==9&&nodeType!==11){return results;}
if(!seed){setDocument(context);context=context||document;if(documentIsHTML){if(nodeType!==11&&(match=rquickExpr.exec(selector))){if((m=match[1])){if(nodeType===9){if((elem=context.getElementById(m))){if(elem.id===m){results.push(elem);return results;}}else{return results;}}else{if(newContext&&(elem=newContext.getElementById(m))&&contains(context,elem)&&elem.id===m){results.push(elem);return results;}}}else if(match[2]){push.apply(results,context.getElementsByTagName(selector));return results;}else if((m=match[3])&&support.getElementsByClassName&&context.getElementsByClassName){push.apply(results,context.getElementsByClassName(m));return results;}}
if(support.qsa&&!nonnativeSelectorCache[selector+" "]&&(!rbuggyQSA||!rbuggyQSA.test(selector))&&(nodeType!==1||context.nodeName.toLowerCase()!=="object")){newSelector=selector;newContext=context;if(nodeType===1&&(rdescend.test(selector)||rcombinators.test(selector))){newContext=rsibling.test(selector)&&testContext(context.parentNode)||context;if(newContext!==context||!support.scope){if((nid=context.getAttribute("id"))){nid=nid.replace(rcssescape,fcssescape);}else{context.setAttribute("id",(nid=expando));}}
groups=tokenize(selector);i=groups.length;while(i--){groups[i]=(nid?"#"+nid:":scope")+" "+
toSelector(groups[i]);}
newSelector=groups.join(",");}
try{push.apply(results,newContext.querySelectorAll(newSelector));return results;}catch(qsaError){nonnativeSelectorCache(selector,true);}finally{if(nid===expando){context.removeAttribute("id");}}}}}
return select(selector.replace(rtrim,"$1"),context,results,seed);}
function createCache(){var keys=[];function cache(key,value){if(keys.push(key+" ")>Expr.cacheLength){delete cache[keys.shift()];}
return(cache[key+" "]=value);}
return cache;}
function markFunction(fn){fn[expando]=true;return fn;}
function assert(fn){var el=document.createElement("fieldset");try{return!!fn(el);}catch(e){return false;}finally{if(el.parentNode){el.parentNode.removeChild(el);}
el=null;}}
function addHandle(attrs,handler){var arr=attrs.split("|"),i=arr.length;while(i--){Expr.attrHandle[arr[i]]=handler;}}
function siblingCheck(a,b){var cur=b&&a,diff=cur&&a.nodeType===1&&b.nodeType===1&&a.sourceIndex-b.sourceIndex;if(diff){return diff;}
if(cur){while((cur=cur.nextSibling)){if(cur===b){return-1;}}}
return a?1:-1;}
function createInputPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return name==="input"&&elem.type===type;};}
function createButtonPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return(name==="input"||name==="button")&&elem.type===type;};}
function createDisabledPseudo(disabled){return function(elem){if("form"in elem){if(elem.parentNode&&elem.disabled===false){if("label"in elem){if("label"in elem.parentNode){return elem.parentNode.disabled===disabled;}else{return elem.disabled===disabled;}}
return elem.isDisabled===disabled||elem.isDisabled!==!disabled&&inDisabledFieldset(elem)===disabled;}
return elem.disabled===disabled;}else if("label"in elem){return elem.disabled===disabled;}
return false;};}
function createPositionalPseudo(fn){return markFunction(function(argument){argument=+argument;return markFunction(function(seed,matches){var j,matchIndexes=fn([],seed.length,argument),i=matchIndexes.length;while(i--){if(seed[(j=matchIndexes[i])]){seed[j]=!(matches[j]=seed[j]);}}});});}
function testContext(context){return context&&typeof context.getElementsByTagName!=="undefined"&&context;}
support=Sizzle.support={};isXML=Sizzle.isXML=function(elem){var namespace=elem.namespaceURI,docElem=(elem.ownerDocument||elem).documentElement;return!rhtml.test(namespace||docElem&&docElem.nodeName||"HTML");};setDocument=Sizzle.setDocument=function(node){var hasCompare,subWindow,doc=node?node.ownerDocument||node:preferredDoc;if(doc==document||doc.nodeType!==9||!doc.documentElement){return document;}
document=doc;docElem=document.documentElement;documentIsHTML=!isXML(document);if(preferredDoc!=document&&(subWindow=document.defaultView)&&subWindow.top!==subWindow){if(subWindow.addEventListener){subWindow.addEventListener("unload",unloadHandler,false);}else if(subWindow.attachEvent){subWindow.attachEvent("onunload",unloadHandler);}}
support.scope=assert(function(el){docElem.appendChild(el).appendChild(document.createElement("div"));return typeof el.querySelectorAll!=="undefined"&&!el.querySelectorAll(":scope fieldset div").length;});support.attributes=assert(function(el){el.className="i";return!el.getAttribute("className");});support.getElementsByTagName=assert(function(el){el.appendChild(document.createComment(""));return!el.getElementsByTagName("*").length;});support.getElementsByClassName=rnative.test(document.getElementsByClassName);support.getById=assert(function(el){docElem.appendChild(el).id=expando;return!document.getElementsByName||!document.getElementsByName(expando).length;});if(support.getById){Expr.filter["ID"]=function(id){var attrId=id.replace(runescape,funescape);return function(elem){return elem.getAttribute("id")===attrId;};};Expr.find["ID"]=function(id,context){if(typeof context.getElementById!=="undefined"&&documentIsHTML){var elem=context.getElementById(id);return elem?[elem]:[];}};}else{Expr.filter["ID"]=function(id){var attrId=id.replace(runescape,funescape);return function(elem){var node=typeof elem.getAttributeNode!=="undefined"&&elem.getAttributeNode("id");return node&&node.value===attrId;};};Expr.find["ID"]=function(id,context){if(typeof context.getElementById!=="undefined"&&documentIsHTML){var node,i,elems,elem=context.getElementById(id);if(elem){node=elem.getAttributeNode("id");if(node&&node.value===id){return[elem];}
elems=context.getElementsByName(id);i=0;while((elem=elems[i++])){node=elem.getAttributeNode("id");if(node&&node.value===id){return[elem];}}}
return[];}};}
Expr.find["TAG"]=support.getElementsByTagName?function(tag,context){if(typeof context.getElementsByTagName!=="undefined"){return context.getElementsByTagName(tag);}else if(support.qsa){return context.querySelectorAll(tag);}}:function(tag,context){var elem,tmp=[],i=0,results=context.getElementsByTagName(tag);if(tag==="*"){while((elem=results[i++])){if(elem.nodeType===1){tmp.push(elem);}}
return tmp;}
return results;};Expr.find["CLASS"]=support.getElementsByClassName&&function(className,context){if(typeof context.getElementsByClassName!=="undefined"&&documentIsHTML){return context.getElementsByClassName(className);}};rbuggyMatches=[];rbuggyQSA=[];if((support.qsa=rnative.test(document.querySelectorAll))){assert(function(el){var input;docElem.appendChild(el).innerHTML="<a id='"+expando+"'></a>"+"<select id='"+expando+"-\r\\' msallowcapture=''>"+"<option selected=''></option></select>";if(el.querySelectorAll("[msallowcapture^='']").length){rbuggyQSA.push("[*^$]="+whitespace+"*(?:''|\"\")");}
if(!el.querySelectorAll("[selected]").length){rbuggyQSA.push("\\["+whitespace+"*(?:value|"+booleans+")");}
if(!el.querySelectorAll("[id~="+expando+"-]").length){rbuggyQSA.push("~=");}
input=document.createElement("input");input.setAttribute("name","");el.appendChild(input);if(!el.querySelectorAll("[name='']").length){rbuggyQSA.push("\\["+whitespace+"*name"+whitespace+"*="+
whitespace+"*(?:''|\"\")");}
if(!el.querySelectorAll(":checked").length){rbuggyQSA.push(":checked");}
if(!el.querySelectorAll("a#"+expando+"+*").length){rbuggyQSA.push(".#.+[+~]");}
el.querySelectorAll("\\\f");rbuggyQSA.push("[\\r\\n\\f]");});assert(function(el){el.innerHTML="<a href='' disabled='disabled'></a>"+"<select disabled='disabled'><option/></select>";var input=document.createElement("input");input.setAttribute("type","hidden");el.appendChild(input).setAttribute("name","D");if(el.querySelectorAll("[name=d]").length){rbuggyQSA.push("name"+whitespace+"*[*^$|!~]?=");}
if(el.querySelectorAll(":enabled").length!==2){rbuggyQSA.push(":enabled",":disabled");}
docElem.appendChild(el).disabled=true;if(el.querySelectorAll(":disabled").length!==2){rbuggyQSA.push(":enabled",":disabled");}
el.querySelectorAll("*,:x");rbuggyQSA.push(",.*:");});}
if((support.matchesSelector=rnative.test((matches=docElem.matches||docElem.webkitMatchesSelector||docElem.mozMatchesSelector||docElem.oMatchesSelector||docElem.msMatchesSelector)))){assert(function(el){support.disconnectedMatch=matches.call(el,"*");matches.call(el,"[s!='']:x");rbuggyMatches.push("!=",pseudos);});}
rbuggyQSA=rbuggyQSA.length&&new RegExp(rbuggyQSA.join("|"));rbuggyMatches=rbuggyMatches.length&&new RegExp(rbuggyMatches.join("|"));hasCompare=rnative.test(docElem.compareDocumentPosition);contains=hasCompare||rnative.test(docElem.contains)?function(a,b){var adown=a.nodeType===9?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!!(bup&&bup.nodeType===1&&(adown.contains?adown.contains(bup):a.compareDocumentPosition&&a.compareDocumentPosition(bup)&16));}:function(a,b){if(b){while((b=b.parentNode)){if(b===a){return true;}}}
return false;};sortOrder=hasCompare?function(a,b){if(a===b){hasDuplicate=true;return 0;}
var compare=!a.compareDocumentPosition-!b.compareDocumentPosition;if(compare){return compare;}
compare=(a.ownerDocument||a)==(b.ownerDocument||b)?a.compareDocumentPosition(b):1;if(compare&1||(!support.sortDetached&&b.compareDocumentPosition(a)===compare)){if(a==document||a.ownerDocument==preferredDoc&&contains(preferredDoc,a)){return-1;}
if(b==document||b.ownerDocument==preferredDoc&&contains(preferredDoc,b)){return 1;}
return sortInput?(indexOf(sortInput,a)-indexOf(sortInput,b)):0;}
return compare&4?-1:1;}:function(a,b){if(a===b){hasDuplicate=true;return 0;}
var cur,i=0,aup=a.parentNode,bup=b.parentNode,ap=[a],bp=[b];if(!aup||!bup){return a==document?-1:b==document?1:aup?-1:bup?1:sortInput?(indexOf(sortInput,a)-indexOf(sortInput,b)):0;}else if(aup===bup){return siblingCheck(a,b);}
cur=a;while((cur=cur.parentNode)){ap.unshift(cur);}
cur=b;while((cur=cur.parentNode)){bp.unshift(cur);}
while(ap[i]===bp[i]){i++;}
return i?siblingCheck(ap[i],bp[i]):ap[i]==preferredDoc?-1:bp[i]==preferredDoc?1:0;};return document;};Sizzle.matches=function(expr,elements){return Sizzle(expr,null,null,elements);};Sizzle.matchesSelector=function(elem,expr){setDocument(elem);if(support.matchesSelector&&documentIsHTML&&!nonnativeSelectorCache[expr+" "]&&(!rbuggyMatches||!rbuggyMatches.test(expr))&&(!rbuggyQSA||!rbuggyQSA.test(expr))){try{var ret=matches.call(elem,expr);if(ret||support.disconnectedMatch||elem.document&&elem.document.nodeType!==11){return ret;}}catch(e){nonnativeSelectorCache(expr,true);}}
return Sizzle(expr,document,null,[elem]).length>0;};Sizzle.contains=function(context,elem){if((context.ownerDocument||context)!=document){setDocument(context);}
return contains(context,elem);};Sizzle.attr=function(elem,name){if((elem.ownerDocument||elem)!=document){setDocument(elem);}
var fn=Expr.attrHandle[name.toLowerCase()],val=fn&&hasOwn.call(Expr.attrHandle,name.toLowerCase())?fn(elem,name,!documentIsHTML):undefined;return val!==undefined?val:support.attributes||!documentIsHTML?elem.getAttribute(name):(val=elem.getAttributeNode(name))&&val.specified?val.value:null;};Sizzle.escape=function(sel){return(sel+"").replace(rcssescape,fcssescape);};Sizzle.error=function(msg){throw new Error("Syntax error, unrecognized expression: "+msg);};Sizzle.uniqueSort=function(results){var elem,duplicates=[],j=0,i=0;hasDuplicate=!support.detectDuplicates;sortInput=!support.sortStable&&results.slice(0);results.sort(sortOrder);if(hasDuplicate){while((elem=results[i++])){if(elem===results[i]){j=duplicates.push(i);}}
while(j--){results.splice(duplicates[j],1);}}
sortInput=null;return results;};getText=Sizzle.getText=function(elem){var node,ret="",i=0,nodeType=elem.nodeType;if(!nodeType){while((node=elem[i++])){ret+=getText(node);}}else if(nodeType===1||nodeType===9||nodeType===11){if(typeof elem.textContent==="string"){return elem.textContent;}else{for(elem=elem.firstChild;elem;elem=elem.nextSibling){ret+=getText(elem);}}}else if(nodeType===3||nodeType===4){return elem.nodeValue;}
return ret;};Expr=Sizzle.selectors={cacheLength:50,createPseudo:markFunction,match:matchExpr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{"ATTR":function(match){match[1]=match[1].replace(runescape,funescape);match[3]=(match[3]||match[4]||match[5]||"").replace(runescape,funescape);if(match[2]==="~="){match[3]=" "+match[3]+" ";}
return match.slice(0,4);},"CHILD":function(match){match[1]=match[1].toLowerCase();if(match[1].slice(0,3)==="nth"){if(!match[3]){Sizzle.error(match[0]);}
match[4]=+(match[4]?match[5]+(match[6]||1):2*(match[3]==="even"||match[3]==="odd"));match[5]=+((match[7]+match[8])||match[3]==="odd");}else if(match[3]){Sizzle.error(match[0]);}
return match;},"PSEUDO":function(match){var excess,unquoted=!match[6]&&match[2];if(matchExpr["CHILD"].test(match[0])){return null;}
if(match[3]){match[2]=match[4]||match[5]||"";}else if(unquoted&&rpseudo.test(unquoted)&&(excess=tokenize(unquoted,true))&&(excess=unquoted.indexOf(")",unquoted.length-excess)-unquoted.length)){match[0]=match[0].slice(0,excess);match[2]=unquoted.slice(0,excess);}
return match.slice(0,3);}},filter:{"TAG":function(nodeNameSelector){var nodeName=nodeNameSelector.replace(runescape,funescape).toLowerCase();return nodeNameSelector==="*"?function(){return true;}:function(elem){return elem.nodeName&&elem.nodeName.toLowerCase()===nodeName;};},"CLASS":function(className){var pattern=classCache[className+" "];return pattern||(pattern=new RegExp("(^|"+whitespace+")"+className+"("+whitespace+"|$)"))&&classCache(className,function(elem){return pattern.test(typeof elem.className==="string"&&elem.className||typeof elem.getAttribute!=="undefined"&&elem.getAttribute("class")||"");});},"ATTR":function(name,operator,check){return function(elem){var result=Sizzle.attr(elem,name);if(result==null){return operator==="!=";}
if(!operator){return true;}
result+="";return operator==="="?result===check:operator==="!="?result!==check:operator==="^="?check&&result.indexOf(check)===0:operator==="*="?check&&result.indexOf(check)>-1:operator==="$="?check&&result.slice(-check.length)===check:operator==="~="?(" "+result.replace(rwhitespace," ")+" ").indexOf(check)>-1:operator==="|="?result===check||result.slice(0,check.length+1)===check+"-":false;};},"CHILD":function(type,what,_argument,first,last){var simple=type.slice(0,3)!=="nth",forward=type.slice(-4)!=="last",ofType=what==="of-type";return first===1&&last===0?function(elem){return!!elem.parentNode;}:function(elem,_context,xml){var cache,uniqueCache,outerCache,node,nodeIndex,start,dir=simple!==forward?"nextSibling":"previousSibling",parent=elem.parentNode,name=ofType&&elem.nodeName.toLowerCase(),useCache=!xml&&!ofType,diff=false;if(parent){if(simple){while(dir){node=elem;while((node=node[dir])){if(ofType?node.nodeName.toLowerCase()===name:node.nodeType===1){return false;}}
start=dir=type==="only"&&!start&&"nextSibling";}
return true;}
start=[forward?parent.firstChild:parent.lastChild];if(forward&&useCache){node=parent;outerCache=node[expando]||(node[expando]={});uniqueCache=outerCache[node.uniqueID]||(outerCache[node.uniqueID]={});cache=uniqueCache[type]||[];nodeIndex=cache[0]===dirruns&&cache[1];diff=nodeIndex&&cache[2];node=nodeIndex&&parent.childNodes[nodeIndex];while((node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop())){if(node.nodeType===1&&++diff&&node===elem){uniqueCache[type]=[dirruns,nodeIndex,diff];break;}}}else{if(useCache){node=elem;outerCache=node[expando]||(node[expando]={});uniqueCache=outerCache[node.uniqueID]||(outerCache[node.uniqueID]={});cache=uniqueCache[type]||[];nodeIndex=cache[0]===dirruns&&cache[1];diff=nodeIndex;}
if(diff===false){while((node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop())){if((ofType?node.nodeName.toLowerCase()===name:node.nodeType===1)&&++diff){if(useCache){outerCache=node[expando]||(node[expando]={});uniqueCache=outerCache[node.uniqueID]||(outerCache[node.uniqueID]={});uniqueCache[type]=[dirruns,diff];}
if(node===elem){break;}}}}}
diff-=last;return diff===first||(diff%first===0&&diff/first>=0);}};},"PSEUDO":function(pseudo,argument){var args,fn=Expr.pseudos[pseudo]||Expr.setFilters[pseudo.toLowerCase()]||Sizzle.error("unsupported pseudo: "+pseudo);if(fn[expando]){return fn(argument);}
if(fn.length>1){args=[pseudo,pseudo,"",argument];return Expr.setFilters.hasOwnProperty(pseudo.toLowerCase())?markFunction(function(seed,matches){var idx,matched=fn(seed,argument),i=matched.length;while(i--){idx=indexOf(seed,matched[i]);seed[idx]=!(matches[idx]=matched[i]);}}):function(elem){return fn(elem,0,args);};}
return fn;}},pseudos:{"not":markFunction(function(selector){var input=[],results=[],matcher=compile(selector.replace(rtrim,"$1"));return matcher[expando]?markFunction(function(seed,matches,_context,xml){var elem,unmatched=matcher(seed,null,xml,[]),i=seed.length;while(i--){if((elem=unmatched[i])){seed[i]=!(matches[i]=elem);}}}):function(elem,_context,xml){input[0]=elem;matcher(input,null,xml,results);input[0]=null;return!results.pop();};}),"has":markFunction(function(selector){return function(elem){return Sizzle(selector,elem).length>0;};}),"contains":markFunction(function(text){text=text.replace(runescape,funescape);return function(elem){return(elem.textContent||getText(elem)).indexOf(text)>-1;};}),"lang":markFunction(function(lang){if(!ridentifier.test(lang||"")){Sizzle.error("unsupported lang: "+lang);}
lang=lang.replace(runescape,funescape).toLowerCase();return function(elem){var elemLang;do{if((elemLang=documentIsHTML?elem.lang:elem.getAttribute("xml:lang")||elem.getAttribute("lang"))){elemLang=elemLang.toLowerCase();return elemLang===lang||elemLang.indexOf(lang+"-")===0;}}while((elem=elem.parentNode)&&elem.nodeType===1);return false;};}),"target":function(elem){var hash=window.location&&window.location.hash;return hash&&hash.slice(1)===elem.id;},"root":function(elem){return elem===docElem;},"focus":function(elem){return elem===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(elem.type||elem.href||~elem.tabIndex);},"enabled":createDisabledPseudo(false),"disabled":createDisabledPseudo(true),"checked":function(elem){var nodeName=elem.nodeName.toLowerCase();return(nodeName==="input"&&!!elem.checked)||(nodeName==="option"&&!!elem.selected);},"selected":function(elem){if(elem.parentNode){elem.parentNode.selectedIndex;}
return elem.selected===true;},"empty":function(elem){for(elem=elem.firstChild;elem;elem=elem.nextSibling){if(elem.nodeType<6){return false;}}
return true;},"parent":function(elem){return!Expr.pseudos["empty"](elem);},"header":function(elem){return rheader.test(elem.nodeName);},"input":function(elem){return rinputs.test(elem.nodeName);},"button":function(elem){var name=elem.nodeName.toLowerCase();return name==="input"&&elem.type==="button"||name==="button";},"text":function(elem){var attr;return elem.nodeName.toLowerCase()==="input"&&elem.type==="text"&&((attr=elem.getAttribute("type"))==null||attr.toLowerCase()==="text");},"first":createPositionalPseudo(function(){return[0];}),"last":createPositionalPseudo(function(_matchIndexes,length){return[length-1];}),"eq":createPositionalPseudo(function(_matchIndexes,length,argument){return[argument<0?argument+length:argument];}),"even":createPositionalPseudo(function(matchIndexes,length){var i=0;for(;i<length;i+=2){matchIndexes.push(i);}
return matchIndexes;}),"odd":createPositionalPseudo(function(matchIndexes,length){var i=1;for(;i<length;i+=2){matchIndexes.push(i);}
return matchIndexes;}),"lt":createPositionalPseudo(function(matchIndexes,length,argument){var i=argument<0?argument+length:argument>length?length:argument;for(;--i>=0;){matchIndexes.push(i);}
return matchIndexes;}),"gt":createPositionalPseudo(function(matchIndexes,length,argument){var i=argument<0?argument+length:argument;for(;++i<length;){matchIndexes.push(i);}
return matchIndexes;})}};Expr.pseudos["nth"]=Expr.pseudos["eq"];for(i in{radio:true,checkbox:true,file:true,password:true,image:true}){Expr.pseudos[i]=createInputPseudo(i);}
for(i in{submit:true,reset:true}){Expr.pseudos[i]=createButtonPseudo(i);}
function setFilters(){}
setFilters.prototype=Expr.filters=Expr.pseudos;Expr.setFilters=new setFilters();tokenize=Sizzle.tokenize=function(selector,parseOnly){var matched,match,tokens,type,soFar,groups,preFilters,cached=tokenCache[selector+" "];if(cached){return parseOnly?0:cached.slice(0);}
soFar=selector;groups=[];preFilters=Expr.preFilter;while(soFar){if(!matched||(match=rcomma.exec(soFar))){if(match){soFar=soFar.slice(match[0].length)||soFar;}
groups.push((tokens=[]));}
matched=false;if((match=rcombinators.exec(soFar))){matched=match.shift();tokens.push({value:matched,type:match[0].replace(rtrim," ")});soFar=soFar.slice(matched.length);}
for(type in Expr.filter){if((match=matchExpr[type].exec(soFar))&&(!preFilters[type]||(match=preFilters[type](match)))){matched=match.shift();tokens.push({value:matched,type:type,matches:match});soFar=soFar.slice(matched.length);}}
if(!matched){break;}}
return parseOnly?soFar.length:soFar?Sizzle.error(selector):tokenCache(selector,groups).slice(0);};function toSelector(tokens){var i=0,len=tokens.length,selector="";for(;i<len;i++){selector+=tokens[i].value;}
return selector;}
function addCombinator(matcher,combinator,base){var dir=combinator.dir,skip=combinator.next,key=skip||dir,checkNonElements=base&&key==="parentNode",doneName=done++;return combinator.first?function(elem,context,xml){while((elem=elem[dir])){if(elem.nodeType===1||checkNonElements){return matcher(elem,context,xml);}}
return false;}:function(elem,context,xml){var oldCache,uniqueCache,outerCache,newCache=[dirruns,doneName];if(xml){while((elem=elem[dir])){if(elem.nodeType===1||checkNonElements){if(matcher(elem,context,xml)){return true;}}}}else{while((elem=elem[dir])){if(elem.nodeType===1||checkNonElements){outerCache=elem[expando]||(elem[expando]={});uniqueCache=outerCache[elem.uniqueID]||(outerCache[elem.uniqueID]={});if(skip&&skip===elem.nodeName.toLowerCase()){elem=elem[dir]||elem;}else if((oldCache=uniqueCache[key])&&oldCache[0]===dirruns&&oldCache[1]===doneName){return(newCache[2]=oldCache[2]);}else{uniqueCache[key]=newCache;if((newCache[2]=matcher(elem,context,xml))){return true;}}}}}
return false;};}
function elementMatcher(matchers){return matchers.length>1?function(elem,context,xml){var i=matchers.length;while(i--){if(!matchers[i](elem,context,xml)){return false;}}
return true;}:matchers[0];}
function multipleContexts(selector,contexts,results){var i=0,len=contexts.length;for(;i<len;i++){Sizzle(selector,contexts[i],results);}
return results;}
function condense(unmatched,map,filter,context,xml){var elem,newUnmatched=[],i=0,len=unmatched.length,mapped=map!=null;for(;i<len;i++){if((elem=unmatched[i])){if(!filter||filter(elem,context,xml)){newUnmatched.push(elem);if(mapped){map.push(i);}}}}
return newUnmatched;}
function setMatcher(preFilter,selector,matcher,postFilter,postFinder,postSelector){if(postFilter&&!postFilter[expando]){postFilter=setMatcher(postFilter);}
if(postFinder&&!postFinder[expando]){postFinder=setMatcher(postFinder,postSelector);}
return markFunction(function(seed,results,context,xml){var temp,i,elem,preMap=[],postMap=[],preexisting=results.length,elems=seed||multipleContexts(selector||"*",context.nodeType?[context]:context,[]),matcherIn=preFilter&&(seed||!selector)?condense(elems,preMap,preFilter,context,xml):elems,matcherOut=matcher?postFinder||(seed?preFilter:preexisting||postFilter)?[]:results:matcherIn;if(matcher){matcher(matcherIn,matcherOut,context,xml);}
if(postFilter){temp=condense(matcherOut,postMap);postFilter(temp,[],context,xml);i=temp.length;while(i--){if((elem=temp[i])){matcherOut[postMap[i]]=!(matcherIn[postMap[i]]=elem);}}}
if(seed){if(postFinder||preFilter){if(postFinder){temp=[];i=matcherOut.length;while(i--){if((elem=matcherOut[i])){temp.push((matcherIn[i]=elem));}}
postFinder(null,(matcherOut=[]),temp,xml);}
i=matcherOut.length;while(i--){if((elem=matcherOut[i])&&(temp=postFinder?indexOf(seed,elem):preMap[i])>-1){seed[temp]=!(results[temp]=elem);}}}}else{matcherOut=condense(matcherOut===results?matcherOut.splice(preexisting,matcherOut.length):matcherOut);if(postFinder){postFinder(null,results,matcherOut,xml);}else{push.apply(results,matcherOut);}}});}
function matcherFromTokens(tokens){var checkContext,matcher,j,len=tokens.length,leadingRelative=Expr.relative[tokens[0].type],implicitRelative=leadingRelative||Expr.relative[" "],i=leadingRelative?1:0,matchContext=addCombinator(function(elem){return elem===checkContext;},implicitRelative,true),matchAnyContext=addCombinator(function(elem){return indexOf(checkContext,elem)>-1;},implicitRelative,true),matchers=[function(elem,context,xml){var ret=(!leadingRelative&&(xml||context!==outermostContext))||((checkContext=context).nodeType?matchContext(elem,context,xml):matchAnyContext(elem,context,xml));checkContext=null;return ret;}];for(;i<len;i++){if((matcher=Expr.relative[tokens[i].type])){matchers=[addCombinator(elementMatcher(matchers),matcher)];}else{matcher=Expr.filter[tokens[i].type].apply(null,tokens[i].matches);if(matcher[expando]){j=++i;for(;j<len;j++){if(Expr.relative[tokens[j].type]){break;}}
return setMatcher(i>1&&elementMatcher(matchers),i>1&&toSelector(tokens.slice(0,i-1).concat({value:tokens[i-2].type===" "?"*":""})).replace(rtrim,"$1"),matcher,i<j&&matcherFromTokens(tokens.slice(i,j)),j<len&&matcherFromTokens((tokens=tokens.slice(j))),j<len&&toSelector(tokens));}
matchers.push(matcher);}}
return elementMatcher(matchers);}
function matcherFromGroupMatchers(elementMatchers,setMatchers){var bySet=setMatchers.length>0,byElement=elementMatchers.length>0,superMatcher=function(seed,context,xml,results,outermost){var elem,j,matcher,matchedCount=0,i="0",unmatched=seed&&[],setMatched=[],contextBackup=outermostContext,elems=seed||byElement&&Expr.find["TAG"]("*",outermost),dirrunsUnique=(dirruns+=contextBackup==null?1:Math.random()||0.1),len=elems.length;if(outermost){outermostContext=context==document||context||outermost;}
for(;i!==len&&(elem=elems[i])!=null;i++){if(byElement&&elem){j=0;if(!context&&elem.ownerDocument!=document){setDocument(elem);xml=!documentIsHTML;}
while((matcher=elementMatchers[j++])){if(matcher(elem,context||document,xml)){results.push(elem);break;}}
if(outermost){dirruns=dirrunsUnique;}}
if(bySet){if((elem=!matcher&&elem)){matchedCount--;}
if(seed){unmatched.push(elem);}}}
matchedCount+=i;if(bySet&&i!==matchedCount){j=0;while((matcher=setMatchers[j++])){matcher(unmatched,setMatched,context,xml);}
if(seed){if(matchedCount>0){while(i--){if(!(unmatched[i]||setMatched[i])){setMatched[i]=pop.call(results);}}}
setMatched=condense(setMatched);}
push.apply(results,setMatched);if(outermost&&!seed&&setMatched.length>0&&(matchedCount+setMatchers.length)>1){Sizzle.uniqueSort(results);}}
if(outermost){dirruns=dirrunsUnique;outermostContext=contextBackup;}
return unmatched;};return bySet?markFunction(superMatcher):superMatcher;}
compile=Sizzle.compile=function(selector,match){var i,setMatchers=[],elementMatchers=[],cached=compilerCache[selector+" "];if(!cached){if(!match){match=tokenize(selector);}
i=match.length;while(i--){cached=matcherFromTokens(match[i]);if(cached[expando]){setMatchers.push(cached);}else{elementMatchers.push(cached);}}
cached=compilerCache(selector,matcherFromGroupMatchers(elementMatchers,setMatchers));cached.selector=selector;}
return cached;};select=Sizzle.select=function(selector,context,results,seed){var i,tokens,token,type,find,compiled=typeof selector==="function"&&selector,match=!seed&&tokenize((selector=compiled.selector||selector));results=results||[];if(match.length===1){tokens=match[0]=match[0].slice(0);if(tokens.length>2&&(token=tokens[0]).type==="ID"&&context.nodeType===9&&documentIsHTML&&Expr.relative[tokens[1].type]){context=(Expr.find["ID"](token.matches[0].replace(runescape,funescape),context)||[])[0];if(!context){return results;}else if(compiled){context=context.parentNode;}
selector=selector.slice(tokens.shift().value.length);}
i=matchExpr["needsContext"].test(selector)?0:tokens.length;while(i--){token=tokens[i];if(Expr.relative[(type=token.type)]){break;}
if((find=Expr.find[type])){if((seed=find(token.matches[0].replace(runescape,funescape),rsibling.test(tokens[0].type)&&testContext(context.parentNode)||context))){tokens.splice(i,1);selector=seed.length&&toSelector(tokens);if(!selector){push.apply(results,seed);return results;}
break;}}}}
(compiled||compile(selector,match))(seed,context,!documentIsHTML,results,!context||rsibling.test(selector)&&testContext(context.parentNode)||context);return results;};support.sortStable=expando.split("").sort(sortOrder).join("")===expando;support.detectDuplicates=!!hasDuplicate;setDocument();support.sortDetached=assert(function(el){return el.compareDocumentPosition(document.createElement("fieldset"))&1;});if(!assert(function(el){el.innerHTML="<a href='#'></a>";return el.firstChild.getAttribute("href")==="#";})){addHandle("type|href|height|width",function(elem,name,isXML){if(!isXML){return elem.getAttribute(name,name.toLowerCase()==="type"?1:2);}});}
if(!support.attributes||!assert(function(el){el.innerHTML="<input/>";el.firstChild.setAttribute("value","");return el.firstChild.getAttribute("value")==="";})){addHandle("value",function(elem,_name,isXML){if(!isXML&&elem.nodeName.toLowerCase()==="input"){return elem.defaultValue;}});}
if(!assert(function(el){return el.getAttribute("disabled")==null;})){addHandle(booleans,function(elem,name,isXML){var val;if(!isXML){return elem[name]===true?name.toLowerCase():(val=elem.getAttributeNode(name))&&val.specified?val.value:null;}});}
return Sizzle;})(window);jQuery.find=Sizzle;jQuery.expr=Sizzle.selectors;jQuery.expr[":"]=jQuery.expr.pseudos;jQuery.uniqueSort=jQuery.unique=Sizzle.uniqueSort;jQuery.text=Sizzle.getText;jQuery.isXMLDoc=Sizzle.isXML;jQuery.contains=Sizzle.contains;jQuery.escapeSelector=Sizzle.escape;var dir=function(elem,dir,until){var matched=[],truncate=until!==undefined;while((elem=elem[dir])&&elem.nodeType!==9){if(elem.nodeType===1){if(truncate&&jQuery(elem).is(until)){break;}
matched.push(elem);}}
return matched;};var siblings=function(n,elem){var matched=[];for(;n;n=n.nextSibling){if(n.nodeType===1&&n!==elem){matched.push(n);}}
return matched;};var rneedsContext=jQuery.expr.match.needsContext;function nodeName(elem,name){return elem.nodeName&&elem.nodeName.toLowerCase()===name.toLowerCase();};var rsingleTag=(/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i);function winnow(elements,qualifier,not){if(isFunction(qualifier)){return jQuery.grep(elements,function(elem,i){return!!qualifier.call(elem,i,elem)!==not;});}
if(qualifier.nodeType){return jQuery.grep(elements,function(elem){return(elem===qualifier)!==not;});}
if(typeof qualifier!=="string"){return jQuery.grep(elements,function(elem){return(indexOf.call(qualifier,elem)>-1)!==not;});}
return jQuery.filter(qualifier,elements,not);}
jQuery.filter=function(expr,elems,not){var elem=elems[0];if(not){expr=":not("+expr+")";}
if(elems.length===1&&elem.nodeType===1){return jQuery.find.matchesSelector(elem,expr)?[elem]:[];}
return jQuery.find.matches(expr,jQuery.grep(elems,function(elem){return elem.nodeType===1;}));};jQuery.fn.extend({find:function(selector){var i,ret,len=this.length,self=this;if(typeof selector!=="string"){return this.pushStack(jQuery(selector).filter(function(){for(i=0;i<len;i++){if(jQuery.contains(self[i],this)){return true;}}}));}
ret=this.pushStack([]);for(i=0;i<len;i++){jQuery.find(selector,self[i],ret);}
return len>1?jQuery.uniqueSort(ret):ret;},filter:function(selector){return this.pushStack(winnow(this,selector||[],false));},not:function(selector){return this.pushStack(winnow(this,selector||[],true));},is:function(selector){return!!winnow(this,typeof selector==="string"&&rneedsContext.test(selector)?jQuery(selector):selector||[],false).length;}});var rootjQuery,rquickExpr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,init=jQuery.fn.init=function(selector,context,root){var match,elem;if(!selector){return this;}
root=root||rootjQuery;if(typeof selector==="string"){if(selector[0]==="<"&&selector[selector.length-1]===">"&&selector.length>=3){match=[null,selector,null];}else{match=rquickExpr.exec(selector);}
if(match&&(match[1]||!context)){if(match[1]){context=context instanceof jQuery?context[0]:context;jQuery.merge(this,jQuery.parseHTML(match[1],context&&context.nodeType?context.ownerDocument||context:document,true));if(rsingleTag.test(match[1])&&jQuery.isPlainObject(context)){for(match in context){if(isFunction(this[match])){this[match](context[match]);}else{this.attr(match,context[match]);}}}
return this;}else{elem=document.getElementById(match[2]);if(elem){this[0]=elem;this.length=1;}
return this;}}else if(!context||context.jquery){return(context||root).find(selector);}else{return this.constructor(context).find(selector);}}else if(selector.nodeType){this[0]=selector;this.length=1;return this;}else if(isFunction(selector)){return root.ready!==undefined?root.ready(selector):selector(jQuery);}
return jQuery.makeArray(selector,this);};init.prototype=jQuery.fn;rootjQuery=jQuery(document);var rparentsprev=/^(?:parents|prev(?:Until|All))/,guaranteedUnique={children:true,contents:true,next:true,prev:true};jQuery.fn.extend({has:function(target){var targets=jQuery(target,this),l=targets.length;return this.filter(function(){var i=0;for(;i<l;i++){if(jQuery.contains(this,targets[i])){return true;}}});},closest:function(selectors,context){var cur,i=0,l=this.length,matched=[],targets=typeof selectors!=="string"&&jQuery(selectors);if(!rneedsContext.test(selectors)){for(;i<l;i++){for(cur=this[i];cur&&cur!==context;cur=cur.parentNode){if(cur.nodeType<11&&(targets?targets.index(cur)>-1:cur.nodeType===1&&jQuery.find.matchesSelector(cur,selectors))){matched.push(cur);break;}}}}
return this.pushStack(matched.length>1?jQuery.uniqueSort(matched):matched);},index:function(elem){if(!elem){return(this[0]&&this[0].parentNode)?this.first().prevAll().length:-1;}
if(typeof elem==="string"){return indexOf.call(jQuery(elem),this[0]);}
return indexOf.call(this,elem.jquery?elem[0]:elem);},add:function(selector,context){return this.pushStack(jQuery.uniqueSort(jQuery.merge(this.get(),jQuery(selector,context))));},addBack:function(selector){return this.add(selector==null?this.prevObject:this.prevObject.filter(selector));}});function sibling(cur,dir){while((cur=cur[dir])&&cur.nodeType!==1){}
return cur;}
jQuery.each({parent:function(elem){var parent=elem.parentNode;return parent&&parent.nodeType!==11?parent:null;},parents:function(elem){return dir(elem,"parentNode");},parentsUntil:function(elem,_i,until){return dir(elem,"parentNode",until);},next:function(elem){return sibling(elem,"nextSibling");},prev:function(elem){return sibling(elem,"previousSibling");},nextAll:function(elem){return dir(elem,"nextSibling");},prevAll:function(elem){return dir(elem,"previousSibling");},nextUntil:function(elem,_i,until){return dir(elem,"nextSibling",until);},prevUntil:function(elem,_i,until){return dir(elem,"previousSibling",until);},siblings:function(elem){return siblings((elem.parentNode||{}).firstChild,elem);},children:function(elem){return siblings(elem.firstChild);},contents:function(elem){if(elem.contentDocument!=null&&getProto(elem.contentDocument)){return elem.contentDocument;}
if(nodeName(elem,"template")){elem=elem.content||elem;}
return jQuery.merge([],elem.childNodes);}},function(name,fn){jQuery.fn[name]=function(until,selector){var matched=jQuery.map(this,fn,until);if(name.slice(-5)!=="Until"){selector=until;}
if(selector&&typeof selector==="string"){matched=jQuery.filter(selector,matched);}
if(this.length>1){if(!guaranteedUnique[name]){jQuery.uniqueSort(matched);}
if(rparentsprev.test(name)){matched.reverse();}}
return this.pushStack(matched);};});var rnothtmlwhite=(/[^\x20\t\r\n\f]+/g);function createOptions(options){var object={};jQuery.each(options.match(rnothtmlwhite)||[],function(_,flag){object[flag]=true;});return object;}
jQuery.Callbacks=function(options){options=typeof options==="string"?createOptions(options):jQuery.extend({},options);var
firing,memory,fired,locked,list=[],queue=[],firingIndex=-1,fire=function(){locked=locked||options.once;fired=firing=true;for(;queue.length;firingIndex=-1){memory=queue.shift();while(++firingIndex<list.length){if(list[firingIndex].apply(memory[0],memory[1])===false&&options.stopOnFalse){firingIndex=list.length;memory=false;}}}
if(!options.memory){memory=false;}
firing=false;if(locked){if(memory){list=[];}else{list="";}}},self={add:function(){if(list){if(memory&&!firing){firingIndex=list.length-1;queue.push(memory);}
(function add(args){jQuery.each(args,function(_,arg){if(isFunction(arg)){if(!options.unique||!self.has(arg)){list.push(arg);}}else if(arg&&arg.length&&toType(arg)!=="string"){add(arg);}});})(arguments);if(memory&&!firing){fire();}}
return this;},remove:function(){jQuery.each(arguments,function(_,arg){var index;while((index=jQuery.inArray(arg,list,index))>-1){list.splice(index,1);if(index<=firingIndex){firingIndex--;}}});return this;},has:function(fn){return fn?jQuery.inArray(fn,list)>-1:list.length>0;},empty:function(){if(list){list=[];}
return this;},disable:function(){locked=queue=[];list=memory="";return this;},disabled:function(){return!list;},lock:function(){locked=queue=[];if(!memory&&!firing){list=memory="";}
return this;},locked:function(){return!!locked;},fireWith:function(context,args){if(!locked){args=args||[];args=[context,args.slice?args.slice():args];queue.push(args);if(!firing){fire();}}
return this;},fire:function(){self.fireWith(this,arguments);return this;},fired:function(){return!!fired;}};return self;};function Identity(v){return v;}
function Thrower(ex){throw ex;}
function adoptValue(value,resolve,reject,noValue){var method;try{if(value&&isFunction((method=value.promise))){method.call(value).done(resolve).fail(reject);}else if(value&&isFunction((method=value.then))){method.call(value,resolve,reject);}else{resolve.apply(undefined,[value].slice(noValue));}}catch(value){reject.apply(undefined,[value]);}}
jQuery.extend({Deferred:function(func){var tuples=[["notify","progress",jQuery.Callbacks("memory"),jQuery.Callbacks("memory"),2],["resolve","done",jQuery.Callbacks("once memory"),jQuery.Callbacks("once memory"),0,"resolved"],["reject","fail",jQuery.Callbacks("once memory"),jQuery.Callbacks("once memory"),1,"rejected"]],state="pending",promise={state:function(){return state;},always:function(){deferred.done(arguments).fail(arguments);return this;},"catch":function(fn){return promise.then(null,fn);},pipe:function(){var fns=arguments;return jQuery.Deferred(function(newDefer){jQuery.each(tuples,function(_i,tuple){var fn=isFunction(fns[tuple[4]])&&fns[tuple[4]];deferred[tuple[1]](function(){var returned=fn&&fn.apply(this,arguments);if(returned&&isFunction(returned.promise)){returned.promise().progress(newDefer.notify).done(newDefer.resolve).fail(newDefer.reject);}else{newDefer[tuple[0]+"With"](this,fn?[returned]:arguments);}});});fns=null;}).promise();},then:function(onFulfilled,onRejected,onProgress){var maxDepth=0;function resolve(depth,deferred,handler,special){return function(){var that=this,args=arguments,mightThrow=function(){var returned,then;if(depth<maxDepth){return;}
returned=handler.apply(that,args);if(returned===deferred.promise()){throw new TypeError("Thenable self-resolution");}
then=returned&&(typeof returned==="object"||typeof returned==="function")&&returned.then;if(isFunction(then)){if(special){then.call(returned,resolve(maxDepth,deferred,Identity,special),resolve(maxDepth,deferred,Thrower,special));}else{maxDepth++;then.call(returned,resolve(maxDepth,deferred,Identity,special),resolve(maxDepth,deferred,Thrower,special),resolve(maxDepth,deferred,Identity,deferred.notifyWith));}}else{if(handler!==Identity){that=undefined;args=[returned];}
(special||deferred.resolveWith)(that,args);}},process=special?mightThrow:function(){try{mightThrow();}catch(e){if(jQuery.Deferred.exceptionHook){jQuery.Deferred.exceptionHook(e,process.stackTrace);}
if(depth+1>=maxDepth){if(handler!==Thrower){that=undefined;args=[e];}
deferred.rejectWith(that,args);}}};if(depth){process();}else{if(jQuery.Deferred.getStackHook){process.stackTrace=jQuery.Deferred.getStackHook();}
window.setTimeout(process);}};}
return jQuery.Deferred(function(newDefer){tuples[0][3].add(resolve(0,newDefer,isFunction(onProgress)?onProgress:Identity,newDefer.notifyWith));tuples[1][3].add(resolve(0,newDefer,isFunction(onFulfilled)?onFulfilled:Identity));tuples[2][3].add(resolve(0,newDefer,isFunction(onRejected)?onRejected:Thrower));}).promise();},promise:function(obj){return obj!=null?jQuery.extend(obj,promise):promise;}},deferred={};jQuery.each(tuples,function(i,tuple){var list=tuple[2],stateString=tuple[5];promise[tuple[1]]=list.add;if(stateString){list.add(function(){state=stateString;},tuples[3-i][2].disable,tuples[3-i][3].disable,tuples[0][2].lock,tuples[0][3].lock);}
list.add(tuple[3].fire);deferred[tuple[0]]=function(){deferred[tuple[0]+"With"](this===deferred?undefined:this,arguments);return this;};deferred[tuple[0]+"With"]=list.fireWith;});promise.promise(deferred);if(func){func.call(deferred,deferred);}
return deferred;},when:function(singleValue){var
remaining=arguments.length,i=remaining,resolveContexts=Array(i),resolveValues=slice.call(arguments),master=jQuery.Deferred(),updateFunc=function(i){return function(value){resolveContexts[i]=this;resolveValues[i]=arguments.length>1?slice.call(arguments):value;if(!(--remaining)){master.resolveWith(resolveContexts,resolveValues);}};};if(remaining<=1){adoptValue(singleValue,master.done(updateFunc(i)).resolve,master.reject,!remaining);if(master.state()==="pending"||isFunction(resolveValues[i]&&resolveValues[i].then)){return master.then();}}
while(i--){adoptValue(resolveValues[i],updateFunc(i),master.reject);}
return master.promise();}});var rerrorNames=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;jQuery.Deferred.exceptionHook=function(error,stack){if(window.console&&window.console.warn&&error&&rerrorNames.test(error.name)){window.console.warn("jQuery.Deferred exception: "+error.message,error.stack,stack);}};jQuery.readyException=function(error){window.setTimeout(function(){throw error;});};var readyList=jQuery.Deferred();jQuery.fn.ready=function(fn){readyList.then(fn).catch(function(error){jQuery.readyException(error);});return this;};jQuery.extend({isReady:false,readyWait:1,ready:function(wait){if(wait===true?--jQuery.readyWait:jQuery.isReady){return;}
jQuery.isReady=true;if(wait!==true&&--jQuery.readyWait>0){return;}
readyList.resolveWith(document,[jQuery]);}});jQuery.ready.then=readyList.then;function completed(){document.removeEventListener("DOMContentLoaded",completed);window.removeEventListener("load",completed);jQuery.ready();}
if(document.readyState==="complete"||(document.readyState!=="loading"&&!document.documentElement.doScroll)){window.setTimeout(jQuery.ready);}else{document.addEventListener("DOMContentLoaded",completed);window.addEventListener("load",completed);}
var access=function(elems,fn,key,value,chainable,emptyGet,raw){var i=0,len=elems.length,bulk=key==null;if(toType(key)==="object"){chainable=true;for(i in key){access(elems,fn,i,key[i],true,emptyGet,raw);}}else if(value!==undefined){chainable=true;if(!isFunction(value)){raw=true;}
if(bulk){if(raw){fn.call(elems,value);fn=null;}else{bulk=fn;fn=function(elem,_key,value){return bulk.call(jQuery(elem),value);};}}
if(fn){for(;i<len;i++){fn(elems[i],key,raw?value:value.call(elems[i],i,fn(elems[i],key)));}}}
if(chainable){return elems;}
if(bulk){return fn.call(elems);}
return len?fn(elems[0],key):emptyGet;};var rmsPrefix=/^-ms-/,rdashAlpha=/-([a-z])/g;function fcamelCase(_all,letter){return letter.toUpperCase();}
function camelCase(string){return string.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase);}
var acceptData=function(owner){return owner.nodeType===1||owner.nodeType===9||!(+owner.nodeType);};function Data(){this.expando=jQuery.expando+Data.uid++;}
Data.uid=1;Data.prototype={cache:function(owner){var value=owner[this.expando];if(!value){value={};if(acceptData(owner)){if(owner.nodeType){owner[this.expando]=value;}else{Object.defineProperty(owner,this.expando,{value:value,configurable:true});}}}
return value;},set:function(owner,data,value){var prop,cache=this.cache(owner);if(typeof data==="string"){cache[camelCase(data)]=value;}else{for(prop in data){cache[camelCase(prop)]=data[prop];}}
return cache;},get:function(owner,key){return key===undefined?this.cache(owner):owner[this.expando]&&owner[this.expando][camelCase(key)];},access:function(owner,key,value){if(key===undefined||((key&&typeof key==="string")&&value===undefined)){return this.get(owner,key);}
this.set(owner,key,value);return value!==undefined?value:key;},remove:function(owner,key){var i,cache=owner[this.expando];if(cache===undefined){return;}
if(key!==undefined){if(Array.isArray(key)){key=key.map(camelCase);}else{key=camelCase(key);key=key in cache?[key]:(key.match(rnothtmlwhite)||[]);}
i=key.length;while(i--){delete cache[key[i]];}}
if(key===undefined||jQuery.isEmptyObject(cache)){if(owner.nodeType){owner[this.expando]=undefined;}else{delete owner[this.expando];}}},hasData:function(owner){var cache=owner[this.expando];return cache!==undefined&&!jQuery.isEmptyObject(cache);}};var dataPriv=new Data();var dataUser=new Data();var rbrace=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,rmultiDash=/[A-Z]/g;function getData(data){if(data==="true"){return true;}
if(data==="false"){return false;}
if(data==="null"){return null;}
if(data===+data+""){return+data;}
if(rbrace.test(data)){return JSON.parse(data);}
return data;}
function dataAttr(elem,key,data){var name;if(data===undefined&&elem.nodeType===1){name="data-"+key.replace(rmultiDash,"-$&").toLowerCase();data=elem.getAttribute(name);if(typeof data==="string"){try{data=getData(data);}catch(e){}
dataUser.set(elem,key,data);}else{data=undefined;}}
return data;}
jQuery.extend({hasData:function(elem){return dataUser.hasData(elem)||dataPriv.hasData(elem);},data:function(elem,name,data){return dataUser.access(elem,name,data);},removeData:function(elem,name){dataUser.remove(elem,name);},_data:function(elem,name,data){return dataPriv.access(elem,name,data);},_removeData:function(elem,name){dataPriv.remove(elem,name);}});jQuery.fn.extend({data:function(key,value){var i,name,data,elem=this[0],attrs=elem&&elem.attributes;if(key===undefined){if(this.length){data=dataUser.get(elem);if(elem.nodeType===1&&!dataPriv.get(elem,"hasDataAttrs")){i=attrs.length;while(i--){if(attrs[i]){name=attrs[i].name;if(name.indexOf("data-")===0){name=camelCase(name.slice(5));dataAttr(elem,name,data[name]);}}}
dataPriv.set(elem,"hasDataAttrs",true);}}
return data;}
if(typeof key==="object"){return this.each(function(){dataUser.set(this,key);});}
return access(this,function(value){var data;if(elem&&value===undefined){data=dataUser.get(elem,key);if(data!==undefined){return data;}
data=dataAttr(elem,key);if(data!==undefined){return data;}
return;}
this.each(function(){dataUser.set(this,key,value);});},null,value,arguments.length>1,null,true);},removeData:function(key){return this.each(function(){dataUser.remove(this,key);});}});jQuery.extend({queue:function(elem,type,data){var queue;if(elem){type=(type||"fx")+"queue";queue=dataPriv.get(elem,type);if(data){if(!queue||Array.isArray(data)){queue=dataPriv.access(elem,type,jQuery.makeArray(data));}else{queue.push(data);}}
return queue||[];}},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),startLength=queue.length,fn=queue.shift(),hooks=jQuery._queueHooks(elem,type),next=function(){jQuery.dequeue(elem,type);};if(fn==="inprogress"){fn=queue.shift();startLength--;}
if(fn){if(type==="fx"){queue.unshift("inprogress");}
delete hooks.stop;fn.call(elem,next,hooks);}
if(!startLength&&hooks){hooks.empty.fire();}},_queueHooks:function(elem,type){var key=type+"queueHooks";return dataPriv.get(elem,key)||dataPriv.access(elem,key,{empty:jQuery.Callbacks("once memory").add(function(){dataPriv.remove(elem,[type+"queue",key]);})});}});jQuery.fn.extend({queue:function(type,data){var setter=2;if(typeof type!=="string"){data=type;type="fx";setter--;}
if(arguments.length<setter){return jQuery.queue(this[0],type);}
return data===undefined?this:this.each(function(){var queue=jQuery.queue(this,type,data);jQuery._queueHooks(this,type);if(type==="fx"&&queue[0]!=="inprogress"){jQuery.dequeue(this,type);}});},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type);});},clearQueue:function(type){return this.queue(type||"fx",[]);},promise:function(type,obj){var tmp,count=1,defer=jQuery.Deferred(),elements=this,i=this.length,resolve=function(){if(!(--count)){defer.resolveWith(elements,[elements]);}};if(typeof type!=="string"){obj=type;type=undefined;}
type=type||"fx";while(i--){tmp=dataPriv.get(elements[i],type+"queueHooks");if(tmp&&tmp.empty){count++;tmp.empty.add(resolve);}}
resolve();return defer.promise(obj);}});var pnum=(/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/).source;var rcssNum=new RegExp("^(?:([+-])=|)("+pnum+")([a-z%]*)$","i");var cssExpand=["Top","Right","Bottom","Left"];var documentElement=document.documentElement;var isAttached=function(elem){return jQuery.contains(elem.ownerDocument,elem);},composed={composed:true};if(documentElement.getRootNode){isAttached=function(elem){return jQuery.contains(elem.ownerDocument,elem)||elem.getRootNode(composed)===elem.ownerDocument;};}
var isHiddenWithinTree=function(elem,el){elem=el||elem;return elem.style.display==="none"||elem.style.display===""&&isAttached(elem)&&jQuery.css(elem,"display")==="none";};function adjustCSS(elem,prop,valueParts,tween){var adjusted,scale,maxIterations=20,currentValue=tween?function(){return tween.cur();}:function(){return jQuery.css(elem,prop,"");},initial=currentValue(),unit=valueParts&&valueParts[3]||(jQuery.cssNumber[prop]?"":"px"),initialInUnit=elem.nodeType&&(jQuery.cssNumber[prop]||unit!=="px"&&+initial)&&rcssNum.exec(jQuery.css(elem,prop));if(initialInUnit&&initialInUnit[3]!==unit){initial=initial/2;unit=unit||initialInUnit[3];initialInUnit=+initial||1;while(maxIterations--){jQuery.style(elem,prop,initialInUnit+unit);if((1-scale)*(1-(scale=currentValue()/initial||0.5))<=0){maxIterations=0;}
initialInUnit=initialInUnit/scale;}
initialInUnit=initialInUnit*2;jQuery.style(elem,prop,initialInUnit+unit);valueParts=valueParts||[];}
if(valueParts){initialInUnit=+initialInUnit||+initial||0;adjusted=valueParts[1]?initialInUnit+(valueParts[1]+1)*valueParts[2]:+valueParts[2];if(tween){tween.unit=unit;tween.start=initialInUnit;tween.end=adjusted;}}
return adjusted;}
var defaultDisplayMap={};function getDefaultDisplay(elem){var temp,doc=elem.ownerDocument,nodeName=elem.nodeName,display=defaultDisplayMap[nodeName];if(display){return display;}
temp=doc.body.appendChild(doc.createElement(nodeName));display=jQuery.css(temp,"display");temp.parentNode.removeChild(temp);if(display==="none"){display="block";}
defaultDisplayMap[nodeName]=display;return display;}
function showHide(elements,show){var display,elem,values=[],index=0,length=elements.length;for(;index<length;index++){elem=elements[index];if(!elem.style){continue;}
display=elem.style.display;if(show){if(display==="none"){values[index]=dataPriv.get(elem,"display")||null;if(!values[index]){elem.style.display="";}}
if(elem.style.display===""&&isHiddenWithinTree(elem)){values[index]=getDefaultDisplay(elem);}}else{if(display!=="none"){values[index]="none";dataPriv.set(elem,"display",display);}}}
for(index=0;index<length;index++){if(values[index]!=null){elements[index].style.display=values[index];}}
return elements;}
jQuery.fn.extend({show:function(){return showHide(this,true);},hide:function(){return showHide(this);},toggle:function(state){if(typeof state==="boolean"){return state?this.show():this.hide();}
return this.each(function(){if(isHiddenWithinTree(this)){jQuery(this).show();}else{jQuery(this).hide();}});}});var rcheckableType=(/^(?:checkbox|radio)$/i);var rtagName=(/<([a-z][^\/\0>\x20\t\r\n\f]*)/i);var rscriptType=(/^$|^module$|\/(?:java|ecma)script/i);(function(){var fragment=document.createDocumentFragment(),div=fragment.appendChild(document.createElement("div")),input=document.createElement("input");input.setAttribute("type","radio");input.setAttribute("checked","checked");input.setAttribute("name","t");div.appendChild(input);support.checkClone=div.cloneNode(true).cloneNode(true).lastChild.checked;div.innerHTML="<textarea>x</textarea>";support.noCloneChecked=!!div.cloneNode(true).lastChild.defaultValue;div.innerHTML="<option></option>";support.option=!!div.lastChild;})();var wrapMap={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead;wrapMap.th=wrapMap.td;if(!support.option){wrapMap.optgroup=wrapMap.option=[1,"<select multiple='multiple'>","</select>"];}
function getAll(context,tag){var ret;if(typeof context.getElementsByTagName!=="undefined"){ret=context.getElementsByTagName(tag||"*");}else if(typeof context.querySelectorAll!=="undefined"){ret=context.querySelectorAll(tag||"*");}else{ret=[];}
if(tag===undefined||tag&&nodeName(context,tag)){return jQuery.merge([context],ret);}
return ret;}
function setGlobalEval(elems,refElements){var i=0,l=elems.length;for(;i<l;i++){dataPriv.set(elems[i],"globalEval",!refElements||dataPriv.get(refElements[i],"globalEval"));}}
var rhtml=/<|&#?\w+;/;function buildFragment(elems,context,scripts,selection,ignored){var elem,tmp,tag,wrap,attached,j,fragment=context.createDocumentFragment(),nodes=[],i=0,l=elems.length;for(;i<l;i++){elem=elems[i];if(elem||elem===0){if(toType(elem)==="object"){jQuery.merge(nodes,elem.nodeType?[elem]:elem);}else if(!rhtml.test(elem)){nodes.push(context.createTextNode(elem));}else{tmp=tmp||fragment.appendChild(context.createElement("div"));tag=(rtagName.exec(elem)||["",""])[1].toLowerCase();wrap=wrapMap[tag]||wrapMap._default;tmp.innerHTML=wrap[1]+jQuery.htmlPrefilter(elem)+wrap[2];j=wrap[0];while(j--){tmp=tmp.lastChild;}
jQuery.merge(nodes,tmp.childNodes);tmp=fragment.firstChild;tmp.textContent="";}}}
fragment.textContent="";i=0;while((elem=nodes[i++])){if(selection&&jQuery.inArray(elem,selection)>-1){if(ignored){ignored.push(elem);}
continue;}
attached=isAttached(elem);tmp=getAll(fragment.appendChild(elem),"script");if(attached){setGlobalEval(tmp);}
if(scripts){j=0;while((elem=tmp[j++])){if(rscriptType.test(elem.type||"")){scripts.push(elem);}}}}
return fragment;}
var
rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,rtypenamespace=/^([^.]*)(?:\.(.+)|)/;function returnTrue(){return true;}
function returnFalse(){return false;}
function expectSync(elem,type){return(elem===safeActiveElement())===(type==="focus");}
function safeActiveElement(){try{return document.activeElement;}catch(err){}}
function on(elem,types,selector,data,fn,one){var origFn,type;if(typeof types==="object"){if(typeof selector!=="string"){data=data||selector;selector=undefined;}
for(type in types){on(elem,type,selector,data,types[type],one);}
return elem;}
if(data==null&&fn==null){fn=selector;data=selector=undefined;}else if(fn==null){if(typeof selector==="string"){fn=data;data=undefined;}else{fn=data;data=selector;selector=undefined;}}
if(fn===false){fn=returnFalse;}else if(!fn){return elem;}
if(one===1){origFn=fn;fn=function(event){jQuery().off(event);return origFn.apply(this,arguments);};fn.guid=origFn.guid||(origFn.guid=jQuery.guid++);}
return elem.each(function(){jQuery.event.add(this,types,fn,data,selector);});}
jQuery.event={global:{},add:function(elem,types,handler,data,selector){var handleObjIn,eventHandle,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=dataPriv.get(elem);if(!acceptData(elem)){return;}
if(handler.handler){handleObjIn=handler;handler=handleObjIn.handler;selector=handleObjIn.selector;}
if(selector){jQuery.find.matchesSelector(documentElement,selector);}
if(!handler.guid){handler.guid=jQuery.guid++;}
if(!(events=elemData.events)){events=elemData.events=Object.create(null);}
if(!(eventHandle=elemData.handle)){eventHandle=elemData.handle=function(e){return typeof jQuery!=="undefined"&&jQuery.event.triggered!==e.type?jQuery.event.dispatch.apply(elem,arguments):undefined;};}
types=(types||"").match(rnothtmlwhite)||[""];t=types.length;while(t--){tmp=rtypenamespace.exec(types[t])||[];type=origType=tmp[1];namespaces=(tmp[2]||"").split(".").sort();if(!type){continue;}
special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;special=jQuery.event.special[type]||{};handleObj=jQuery.extend({type:type,origType:origType,data:data,handler:handler,guid:handler.guid,selector:selector,needsContext:selector&&jQuery.expr.match.needsContext.test(selector),namespace:namespaces.join(".")},handleObjIn);if(!(handlers=events[type])){handlers=events[type]=[];handlers.delegateCount=0;if(!special.setup||special.setup.call(elem,data,namespaces,eventHandle)===false){if(elem.addEventListener){elem.addEventListener(type,eventHandle);}}}
if(special.add){special.add.call(elem,handleObj);if(!handleObj.handler.guid){handleObj.handler.guid=handler.guid;}}
if(selector){handlers.splice(handlers.delegateCount++,0,handleObj);}else{handlers.push(handleObj);}
jQuery.event.global[type]=true;}},remove:function(elem,types,handler,selector,mappedTypes){var j,origCount,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=dataPriv.hasData(elem)&&dataPriv.get(elem);if(!elemData||!(events=elemData.events)){return;}
types=(types||"").match(rnothtmlwhite)||[""];t=types.length;while(t--){tmp=rtypenamespace.exec(types[t])||[];type=origType=tmp[1];namespaces=(tmp[2]||"").split(".").sort();if(!type){for(type in events){jQuery.event.remove(elem,type+types[t],handler,selector,true);}
continue;}
special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;handlers=events[type]||[];tmp=tmp[2]&&new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)");origCount=j=handlers.length;while(j--){handleObj=handlers[j];if((mappedTypes||origType===handleObj.origType)&&(!handler||handler.guid===handleObj.guid)&&(!tmp||tmp.test(handleObj.namespace))&&(!selector||selector===handleObj.selector||selector==="**"&&handleObj.selector)){handlers.splice(j,1);if(handleObj.selector){handlers.delegateCount--;}
if(special.remove){special.remove.call(elem,handleObj);}}}
if(origCount&&!handlers.length){if(!special.teardown||special.teardown.call(elem,namespaces,elemData.handle)===false){jQuery.removeEvent(elem,type,elemData.handle);}
delete events[type];}}
if(jQuery.isEmptyObject(events)){dataPriv.remove(elem,"handle events");}},dispatch:function(nativeEvent){var i,j,ret,matched,handleObj,handlerQueue,args=new Array(arguments.length),event=jQuery.event.fix(nativeEvent),handlers=(dataPriv.get(this,"events")||Object.create(null))[event.type]||[],special=jQuery.event.special[event.type]||{};args[0]=event;for(i=1;i<arguments.length;i++){args[i]=arguments[i];}
event.delegateTarget=this;if(special.preDispatch&&special.preDispatch.call(this,event)===false){return;}
handlerQueue=jQuery.event.handlers.call(this,event,handlers);i=0;while((matched=handlerQueue[i++])&&!event.isPropagationStopped()){event.currentTarget=matched.elem;j=0;while((handleObj=matched.handlers[j++])&&!event.isImmediatePropagationStopped()){if(!event.rnamespace||handleObj.namespace===false||event.rnamespace.test(handleObj.namespace)){event.handleObj=handleObj;event.data=handleObj.data;ret=((jQuery.event.special[handleObj.origType]||{}).handle||handleObj.handler).apply(matched.elem,args);if(ret!==undefined){if((event.result=ret)===false){event.preventDefault();event.stopPropagation();}}}}}
if(special.postDispatch){special.postDispatch.call(this,event);}
return event.result;},handlers:function(event,handlers){var i,handleObj,sel,matchedHandlers,matchedSelectors,handlerQueue=[],delegateCount=handlers.delegateCount,cur=event.target;if(delegateCount&&cur.nodeType&&!(event.type==="click"&&event.button>=1)){for(;cur!==this;cur=cur.parentNode||this){if(cur.nodeType===1&&!(event.type==="click"&&cur.disabled===true)){matchedHandlers=[];matchedSelectors={};for(i=0;i<delegateCount;i++){handleObj=handlers[i];sel=handleObj.selector+" ";if(matchedSelectors[sel]===undefined){matchedSelectors[sel]=handleObj.needsContext?jQuery(sel,this).index(cur)>-1:jQuery.find(sel,this,null,[cur]).length;}
if(matchedSelectors[sel]){matchedHandlers.push(handleObj);}}
if(matchedHandlers.length){handlerQueue.push({elem:cur,handlers:matchedHandlers});}}}}
cur=this;if(delegateCount<handlers.length){handlerQueue.push({elem:cur,handlers:handlers.slice(delegateCount)});}
return handlerQueue;},addProp:function(name,hook){Object.defineProperty(jQuery.Event.prototype,name,{enumerable:true,configurable:true,get:isFunction(hook)?function(){if(this.originalEvent){return hook(this.originalEvent);}}:function(){if(this.originalEvent){return this.originalEvent[name];}},set:function(value){Object.defineProperty(this,name,{enumerable:true,configurable:true,writable:true,value:value});}});},fix:function(originalEvent){return originalEvent[jQuery.expando]?originalEvent:new jQuery.Event(originalEvent);},special:{load:{noBubble:true},click:{setup:function(data){var el=this||data;if(rcheckableType.test(el.type)&&el.click&&nodeName(el,"input")){leverageNative(el,"click",returnTrue);}
return false;},trigger:function(data){var el=this||data;if(rcheckableType.test(el.type)&&el.click&&nodeName(el,"input")){leverageNative(el,"click");}
return true;},_default:function(event){var target=event.target;return rcheckableType.test(target.type)&&target.click&&nodeName(target,"input")&&dataPriv.get(target,"click")||nodeName(target,"a");}},beforeunload:{postDispatch:function(event){if(event.result!==undefined&&event.originalEvent){event.originalEvent.returnValue=event.result;}}}}};function leverageNative(el,type,expectSync){if(!expectSync){if(dataPriv.get(el,type)===undefined){jQuery.event.add(el,type,returnTrue);}
return;}
dataPriv.set(el,type,false);jQuery.event.add(el,type,{namespace:false,handler:function(event){var notAsync,result,saved=dataPriv.get(this,type);if((event.isTrigger&1)&&this[type]){if(!saved.length){saved=slice.call(arguments);dataPriv.set(this,type,saved);notAsync=expectSync(this,type);this[type]();result=dataPriv.get(this,type);if(saved!==result||notAsync){dataPriv.set(this,type,false);}else{result={};}
if(saved!==result){event.stopImmediatePropagation();event.preventDefault();return result.value;}}else if((jQuery.event.special[type]||{}).delegateType){event.stopPropagation();}}else if(saved.length){dataPriv.set(this,type,{value:jQuery.event.trigger(jQuery.extend(saved[0],jQuery.Event.prototype),saved.slice(1),this)});event.stopImmediatePropagation();}}});}
jQuery.removeEvent=function(elem,type,handle){if(elem.removeEventListener){elem.removeEventListener(type,handle);}};jQuery.Event=function(src,props){if(!(this instanceof jQuery.Event)){return new jQuery.Event(src,props);}
if(src&&src.type){this.originalEvent=src;this.type=src.type;this.isDefaultPrevented=src.defaultPrevented||src.defaultPrevented===undefined&&src.returnValue===false?returnTrue:returnFalse;this.target=(src.target&&src.target.nodeType===3)?src.target.parentNode:src.target;this.currentTarget=src.currentTarget;this.relatedTarget=src.relatedTarget;}else{this.type=src;}
if(props){jQuery.extend(this,props);}
this.timeStamp=src&&src.timeStamp||Date.now();this[jQuery.expando]=true;};jQuery.Event.prototype={constructor:jQuery.Event,isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,isSimulated:false,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=returnTrue;if(e&&!this.isSimulated){e.preventDefault();}},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=returnTrue;if(e&&!this.isSimulated){e.stopPropagation();}},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=returnTrue;if(e&&!this.isSimulated){e.stopImmediatePropagation();}
this.stopPropagation();}};jQuery.each({altKey:true,bubbles:true,cancelable:true,changedTouches:true,ctrlKey:true,detail:true,eventPhase:true,metaKey:true,pageX:true,pageY:true,shiftKey:true,view:true,"char":true,code:true,charCode:true,key:true,keyCode:true,button:true,buttons:true,clientX:true,clientY:true,offsetX:true,offsetY:true,pointerId:true,pointerType:true,screenX:true,screenY:true,targetTouches:true,toElement:true,touches:true,which:function(event){var button=event.button;if(event.which==null&&rkeyEvent.test(event.type)){return event.charCode!=null?event.charCode:event.keyCode;}
if(!event.which&&button!==undefined&&rmouseEvent.test(event.type)){if(button&1){return 1;}
if(button&2){return 3;}
if(button&4){return 2;}
return 0;}
return event.which;}},jQuery.event.addProp);jQuery.each({focus:"focusin",blur:"focusout"},function(type,delegateType){jQuery.event.special[type]={setup:function(){leverageNative(this,type,expectSync);return false;},trigger:function(){leverageNative(this,type);return true;},delegateType:delegateType};});jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(orig,fix){jQuery.event.special[orig]={delegateType:fix,bindType:fix,handle:function(event){var ret,target=this,related=event.relatedTarget,handleObj=event.handleObj;if(!related||(related!==target&&!jQuery.contains(target,related))){event.type=handleObj.origType;ret=handleObj.handler.apply(this,arguments);event.type=fix;}
return ret;}};});jQuery.fn.extend({on:function(types,selector,data,fn){return on(this,types,selector,data,fn);},one:function(types,selector,data,fn){return on(this,types,selector,data,fn,1);},off:function(types,selector,fn){var handleObj,type;if(types&&types.preventDefault&&types.handleObj){handleObj=types.handleObj;jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.origType+"."+handleObj.namespace:handleObj.origType,handleObj.selector,handleObj.handler);return this;}
if(typeof types==="object"){for(type in types){this.off(type,selector,types[type]);}
return this;}
if(selector===false||typeof selector==="function"){fn=selector;selector=undefined;}
if(fn===false){fn=returnFalse;}
return this.each(function(){jQuery.event.remove(this,types,fn,selector);});}});var
rnoInnerhtml=/<script|<style|<link/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rcleanScript=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function manipulationTarget(elem,content){if(nodeName(elem,"table")&&nodeName(content.nodeType!==11?content:content.firstChild,"tr")){return jQuery(elem).children("tbody")[0]||elem;}
return elem;}
function disableScript(elem){elem.type=(elem.getAttribute("type")!==null)+"/"+elem.type;return elem;}
function restoreScript(elem){if((elem.type||"").slice(0,5)==="true/"){elem.type=elem.type.slice(5);}else{elem.removeAttribute("type");}
return elem;}
function cloneCopyEvent(src,dest){var i,l,type,pdataOld,udataOld,udataCur,events;if(dest.nodeType!==1){return;}
if(dataPriv.hasData(src)){pdataOld=dataPriv.get(src);events=pdataOld.events;if(events){dataPriv.remove(dest,"handle events");for(type in events){for(i=0,l=events[type].length;i<l;i++){jQuery.event.add(dest,type,events[type][i]);}}}}
if(dataUser.hasData(src)){udataOld=dataUser.access(src);udataCur=jQuery.extend({},udataOld);dataUser.set(dest,udataCur);}}
function fixInput(src,dest){var nodeName=dest.nodeName.toLowerCase();if(nodeName==="input"&&rcheckableType.test(src.type)){dest.checked=src.checked;}else if(nodeName==="input"||nodeName==="textarea"){dest.defaultValue=src.defaultValue;}}
function domManip(collection,args,callback,ignored){args=flat(args);var fragment,first,scripts,hasScripts,node,doc,i=0,l=collection.length,iNoClone=l-1,value=args[0],valueIsFunction=isFunction(value);if(valueIsFunction||(l>1&&typeof value==="string"&&!support.checkClone&&rchecked.test(value))){return collection.each(function(index){var self=collection.eq(index);if(valueIsFunction){args[0]=value.call(this,index,self.html());}
domManip(self,args,callback,ignored);});}
if(l){fragment=buildFragment(args,collection[0].ownerDocument,false,collection,ignored);first=fragment.firstChild;if(fragment.childNodes.length===1){fragment=first;}
if(first||ignored){scripts=jQuery.map(getAll(fragment,"script"),disableScript);hasScripts=scripts.length;for(;i<l;i++){node=fragment;if(i!==iNoClone){node=jQuery.clone(node,true,true);if(hasScripts){jQuery.merge(scripts,getAll(node,"script"));}}
callback.call(collection[i],node,i);}
if(hasScripts){doc=scripts[scripts.length-1].ownerDocument;jQuery.map(scripts,restoreScript);for(i=0;i<hasScripts;i++){node=scripts[i];if(rscriptType.test(node.type||"")&&!dataPriv.access(node,"globalEval")&&jQuery.contains(doc,node)){if(node.src&&(node.type||"").toLowerCase()!=="module"){if(jQuery._evalUrl&&!node.noModule){jQuery._evalUrl(node.src,{nonce:node.nonce||node.getAttribute("nonce")},doc);}}else{DOMEval(node.textContent.replace(rcleanScript,""),node,doc);}}}}}}
return collection;}
function remove(elem,selector,keepData){var node,nodes=selector?jQuery.filter(selector,elem):elem,i=0;for(;(node=nodes[i])!=null;i++){if(!keepData&&node.nodeType===1){jQuery.cleanData(getAll(node));}
if(node.parentNode){if(keepData&&isAttached(node)){setGlobalEval(getAll(node,"script"));}
node.parentNode.removeChild(node);}}
return elem;}
jQuery.extend({htmlPrefilter:function(html){return html;},clone:function(elem,dataAndEvents,deepDataAndEvents){var i,l,srcElements,destElements,clone=elem.cloneNode(true),inPage=isAttached(elem);if(!support.noCloneChecked&&(elem.nodeType===1||elem.nodeType===11)&&!jQuery.isXMLDoc(elem)){destElements=getAll(clone);srcElements=getAll(elem);for(i=0,l=srcElements.length;i<l;i++){fixInput(srcElements[i],destElements[i]);}}
if(dataAndEvents){if(deepDataAndEvents){srcElements=srcElements||getAll(elem);destElements=destElements||getAll(clone);for(i=0,l=srcElements.length;i<l;i++){cloneCopyEvent(srcElements[i],destElements[i]);}}else{cloneCopyEvent(elem,clone);}}
destElements=getAll(clone,"script");if(destElements.length>0){setGlobalEval(destElements,!inPage&&getAll(elem,"script"));}
return clone;},cleanData:function(elems){var data,elem,type,special=jQuery.event.special,i=0;for(;(elem=elems[i])!==undefined;i++){if(acceptData(elem)){if((data=elem[dataPriv.expando])){if(data.events){for(type in data.events){if(special[type]){jQuery.event.remove(elem,type);}else{jQuery.removeEvent(elem,type,data.handle);}}}
elem[dataPriv.expando]=undefined;}
if(elem[dataUser.expando]){elem[dataUser.expando]=undefined;}}}}});jQuery.fn.extend({detach:function(selector){return remove(this,selector,true);},remove:function(selector){return remove(this,selector);},text:function(value){return access(this,function(value){return value===undefined?jQuery.text(this):this.empty().each(function(){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){this.textContent=value;}});},null,value,arguments.length);},append:function(){return domManip(this,arguments,function(elem){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var target=manipulationTarget(this,elem);target.appendChild(elem);}});},prepend:function(){return domManip(this,arguments,function(elem){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var target=manipulationTarget(this,elem);target.insertBefore(elem,target.firstChild);}});},before:function(){return domManip(this,arguments,function(elem){if(this.parentNode){this.parentNode.insertBefore(elem,this);}});},after:function(){return domManip(this,arguments,function(elem){if(this.parentNode){this.parentNode.insertBefore(elem,this.nextSibling);}});},empty:function(){var elem,i=0;for(;(elem=this[i])!=null;i++){if(elem.nodeType===1){jQuery.cleanData(getAll(elem,false));elem.textContent="";}}
return this;},clone:function(dataAndEvents,deepDataAndEvents){dataAndEvents=dataAndEvents==null?false:dataAndEvents;deepDataAndEvents=deepDataAndEvents==null?dataAndEvents:deepDataAndEvents;return this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents);});},html:function(value){return access(this,function(value){var elem=this[0]||{},i=0,l=this.length;if(value===undefined&&elem.nodeType===1){return elem.innerHTML;}
if(typeof value==="string"&&!rnoInnerhtml.test(value)&&!wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()]){value=jQuery.htmlPrefilter(value);try{for(;i<l;i++){elem=this[i]||{};if(elem.nodeType===1){jQuery.cleanData(getAll(elem,false));elem.innerHTML=value;}}
elem=0;}catch(e){}}
if(elem){this.empty().append(value);}},null,value,arguments.length);},replaceWith:function(){var ignored=[];return domManip(this,arguments,function(elem){var parent=this.parentNode;if(jQuery.inArray(this,ignored)<0){jQuery.cleanData(getAll(this));if(parent){parent.replaceChild(elem,this);}}},ignored);}});jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){var elems,ret=[],insert=jQuery(selector),last=insert.length-1,i=0;for(;i<=last;i++){elems=i===last?this:this.clone(true);jQuery(insert[i])[original](elems);push.apply(ret,elems.get());}
return this.pushStack(ret);};});var rnumnonpx=new RegExp("^("+pnum+")(?!px)[a-z%]+$","i");var getStyles=function(elem){var view=elem.ownerDocument.defaultView;if(!view||!view.opener){view=window;}
return view.getComputedStyle(elem);};var swap=function(elem,options,callback){var ret,name,old={};for(name in options){old[name]=elem.style[name];elem.style[name]=options[name];}
ret=callback.call(elem);for(name in options){elem.style[name]=old[name];}
return ret;};var rboxStyle=new RegExp(cssExpand.join("|"),"i");(function(){function computeStyleTests(){if(!div){return;}
container.style.cssText="position:absolute;left:-11111px;width:60px;"+"margin-top:1px;padding:0;border:0";div.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;"+"margin:auto;border:1px;padding:1px;"+"width:60%;top:1%";documentElement.appendChild(container).appendChild(div);var divStyle=window.getComputedStyle(div);pixelPositionVal=divStyle.top!=="1%";reliableMarginLeftVal=roundPixelMeasures(divStyle.marginLeft)===12;div.style.right="60%";pixelBoxStylesVal=roundPixelMeasures(divStyle.right)===36;boxSizingReliableVal=roundPixelMeasures(divStyle.width)===36;div.style.position="absolute";scrollboxSizeVal=roundPixelMeasures(div.offsetWidth/3)===12;documentElement.removeChild(container);div=null;}
function roundPixelMeasures(measure){return Math.round(parseFloat(measure));}
var pixelPositionVal,boxSizingReliableVal,scrollboxSizeVal,pixelBoxStylesVal,reliableTrDimensionsVal,reliableMarginLeftVal,container=document.createElement("div"),div=document.createElement("div");if(!div.style){return;}
div.style.backgroundClip="content-box";div.cloneNode(true).style.backgroundClip="";support.clearCloneStyle=div.style.backgroundClip==="content-box";jQuery.extend(support,{boxSizingReliable:function(){computeStyleTests();return boxSizingReliableVal;},pixelBoxStyles:function(){computeStyleTests();return pixelBoxStylesVal;},pixelPosition:function(){computeStyleTests();return pixelPositionVal;},reliableMarginLeft:function(){computeStyleTests();return reliableMarginLeftVal;},scrollboxSize:function(){computeStyleTests();return scrollboxSizeVal;},reliableTrDimensions:function(){var table,tr,trChild,trStyle;if(reliableTrDimensionsVal==null){table=document.createElement("table");tr=document.createElement("tr");trChild=document.createElement("div");table.style.cssText="position:absolute;left:-11111px";tr.style.height="1px";trChild.style.height="9px";documentElement.appendChild(table).appendChild(tr).appendChild(trChild);trStyle=window.getComputedStyle(tr);reliableTrDimensionsVal=parseInt(trStyle.height)>3;documentElement.removeChild(table);}
return reliableTrDimensionsVal;}});})();function curCSS(elem,name,computed){var width,minWidth,maxWidth,ret,style=elem.style;computed=computed||getStyles(elem);if(computed){ret=computed.getPropertyValue(name)||computed[name];if(ret===""&&!isAttached(elem)){ret=jQuery.style(elem,name);}
if(!support.pixelBoxStyles()&&rnumnonpx.test(ret)&&rboxStyle.test(name)){width=style.width;minWidth=style.minWidth;maxWidth=style.maxWidth;style.minWidth=style.maxWidth=style.width=ret;ret=computed.width;style.width=width;style.minWidth=minWidth;style.maxWidth=maxWidth;}}
return ret!==undefined?ret+"":ret;}
function addGetHookIf(conditionFn,hookFn){return{get:function(){if(conditionFn()){delete this.get;return;}
return(this.get=hookFn).apply(this,arguments);}};}
var cssPrefixes=["Webkit","Moz","ms"],emptyStyle=document.createElement("div").style,vendorProps={};function vendorPropName(name){var capName=name[0].toUpperCase()+name.slice(1),i=cssPrefixes.length;while(i--){name=cssPrefixes[i]+capName;if(name in emptyStyle){return name;}}}
function finalPropName(name){var final=jQuery.cssProps[name]||vendorProps[name];if(final){return final;}
if(name in emptyStyle){return name;}
return vendorProps[name]=vendorPropName(name)||name;}
var
rdisplayswap=/^(none|table(?!-c[ea]).+)/,rcustomProp=/^--/,cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:"0",fontWeight:"400"};function setPositiveNumber(_elem,value,subtract){var matches=rcssNum.exec(value);return matches?Math.max(0,matches[2]-(subtract||0))+(matches[3]||"px"):value;}
function boxModelAdjustment(elem,dimension,box,isBorderBox,styles,computedVal){var i=dimension==="width"?1:0,extra=0,delta=0;if(box===(isBorderBox?"border":"content")){return 0;}
for(;i<4;i+=2){if(box==="margin"){delta+=jQuery.css(elem,box+cssExpand[i],true,styles);}
if(!isBorderBox){delta+=jQuery.css(elem,"padding"+cssExpand[i],true,styles);if(box!=="padding"){delta+=jQuery.css(elem,"border"+cssExpand[i]+"Width",true,styles);}else{extra+=jQuery.css(elem,"border"+cssExpand[i]+"Width",true,styles);}}else{if(box==="content"){delta-=jQuery.css(elem,"padding"+cssExpand[i],true,styles);}
if(box!=="margin"){delta-=jQuery.css(elem,"border"+cssExpand[i]+"Width",true,styles);}}}
if(!isBorderBox&&computedVal>=0){delta+=Math.max(0,Math.ceil(elem["offset"+dimension[0].toUpperCase()+dimension.slice(1)]-
computedVal-
delta-
extra-
0.5))||0;}
return delta;}
function getWidthOrHeight(elem,dimension,extra){var styles=getStyles(elem),boxSizingNeeded=!support.boxSizingReliable()||extra,isBorderBox=boxSizingNeeded&&jQuery.css(elem,"boxSizing",false,styles)==="border-box",valueIsBorderBox=isBorderBox,val=curCSS(elem,dimension,styles),offsetProp="offset"+dimension[0].toUpperCase()+dimension.slice(1);if(rnumnonpx.test(val)){if(!extra){return val;}
val="auto";}
if((!support.boxSizingReliable()&&isBorderBox||!support.reliableTrDimensions()&&nodeName(elem,"tr")||val==="auto"||!parseFloat(val)&&jQuery.css(elem,"display",false,styles)==="inline")&&elem.getClientRects().length){isBorderBox=jQuery.css(elem,"boxSizing",false,styles)==="border-box";valueIsBorderBox=offsetProp in elem;if(valueIsBorderBox){val=elem[offsetProp];}}
val=parseFloat(val)||0;return(val+
boxModelAdjustment(elem,dimension,extra||(isBorderBox?"border":"content"),valueIsBorderBox,styles,val))+"px";}
jQuery.extend({cssHooks:{opacity:{get:function(elem,computed){if(computed){var ret=curCSS(elem,"opacity");return ret===""?"1":ret;}}}},cssNumber:{"animationIterationCount":true,"columnCount":true,"fillOpacity":true,"flexGrow":true,"flexShrink":true,"fontWeight":true,"gridArea":true,"gridColumn":true,"gridColumnEnd":true,"gridColumnStart":true,"gridRow":true,"gridRowEnd":true,"gridRowStart":true,"lineHeight":true,"opacity":true,"order":true,"orphans":true,"widows":true,"zIndex":true,"zoom":true},cssProps:{},style:function(elem,name,value,extra){if(!elem||elem.nodeType===3||elem.nodeType===8||!elem.style){return;}
var ret,type,hooks,origName=camelCase(name),isCustomProp=rcustomProp.test(name),style=elem.style;if(!isCustomProp){name=finalPropName(origName);}
hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName];if(value!==undefined){type=typeof value;if(type==="string"&&(ret=rcssNum.exec(value))&&ret[1]){value=adjustCSS(elem,name,ret);type="number";}
if(value==null||value!==value){return;}
if(type==="number"&&!isCustomProp){value+=ret&&ret[3]||(jQuery.cssNumber[origName]?"":"px");}
if(!support.clearCloneStyle&&value===""&&name.indexOf("background")===0){style[name]="inherit";}
if(!hooks||!("set"in hooks)||(value=hooks.set(elem,value,extra))!==undefined){if(isCustomProp){style.setProperty(name,value);}else{style[name]=value;}}}else{if(hooks&&"get"in hooks&&(ret=hooks.get(elem,false,extra))!==undefined){return ret;}
return style[name];}},css:function(elem,name,extra,styles){var val,num,hooks,origName=camelCase(name),isCustomProp=rcustomProp.test(name);if(!isCustomProp){name=finalPropName(origName);}
hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName];if(hooks&&"get"in hooks){val=hooks.get(elem,true,extra);}
if(val===undefined){val=curCSS(elem,name,styles);}
if(val==="normal"&&name in cssNormalTransform){val=cssNormalTransform[name];}
if(extra===""||extra){num=parseFloat(val);return extra===true||isFinite(num)?num||0:val;}
return val;}});jQuery.each(["height","width"],function(_i,dimension){jQuery.cssHooks[dimension]={get:function(elem,computed,extra){if(computed){return rdisplayswap.test(jQuery.css(elem,"display"))&&(!elem.getClientRects().length||!elem.getBoundingClientRect().width)?swap(elem,cssShow,function(){return getWidthOrHeight(elem,dimension,extra);}):getWidthOrHeight(elem,dimension,extra);}},set:function(elem,value,extra){var matches,styles=getStyles(elem),scrollboxSizeBuggy=!support.scrollboxSize()&&styles.position==="absolute",boxSizingNeeded=scrollboxSizeBuggy||extra,isBorderBox=boxSizingNeeded&&jQuery.css(elem,"boxSizing",false,styles)==="border-box",subtract=extra?boxModelAdjustment(elem,dimension,extra,isBorderBox,styles):0;if(isBorderBox&&scrollboxSizeBuggy){subtract-=Math.ceil(elem["offset"+dimension[0].toUpperCase()+dimension.slice(1)]-
parseFloat(styles[dimension])-
boxModelAdjustment(elem,dimension,"border",false,styles)-
0.5);}
if(subtract&&(matches=rcssNum.exec(value))&&(matches[3]||"px")!=="px"){elem.style[dimension]=value;value=jQuery.css(elem,dimension);}
return setPositiveNumber(elem,value,subtract);}};});jQuery.cssHooks.marginLeft=addGetHookIf(support.reliableMarginLeft,function(elem,computed){if(computed){return(parseFloat(curCSS(elem,"marginLeft"))||elem.getBoundingClientRect().left-
swap(elem,{marginLeft:0},function(){return elem.getBoundingClientRect().left;}))+"px";}});jQuery.each({margin:"",padding:"",border:"Width"},function(prefix,suffix){jQuery.cssHooks[prefix+suffix]={expand:function(value){var i=0,expanded={},parts=typeof value==="string"?value.split(" "):[value];for(;i<4;i++){expanded[prefix+cssExpand[i]+suffix]=parts[i]||parts[i-2]||parts[0];}
return expanded;}};if(prefix!=="margin"){jQuery.cssHooks[prefix+suffix].set=setPositiveNumber;}});jQuery.fn.extend({css:function(name,value){return access(this,function(elem,name,value){var styles,len,map={},i=0;if(Array.isArray(name)){styles=getStyles(elem);len=name.length;for(;i<len;i++){map[name[i]]=jQuery.css(elem,name[i],false,styles);}
return map;}
return value!==undefined?jQuery.style(elem,name,value):jQuery.css(elem,name);},name,value,arguments.length>1);}});function Tween(elem,options,prop,end,easing){return new Tween.prototype.init(elem,options,prop,end,easing);}
jQuery.Tween=Tween;Tween.prototype={constructor:Tween,init:function(elem,options,prop,end,easing,unit){this.elem=elem;this.prop=prop;this.easing=easing||jQuery.easing._default;this.options=options;this.start=this.now=this.cur();this.end=end;this.unit=unit||(jQuery.cssNumber[prop]?"":"px");},cur:function(){var hooks=Tween.propHooks[this.prop];return hooks&&hooks.get?hooks.get(this):Tween.propHooks._default.get(this);},run:function(percent){var eased,hooks=Tween.propHooks[this.prop];if(this.options.duration){this.pos=eased=jQuery.easing[this.easing](percent,this.options.duration*percent,0,1,this.options.duration);}else{this.pos=eased=percent;}
this.now=(this.end-this.start)*eased+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this);}
if(hooks&&hooks.set){hooks.set(this);}else{Tween.propHooks._default.set(this);}
return this;}};Tween.prototype.init.prototype=Tween.prototype;Tween.propHooks={_default:{get:function(tween){var result;if(tween.elem.nodeType!==1||tween.elem[tween.prop]!=null&&tween.elem.style[tween.prop]==null){return tween.elem[tween.prop];}
result=jQuery.css(tween.elem,tween.prop,"");return!result||result==="auto"?0:result;},set:function(tween){if(jQuery.fx.step[tween.prop]){jQuery.fx.step[tween.prop](tween);}else if(tween.elem.nodeType===1&&(jQuery.cssHooks[tween.prop]||tween.elem.style[finalPropName(tween.prop)]!=null)){jQuery.style(tween.elem,tween.prop,tween.now+tween.unit);}else{tween.elem[tween.prop]=tween.now;}}}};Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(tween){if(tween.elem.nodeType&&tween.elem.parentNode){tween.elem[tween.prop]=tween.now;}}};jQuery.easing={linear:function(p){return p;},swing:function(p){return 0.5-Math.cos(p*Math.PI)/2;},_default:"swing"};jQuery.fx=Tween.prototype.init;jQuery.fx.step={};var
fxNow,inProgress,rfxtypes=/^(?:toggle|show|hide)$/,rrun=/queueHooks$/;function schedule(){if(inProgress){if(document.hidden===false&&window.requestAnimationFrame){window.requestAnimationFrame(schedule);}else{window.setTimeout(schedule,jQuery.fx.interval);}
jQuery.fx.tick();}}
function createFxNow(){window.setTimeout(function(){fxNow=undefined;});return(fxNow=Date.now());}
function genFx(type,includeWidth){var which,i=0,attrs={height:type};includeWidth=includeWidth?1:0;for(;i<4;i+=2-includeWidth){which=cssExpand[i];attrs["margin"+which]=attrs["padding"+which]=type;}
if(includeWidth){attrs.opacity=attrs.width=type;}
return attrs;}
function createTween(value,prop,animation){var tween,collection=(Animation.tweeners[prop]||[]).concat(Animation.tweeners["*"]),index=0,length=collection.length;for(;index<length;index++){if((tween=collection[index].call(animation,prop,value))){return tween;}}}
function defaultPrefilter(elem,props,opts){var prop,value,toggle,hooks,oldfire,propTween,restoreDisplay,display,isBox="width"in props||"height"in props,anim=this,orig={},style=elem.style,hidden=elem.nodeType&&isHiddenWithinTree(elem),dataShow=dataPriv.get(elem,"fxshow");if(!opts.queue){hooks=jQuery._queueHooks(elem,"fx");if(hooks.unqueued==null){hooks.unqueued=0;oldfire=hooks.empty.fire;hooks.empty.fire=function(){if(!hooks.unqueued){oldfire();}};}
hooks.unqueued++;anim.always(function(){anim.always(function(){hooks.unqueued--;if(!jQuery.queue(elem,"fx").length){hooks.empty.fire();}});});}
for(prop in props){value=props[prop];if(rfxtypes.test(value)){delete props[prop];toggle=toggle||value==="toggle";if(value===(hidden?"hide":"show")){if(value==="show"&&dataShow&&dataShow[prop]!==undefined){hidden=true;}else{continue;}}
orig[prop]=dataShow&&dataShow[prop]||jQuery.style(elem,prop);}}
propTween=!jQuery.isEmptyObject(props);if(!propTween&&jQuery.isEmptyObject(orig)){return;}
if(isBox&&elem.nodeType===1){opts.overflow=[style.overflow,style.overflowX,style.overflowY];restoreDisplay=dataShow&&dataShow.display;if(restoreDisplay==null){restoreDisplay=dataPriv.get(elem,"display");}
display=jQuery.css(elem,"display");if(display==="none"){if(restoreDisplay){display=restoreDisplay;}else{showHide([elem],true);restoreDisplay=elem.style.display||restoreDisplay;display=jQuery.css(elem,"display");showHide([elem]);}}
if(display==="inline"||display==="inline-block"&&restoreDisplay!=null){if(jQuery.css(elem,"float")==="none"){if(!propTween){anim.done(function(){style.display=restoreDisplay;});if(restoreDisplay==null){display=style.display;restoreDisplay=display==="none"?"":display;}}
style.display="inline-block";}}}
if(opts.overflow){style.overflow="hidden";anim.always(function(){style.overflow=opts.overflow[0];style.overflowX=opts.overflow[1];style.overflowY=opts.overflow[2];});}
propTween=false;for(prop in orig){if(!propTween){if(dataShow){if("hidden"in dataShow){hidden=dataShow.hidden;}}else{dataShow=dataPriv.access(elem,"fxshow",{display:restoreDisplay});}
if(toggle){dataShow.hidden=!hidden;}
if(hidden){showHide([elem],true);}
anim.done(function(){if(!hidden){showHide([elem]);}
dataPriv.remove(elem,"fxshow");for(prop in orig){jQuery.style(elem,prop,orig[prop]);}});}
propTween=createTween(hidden?dataShow[prop]:0,prop,anim);if(!(prop in dataShow)){dataShow[prop]=propTween.start;if(hidden){propTween.end=propTween.start;propTween.start=0;}}}}
function propFilter(props,specialEasing){var index,name,easing,value,hooks;for(index in props){name=camelCase(index);easing=specialEasing[name];value=props[index];if(Array.isArray(value)){easing=value[1];value=props[index]=value[0];}
if(index!==name){props[name]=value;delete props[index];}
hooks=jQuery.cssHooks[name];if(hooks&&"expand"in hooks){value=hooks.expand(value);delete props[name];for(index in value){if(!(index in props)){props[index]=value[index];specialEasing[index]=easing;}}}else{specialEasing[name]=easing;}}}
function Animation(elem,properties,options){var result,stopped,index=0,length=Animation.prefilters.length,deferred=jQuery.Deferred().always(function(){delete tick.elem;}),tick=function(){if(stopped){return false;}
var currentTime=fxNow||createFxNow(),remaining=Math.max(0,animation.startTime+animation.duration-currentTime),temp=remaining/animation.duration||0,percent=1-temp,index=0,length=animation.tweens.length;for(;index<length;index++){animation.tweens[index].run(percent);}
deferred.notifyWith(elem,[animation,percent,remaining]);if(percent<1&&length){return remaining;}
if(!length){deferred.notifyWith(elem,[animation,1,0]);}
deferred.resolveWith(elem,[animation]);return false;},animation=deferred.promise({elem:elem,props:jQuery.extend({},properties),opts:jQuery.extend(true,{specialEasing:{},easing:jQuery.easing._default},options),originalProperties:properties,originalOptions:options,startTime:fxNow||createFxNow(),duration:options.duration,tweens:[],createTween:function(prop,end){var tween=jQuery.Tween(elem,animation.opts,prop,end,animation.opts.specialEasing[prop]||animation.opts.easing);animation.tweens.push(tween);return tween;},stop:function(gotoEnd){var index=0,length=gotoEnd?animation.tweens.length:0;if(stopped){return this;}
stopped=true;for(;index<length;index++){animation.tweens[index].run(1);}
if(gotoEnd){deferred.notifyWith(elem,[animation,1,0]);deferred.resolveWith(elem,[animation,gotoEnd]);}else{deferred.rejectWith(elem,[animation,gotoEnd]);}
return this;}}),props=animation.props;propFilter(props,animation.opts.specialEasing);for(;index<length;index++){result=Animation.prefilters[index].call(animation,elem,props,animation.opts);if(result){if(isFunction(result.stop)){jQuery._queueHooks(animation.elem,animation.opts.queue).stop=result.stop.bind(result);}
return result;}}
jQuery.map(props,createTween,animation);if(isFunction(animation.opts.start)){animation.opts.start.call(elem,animation);}
animation.progress(animation.opts.progress).done(animation.opts.done,animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always);jQuery.fx.timer(jQuery.extend(tick,{elem:elem,anim:animation,queue:animation.opts.queue}));return animation;}
jQuery.Animation=jQuery.extend(Animation,{tweeners:{"*":[function(prop,value){var tween=this.createTween(prop,value);adjustCSS(tween.elem,prop,rcssNum.exec(value),tween);return tween;}]},tweener:function(props,callback){if(isFunction(props)){callback=props;props=["*"];}else{props=props.match(rnothtmlwhite);}
var prop,index=0,length=props.length;for(;index<length;index++){prop=props[index];Animation.tweeners[prop]=Animation.tweeners[prop]||[];Animation.tweeners[prop].unshift(callback);}},prefilters:[defaultPrefilter],prefilter:function(callback,prepend){if(prepend){Animation.prefilters.unshift(callback);}else{Animation.prefilters.push(callback);}}});jQuery.speed=function(speed,easing,fn){var opt=speed&&typeof speed==="object"?jQuery.extend({},speed):{complete:fn||!fn&&easing||isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!isFunction(easing)&&easing};if(jQuery.fx.off){opt.duration=0;}else{if(typeof opt.duration!=="number"){if(opt.duration in jQuery.fx.speeds){opt.duration=jQuery.fx.speeds[opt.duration];}else{opt.duration=jQuery.fx.speeds._default;}}}
if(opt.queue==null||opt.queue===true){opt.queue="fx";}
opt.old=opt.complete;opt.complete=function(){if(isFunction(opt.old)){opt.old.call(this);}
if(opt.queue){jQuery.dequeue(this,opt.queue);}};return opt;};jQuery.fn.extend({fadeTo:function(speed,to,easing,callback){return this.filter(isHiddenWithinTree).css("opacity",0).show().end().animate({opacity:to},speed,easing,callback);},animate:function(prop,speed,easing,callback){var empty=jQuery.isEmptyObject(prop),optall=jQuery.speed(speed,easing,callback),doAnimation=function(){var anim=Animation(this,jQuery.extend({},prop),optall);if(empty||dataPriv.get(this,"finish")){anim.stop(true);}};doAnimation.finish=doAnimation;return empty||optall.queue===false?this.each(doAnimation):this.queue(optall.queue,doAnimation);},stop:function(type,clearQueue,gotoEnd){var stopQueue=function(hooks){var stop=hooks.stop;delete hooks.stop;stop(gotoEnd);};if(typeof type!=="string"){gotoEnd=clearQueue;clearQueue=type;type=undefined;}
if(clearQueue){this.queue(type||"fx",[]);}
return this.each(function(){var dequeue=true,index=type!=null&&type+"queueHooks",timers=jQuery.timers,data=dataPriv.get(this);if(index){if(data[index]&&data[index].stop){stopQueue(data[index]);}}else{for(index in data){if(data[index]&&data[index].stop&&rrun.test(index)){stopQueue(data[index]);}}}
for(index=timers.length;index--;){if(timers[index].elem===this&&(type==null||timers[index].queue===type)){timers[index].anim.stop(gotoEnd);dequeue=false;timers.splice(index,1);}}
if(dequeue||!gotoEnd){jQuery.dequeue(this,type);}});},finish:function(type){if(type!==false){type=type||"fx";}
return this.each(function(){var index,data=dataPriv.get(this),queue=data[type+"queue"],hooks=data[type+"queueHooks"],timers=jQuery.timers,length=queue?queue.length:0;data.finish=true;jQuery.queue(this,type,[]);if(hooks&&hooks.stop){hooks.stop.call(this,true);}
for(index=timers.length;index--;){if(timers[index].elem===this&&timers[index].queue===type){timers[index].anim.stop(true);timers.splice(index,1);}}
for(index=0;index<length;index++){if(queue[index]&&queue[index].finish){queue[index].finish.call(this);}}
delete data.finish;});}});jQuery.each(["toggle","show","hide"],function(_i,name){var cssFn=jQuery.fn[name];jQuery.fn[name]=function(speed,easing,callback){return speed==null||typeof speed==="boolean"?cssFn.apply(this,arguments):this.animate(genFx(name,true),speed,easing,callback);};});jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback);};});jQuery.timers=[];jQuery.fx.tick=function(){var timer,i=0,timers=jQuery.timers;fxNow=Date.now();for(;i<timers.length;i++){timer=timers[i];if(!timer()&&timers[i]===timer){timers.splice(i--,1);}}
if(!timers.length){jQuery.fx.stop();}
fxNow=undefined;};jQuery.fx.timer=function(timer){jQuery.timers.push(timer);jQuery.fx.start();};jQuery.fx.interval=13;jQuery.fx.start=function(){if(inProgress){return;}
inProgress=true;schedule();};jQuery.fx.stop=function(){inProgress=null;};jQuery.fx.speeds={slow:600,fast:200,_default:400};jQuery.fn.delay=function(time,type){time=jQuery.fx?jQuery.fx.speeds[time]||time:time;type=type||"fx";return this.queue(type,function(next,hooks){var timeout=window.setTimeout(next,time);hooks.stop=function(){window.clearTimeout(timeout);};});};(function(){var input=document.createElement("input"),select=document.createElement("select"),opt=select.appendChild(document.createElement("option"));input.type="checkbox";support.checkOn=input.value!=="";support.optSelected=opt.selected;input=document.createElement("input");input.value="t";input.type="radio";support.radioValue=input.value==="t";})();var boolHook,attrHandle=jQuery.expr.attrHandle;jQuery.fn.extend({attr:function(name,value){return access(this,jQuery.attr,name,value,arguments.length>1);},removeAttr:function(name){return this.each(function(){jQuery.removeAttr(this,name);});}});jQuery.extend({attr:function(elem,name,value){var ret,hooks,nType=elem.nodeType;if(nType===3||nType===8||nType===2){return;}
if(typeof elem.getAttribute==="undefined"){return jQuery.prop(elem,name,value);}
if(nType!==1||!jQuery.isXMLDoc(elem)){hooks=jQuery.attrHooks[name.toLowerCase()]||(jQuery.expr.match.bool.test(name)?boolHook:undefined);}
if(value!==undefined){if(value===null){jQuery.removeAttr(elem,name);return;}
if(hooks&&"set"in hooks&&(ret=hooks.set(elem,value,name))!==undefined){return ret;}
elem.setAttribute(name,value+"");return value;}
if(hooks&&"get"in hooks&&(ret=hooks.get(elem,name))!==null){return ret;}
ret=jQuery.find.attr(elem,name);return ret==null?undefined:ret;},attrHooks:{type:{set:function(elem,value){if(!support.radioValue&&value==="radio"&&nodeName(elem,"input")){var val=elem.value;elem.setAttribute("type",value);if(val){elem.value=val;}
return value;}}}},removeAttr:function(elem,value){var name,i=0,attrNames=value&&value.match(rnothtmlwhite);if(attrNames&&elem.nodeType===1){while((name=attrNames[i++])){elem.removeAttribute(name);}}}});boolHook={set:function(elem,value,name){if(value===false){jQuery.removeAttr(elem,name);}else{elem.setAttribute(name,name);}
return name;}};jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g),function(_i,name){var getter=attrHandle[name]||jQuery.find.attr;attrHandle[name]=function(elem,name,isXML){var ret,handle,lowercaseName=name.toLowerCase();if(!isXML){handle=attrHandle[lowercaseName];attrHandle[lowercaseName]=ret;ret=getter(elem,name,isXML)!=null?lowercaseName:null;attrHandle[lowercaseName]=handle;}
return ret;};});var rfocusable=/^(?:input|select|textarea|button)$/i,rclickable=/^(?:a|area)$/i;jQuery.fn.extend({prop:function(name,value){return access(this,jQuery.prop,name,value,arguments.length>1);},removeProp:function(name){return this.each(function(){delete this[jQuery.propFix[name]||name];});}});jQuery.extend({prop:function(elem,name,value){var ret,hooks,nType=elem.nodeType;if(nType===3||nType===8||nType===2){return;}
if(nType!==1||!jQuery.isXMLDoc(elem)){name=jQuery.propFix[name]||name;hooks=jQuery.propHooks[name];}
if(value!==undefined){if(hooks&&"set"in hooks&&(ret=hooks.set(elem,value,name))!==undefined){return ret;}
return(elem[name]=value);}
if(hooks&&"get"in hooks&&(ret=hooks.get(elem,name))!==null){return ret;}
return elem[name];},propHooks:{tabIndex:{get:function(elem){var tabindex=jQuery.find.attr(elem,"tabindex");if(tabindex){return parseInt(tabindex,10);}
if(rfocusable.test(elem.nodeName)||rclickable.test(elem.nodeName)&&elem.href){return 0;}
return-1;}}},propFix:{"for":"htmlFor","class":"className"}});if(!support.optSelected){jQuery.propHooks.selected={get:function(elem){var parent=elem.parentNode;if(parent&&parent.parentNode){parent.parentNode.selectedIndex;}
return null;},set:function(elem){var parent=elem.parentNode;if(parent){parent.selectedIndex;if(parent.parentNode){parent.parentNode.selectedIndex;}}}};}
jQuery.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){jQuery.propFix[this.toLowerCase()]=this;});function stripAndCollapse(value){var tokens=value.match(rnothtmlwhite)||[];return tokens.join(" ");}
function getClass(elem){return elem.getAttribute&&elem.getAttribute("class")||"";}
function classesToArray(value){if(Array.isArray(value)){return value;}
if(typeof value==="string"){return value.match(rnothtmlwhite)||[];}
return[];}
jQuery.fn.extend({addClass:function(value){var classes,elem,cur,curValue,clazz,j,finalValue,i=0;if(isFunction(value)){return this.each(function(j){jQuery(this).addClass(value.call(this,j,getClass(this)));});}
classes=classesToArray(value);if(classes.length){while((elem=this[i++])){curValue=getClass(elem);cur=elem.nodeType===1&&(" "+stripAndCollapse(curValue)+" ");if(cur){j=0;while((clazz=classes[j++])){if(cur.indexOf(" "+clazz+" ")<0){cur+=clazz+" ";}}
finalValue=stripAndCollapse(cur);if(curValue!==finalValue){elem.setAttribute("class",finalValue);}}}}
return this;},removeClass:function(value){var classes,elem,cur,curValue,clazz,j,finalValue,i=0;if(isFunction(value)){return this.each(function(j){jQuery(this).removeClass(value.call(this,j,getClass(this)));});}
if(!arguments.length){return this.attr("class","");}
classes=classesToArray(value);if(classes.length){while((elem=this[i++])){curValue=getClass(elem);cur=elem.nodeType===1&&(" "+stripAndCollapse(curValue)+" ");if(cur){j=0;while((clazz=classes[j++])){while(cur.indexOf(" "+clazz+" ")>-1){cur=cur.replace(" "+clazz+" "," ");}}
finalValue=stripAndCollapse(cur);if(curValue!==finalValue){elem.setAttribute("class",finalValue);}}}}
return this;},toggleClass:function(value,stateVal){var type=typeof value,isValidValue=type==="string"||Array.isArray(value);if(typeof stateVal==="boolean"&&isValidValue){return stateVal?this.addClass(value):this.removeClass(value);}
if(isFunction(value)){return this.each(function(i){jQuery(this).toggleClass(value.call(this,i,getClass(this),stateVal),stateVal);});}
return this.each(function(){var className,i,self,classNames;if(isValidValue){i=0;self=jQuery(this);classNames=classesToArray(value);while((className=classNames[i++])){if(self.hasClass(className)){self.removeClass(className);}else{self.addClass(className);}}}else if(value===undefined||type==="boolean"){className=getClass(this);if(className){dataPriv.set(this,"__className__",className);}
if(this.setAttribute){this.setAttribute("class",className||value===false?"":dataPriv.get(this,"__className__")||"");}}});},hasClass:function(selector){var className,elem,i=0;className=" "+selector+" ";while((elem=this[i++])){if(elem.nodeType===1&&(" "+stripAndCollapse(getClass(elem))+" ").indexOf(className)>-1){return true;}}
return false;}});var rreturn=/\r/g;jQuery.fn.extend({val:function(value){var hooks,ret,valueIsFunction,elem=this[0];if(!arguments.length){if(elem){hooks=jQuery.valHooks[elem.type]||jQuery.valHooks[elem.nodeName.toLowerCase()];if(hooks&&"get"in hooks&&(ret=hooks.get(elem,"value"))!==undefined){return ret;}
ret=elem.value;if(typeof ret==="string"){return ret.replace(rreturn,"");}
return ret==null?"":ret;}
return;}
valueIsFunction=isFunction(value);return this.each(function(i){var val;if(this.nodeType!==1){return;}
if(valueIsFunction){val=value.call(this,i,jQuery(this).val());}else{val=value;}
if(val==null){val="";}else if(typeof val==="number"){val+="";}else if(Array.isArray(val)){val=jQuery.map(val,function(value){return value==null?"":value+"";});}
hooks=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()];if(!hooks||!("set"in hooks)||hooks.set(this,val,"value")===undefined){this.value=val;}});}});jQuery.extend({valHooks:{option:{get:function(elem){var val=jQuery.find.attr(elem,"value");return val!=null?val:stripAndCollapse(jQuery.text(elem));}},select:{get:function(elem){var value,option,i,options=elem.options,index=elem.selectedIndex,one=elem.type==="select-one",values=one?null:[],max=one?index+1:options.length;if(index<0){i=max;}else{i=one?index:0;}
for(;i<max;i++){option=options[i];if((option.selected||i===index)&&!option.disabled&&(!option.parentNode.disabled||!nodeName(option.parentNode,"optgroup"))){value=jQuery(option).val();if(one){return value;}
values.push(value);}}
return values;},set:function(elem,value){var optionSet,option,options=elem.options,values=jQuery.makeArray(value),i=options.length;while(i--){option=options[i];if(option.selected=jQuery.inArray(jQuery.valHooks.option.get(option),values)>-1){optionSet=true;}}
if(!optionSet){elem.selectedIndex=-1;}
return values;}}}});jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={set:function(elem,value){if(Array.isArray(value)){return(elem.checked=jQuery.inArray(jQuery(elem).val(),value)>-1);}}};if(!support.checkOn){jQuery.valHooks[this].get=function(elem){return elem.getAttribute("value")===null?"on":elem.value;};}});support.focusin="onfocusin"in window;var rfocusMorph=/^(?:focusinfocus|focusoutblur)$/,stopPropagationCallback=function(e){e.stopPropagation();};jQuery.extend(jQuery.event,{trigger:function(event,data,elem,onlyHandlers){var i,cur,tmp,bubbleType,ontype,handle,special,lastElement,eventPath=[elem||document],type=hasOwn.call(event,"type")?event.type:event,namespaces=hasOwn.call(event,"namespace")?event.namespace.split("."):[];cur=lastElement=tmp=elem=elem||document;if(elem.nodeType===3||elem.nodeType===8){return;}
if(rfocusMorph.test(type+jQuery.event.triggered)){return;}
if(type.indexOf(".")>-1){namespaces=type.split(".");type=namespaces.shift();namespaces.sort();}
ontype=type.indexOf(":")<0&&"on"+type;event=event[jQuery.expando]?event:new jQuery.Event(type,typeof event==="object"&&event);event.isTrigger=onlyHandlers?2:3;event.namespace=namespaces.join(".");event.rnamespace=event.namespace?new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;event.result=undefined;if(!event.target){event.target=elem;}
data=data==null?[event]:jQuery.makeArray(data,[event]);special=jQuery.event.special[type]||{};if(!onlyHandlers&&special.trigger&&special.trigger.apply(elem,data)===false){return;}
if(!onlyHandlers&&!special.noBubble&&!isWindow(elem)){bubbleType=special.delegateType||type;if(!rfocusMorph.test(bubbleType+type)){cur=cur.parentNode;}
for(;cur;cur=cur.parentNode){eventPath.push(cur);tmp=cur;}
if(tmp===(elem.ownerDocument||document)){eventPath.push(tmp.defaultView||tmp.parentWindow||window);}}
i=0;while((cur=eventPath[i++])&&!event.isPropagationStopped()){lastElement=cur;event.type=i>1?bubbleType:special.bindType||type;handle=(dataPriv.get(cur,"events")||Object.create(null))[event.type]&&dataPriv.get(cur,"handle");if(handle){handle.apply(cur,data);}
handle=ontype&&cur[ontype];if(handle&&handle.apply&&acceptData(cur)){event.result=handle.apply(cur,data);if(event.result===false){event.preventDefault();}}}
event.type=type;if(!onlyHandlers&&!event.isDefaultPrevented()){if((!special._default||special._default.apply(eventPath.pop(),data)===false)&&acceptData(elem)){if(ontype&&isFunction(elem[type])&&!isWindow(elem)){tmp=elem[ontype];if(tmp){elem[ontype]=null;}
jQuery.event.triggered=type;if(event.isPropagationStopped()){lastElement.addEventListener(type,stopPropagationCallback);}
elem[type]();if(event.isPropagationStopped()){lastElement.removeEventListener(type,stopPropagationCallback);}
jQuery.event.triggered=undefined;if(tmp){elem[ontype]=tmp;}}}}
return event.result;},simulate:function(type,elem,event){var e=jQuery.extend(new jQuery.Event(),event,{type:type,isSimulated:true});jQuery.event.trigger(e,null,elem);}});jQuery.fn.extend({trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this);});},triggerHandler:function(type,data){var elem=this[0];if(elem){return jQuery.event.trigger(type,data,elem,true);}}});if(!support.focusin){jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){var handler=function(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event));};jQuery.event.special[fix]={setup:function(){var doc=this.ownerDocument||this.document||this,attaches=dataPriv.access(doc,fix);if(!attaches){doc.addEventListener(orig,handler,true);}
dataPriv.access(doc,fix,(attaches||0)+1);},teardown:function(){var doc=this.ownerDocument||this.document||this,attaches=dataPriv.access(doc,fix)-1;if(!attaches){doc.removeEventListener(orig,handler,true);dataPriv.remove(doc,fix);}else{dataPriv.access(doc,fix,attaches);}}};});}
var location=window.location;var nonce={guid:Date.now()};var rquery=(/\?/);jQuery.parseXML=function(data){var xml;if(!data||typeof data!=="string"){return null;}
try{xml=(new window.DOMParser()).parseFromString(data,"text/xml");}catch(e){xml=undefined;}
if(!xml||xml.getElementsByTagName("parsererror").length){jQuery.error("Invalid XML: "+data);}
return xml;};var
rbracket=/\[\]$/,rCRLF=/\r?\n/g,rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i;function buildParams(prefix,obj,traditional,add){var name;if(Array.isArray(obj)){jQuery.each(obj,function(i,v){if(traditional||rbracket.test(prefix)){add(prefix,v);}else{buildParams(prefix+"["+(typeof v==="object"&&v!=null?i:"")+"]",v,traditional,add);}});}else if(!traditional&&toType(obj)==="object"){for(name in obj){buildParams(prefix+"["+name+"]",obj[name],traditional,add);}}else{add(prefix,obj);}}
jQuery.param=function(a,traditional){var prefix,s=[],add=function(key,valueOrFunction){var value=isFunction(valueOrFunction)?valueOrFunction():valueOrFunction;s[s.length]=encodeURIComponent(key)+"="+
encodeURIComponent(value==null?"":value);};if(a==null){return"";}
if(Array.isArray(a)||(a.jquery&&!jQuery.isPlainObject(a))){jQuery.each(a,function(){add(this.name,this.value);});}else{for(prefix in a){buildParams(prefix,a[prefix],traditional,add);}}
return s.join("&");};jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray());},serializeArray:function(){return this.map(function(){var elements=jQuery.prop(this,"elements");return elements?jQuery.makeArray(elements):this;}).filter(function(){var type=this.type;return this.name&&!jQuery(this).is(":disabled")&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(type)&&(this.checked||!rcheckableType.test(type));}).map(function(_i,elem){var val=jQuery(this).val();if(val==null){return null;}
if(Array.isArray(val)){return jQuery.map(val,function(val){return{name:elem.name,value:val.replace(rCRLF,"\r\n")};});}
return{name:elem.name,value:val.replace(rCRLF,"\r\n")};}).get();}});var
r20=/%20/g,rhash=/#.*$/,rantiCache=/([?&])_=[^&]*/,rheaders=/^(.*?):[ \t]*([^\r\n]*)$/mg,rlocalProtocol=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,prefilters={},transports={},allTypes="*/".concat("*"),originAnchor=document.createElement("a");originAnchor.href=location.href;function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){if(typeof dataTypeExpression!=="string"){func=dataTypeExpression;dataTypeExpression="*";}
var dataType,i=0,dataTypes=dataTypeExpression.toLowerCase().match(rnothtmlwhite)||[];if(isFunction(func)){while((dataType=dataTypes[i++])){if(dataType[0]==="+"){dataType=dataType.slice(1)||"*";(structure[dataType]=structure[dataType]||[]).unshift(func);}else{(structure[dataType]=structure[dataType]||[]).push(func);}}}};}
function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR){var inspected={},seekingTransport=(structure===transports);function inspect(dataType){var selected;inspected[dataType]=true;jQuery.each(structure[dataType]||[],function(_,prefilterOrFactory){var dataTypeOrTransport=prefilterOrFactory(options,originalOptions,jqXHR);if(typeof dataTypeOrTransport==="string"&&!seekingTransport&&!inspected[dataTypeOrTransport]){options.dataTypes.unshift(dataTypeOrTransport);inspect(dataTypeOrTransport);return false;}else if(seekingTransport){return!(selected=dataTypeOrTransport);}});return selected;}
return inspect(options.dataTypes[0])||!inspected["*"]&&inspect("*");}
function ajaxExtend(target,src){var key,deep,flatOptions=jQuery.ajaxSettings.flatOptions||{};for(key in src){if(src[key]!==undefined){(flatOptions[key]?target:(deep||(deep={})))[key]=src[key];}}
if(deep){jQuery.extend(true,target,deep);}
return target;}
function ajaxHandleResponses(s,jqXHR,responses){var ct,type,finalDataType,firstDataType,contents=s.contents,dataTypes=s.dataTypes;while(dataTypes[0]==="*"){dataTypes.shift();if(ct===undefined){ct=s.mimeType||jqXHR.getResponseHeader("Content-Type");}}
if(ct){for(type in contents){if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);break;}}}
if(dataTypes[0]in responses){finalDataType=dataTypes[0];}else{for(type in responses){if(!dataTypes[0]||s.converters[type+" "+dataTypes[0]]){finalDataType=type;break;}
if(!firstDataType){firstDataType=type;}}
finalDataType=finalDataType||firstDataType;}
if(finalDataType){if(finalDataType!==dataTypes[0]){dataTypes.unshift(finalDataType);}
return responses[finalDataType];}}
function ajaxConvert(s,response,jqXHR,isSuccess){var conv2,current,conv,tmp,prev,converters={},dataTypes=s.dataTypes.slice();if(dataTypes[1]){for(conv in s.converters){converters[conv.toLowerCase()]=s.converters[conv];}}
current=dataTypes.shift();while(current){if(s.responseFields[current]){jqXHR[s.responseFields[current]]=response;}
if(!prev&&isSuccess&&s.dataFilter){response=s.dataFilter(response,s.dataType);}
prev=current;current=dataTypes.shift();if(current){if(current==="*"){current=prev;}else if(prev!=="*"&&prev!==current){conv=converters[prev+" "+current]||converters["* "+current];if(!conv){for(conv2 in converters){tmp=conv2.split(" ");if(tmp[1]===current){conv=converters[prev+" "+tmp[0]]||converters["* "+tmp[0]];if(conv){if(conv===true){conv=converters[conv2];}else if(converters[conv2]!==true){current=tmp[0];dataTypes.unshift(tmp[1]);}
break;}}}}
if(conv!==true){if(conv&&s.throws){response=conv(response);}else{try{response=conv(response);}catch(e){return{state:"parsererror",error:conv?e:"No conversion from "+prev+" to "+current};}}}}}}
return{state:"success",data:response};}
jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:location.href,type:"GET",isLocal:rlocalProtocol.test(location.protocol),global:true,processData:true,async:true,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":allTypes,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":true,"text json":JSON.parse,"text xml":jQuery.parseXML},flatOptions:{url:true,context:true}},ajaxSetup:function(target,settings){return settings?ajaxExtend(ajaxExtend(target,jQuery.ajaxSettings),settings):ajaxExtend(jQuery.ajaxSettings,target);},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(url,options){if(typeof url==="object"){options=url;url=undefined;}
options=options||{};var transport,cacheURL,responseHeadersString,responseHeaders,timeoutTimer,urlAnchor,completed,fireGlobals,i,uncached,s=jQuery.ajaxSetup({},options),callbackContext=s.context||s,globalEventContext=s.context&&(callbackContext.nodeType||callbackContext.jquery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks("once memory"),statusCode=s.statusCode||{},requestHeaders={},requestHeadersNames={},strAbort="canceled",jqXHR={readyState:0,getResponseHeader:function(key){var match;if(completed){if(!responseHeaders){responseHeaders={};while((match=rheaders.exec(responseHeadersString))){responseHeaders[match[1].toLowerCase()+" "]=(responseHeaders[match[1].toLowerCase()+" "]||[]).concat(match[2]);}}
match=responseHeaders[key.toLowerCase()+" "];}
return match==null?null:match.join(", ");},getAllResponseHeaders:function(){return completed?responseHeadersString:null;},setRequestHeader:function(name,value){if(completed==null){name=requestHeadersNames[name.toLowerCase()]=requestHeadersNames[name.toLowerCase()]||name;requestHeaders[name]=value;}
return this;},overrideMimeType:function(type){if(completed==null){s.mimeType=type;}
return this;},statusCode:function(map){var code;if(map){if(completed){jqXHR.always(map[jqXHR.status]);}else{for(code in map){statusCode[code]=[statusCode[code],map[code]];}}}
return this;},abort:function(statusText){var finalText=statusText||strAbort;if(transport){transport.abort(finalText);}
done(0,finalText);return this;}};deferred.promise(jqXHR);s.url=((url||s.url||location.href)+"").replace(rprotocol,location.protocol+"//");s.type=options.method||options.type||s.method||s.type;s.dataTypes=(s.dataType||"*").toLowerCase().match(rnothtmlwhite)||[""];if(s.crossDomain==null){urlAnchor=document.createElement("a");try{urlAnchor.href=s.url;urlAnchor.href=urlAnchor.href;s.crossDomain=originAnchor.protocol+"//"+originAnchor.host!==urlAnchor.protocol+"//"+urlAnchor.host;}catch(e){s.crossDomain=true;}}
if(s.data&&s.processData&&typeof s.data!=="string"){s.data=jQuery.param(s.data,s.traditional);}
inspectPrefiltersOrTransports(prefilters,s,options,jqXHR);if(completed){return jqXHR;}
fireGlobals=jQuery.event&&s.global;if(fireGlobals&&jQuery.active++===0){jQuery.event.trigger("ajaxStart");}
s.type=s.type.toUpperCase();s.hasContent=!rnoContent.test(s.type);cacheURL=s.url.replace(rhash,"");if(!s.hasContent){uncached=s.url.slice(cacheURL.length);if(s.data&&(s.processData||typeof s.data==="string")){cacheURL+=(rquery.test(cacheURL)?"&":"?")+s.data;delete s.data;}
if(s.cache===false){cacheURL=cacheURL.replace(rantiCache,"$1");uncached=(rquery.test(cacheURL)?"&":"?")+"_="+(nonce.guid++)+
uncached;}
s.url=cacheURL+uncached;}else if(s.data&&s.processData&&(s.contentType||"").indexOf("application/x-www-form-urlencoded")===0){s.data=s.data.replace(r20,"+");}
if(s.ifModified){if(jQuery.lastModified[cacheURL]){jqXHR.setRequestHeader("If-Modified-Since",jQuery.lastModified[cacheURL]);}
if(jQuery.etag[cacheURL]){jqXHR.setRequestHeader("If-None-Match",jQuery.etag[cacheURL]);}}
if(s.data&&s.hasContent&&s.contentType!==false||options.contentType){jqXHR.setRequestHeader("Content-Type",s.contentType);}
jqXHR.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+
(s.dataTypes[0]!=="*"?", "+allTypes+"; q=0.01":""):s.accepts["*"]);for(i in s.headers){jqXHR.setRequestHeader(i,s.headers[i]);}
if(s.beforeSend&&(s.beforeSend.call(callbackContext,jqXHR,s)===false||completed)){return jqXHR.abort();}
strAbort="abort";completeDeferred.add(s.complete);jqXHR.done(s.success);jqXHR.fail(s.error);transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR);if(!transport){done(-1,"No Transport");}else{jqXHR.readyState=1;if(fireGlobals){globalEventContext.trigger("ajaxSend",[jqXHR,s]);}
if(completed){return jqXHR;}
if(s.async&&s.timeout>0){timeoutTimer=window.setTimeout(function(){jqXHR.abort("timeout");},s.timeout);}
try{completed=false;transport.send(requestHeaders,done);}catch(e){if(completed){throw e;}
done(-1,e);}}
function done(status,nativeStatusText,responses,headers){var isSuccess,success,error,response,modified,statusText=nativeStatusText;if(completed){return;}
completed=true;if(timeoutTimer){window.clearTimeout(timeoutTimer);}
transport=undefined;responseHeadersString=headers||"";jqXHR.readyState=status>0?4:0;isSuccess=status>=200&&status<300||status===304;if(responses){response=ajaxHandleResponses(s,jqXHR,responses);}
if(!isSuccess&&jQuery.inArray("script",s.dataTypes)>-1){s.converters["text script"]=function(){};}
response=ajaxConvert(s,response,jqXHR,isSuccess);if(isSuccess){if(s.ifModified){modified=jqXHR.getResponseHeader("Last-Modified");if(modified){jQuery.lastModified[cacheURL]=modified;}
modified=jqXHR.getResponseHeader("etag");if(modified){jQuery.etag[cacheURL]=modified;}}
if(status===204||s.type==="HEAD"){statusText="nocontent";}else if(status===304){statusText="notmodified";}else{statusText=response.state;success=response.data;error=response.error;isSuccess=!error;}}else{error=statusText;if(status||!statusText){statusText="error";if(status<0){status=0;}}}
jqXHR.status=status;jqXHR.statusText=(nativeStatusText||statusText)+"";if(isSuccess){deferred.resolveWith(callbackContext,[success,statusText,jqXHR]);}else{deferred.rejectWith(callbackContext,[jqXHR,statusText,error]);}
jqXHR.statusCode(statusCode);statusCode=undefined;if(fireGlobals){globalEventContext.trigger(isSuccess?"ajaxSuccess":"ajaxError",[jqXHR,s,isSuccess?success:error]);}
completeDeferred.fireWith(callbackContext,[jqXHR,statusText]);if(fireGlobals){globalEventContext.trigger("ajaxComplete",[jqXHR,s]);if(!(--jQuery.active)){jQuery.event.trigger("ajaxStop");}}}
return jqXHR;},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json");},getScript:function(url,callback){return jQuery.get(url,undefined,callback,"script");}});jQuery.each(["get","post"],function(_i,method){jQuery[method]=function(url,data,callback,type){if(isFunction(data)){type=type||callback;callback=data;data=undefined;}
return jQuery.ajax(jQuery.extend({url:url,type:method,dataType:type,data:data,success:callback},jQuery.isPlainObject(url)&&url));};});jQuery.ajaxPrefilter(function(s){var i;for(i in s.headers){if(i.toLowerCase()==="content-type"){s.contentType=s.headers[i]||"";}}});jQuery._evalUrl=function(url,options,doc){return jQuery.ajax({url:url,type:"GET",dataType:"script",cache:true,async:false,global:false,converters:{"text script":function(){}},dataFilter:function(response){jQuery.globalEval(response,options,doc);}});};jQuery.fn.extend({wrapAll:function(html){var wrap;if(this[0]){if(isFunction(html)){html=html.call(this[0]);}
wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){wrap.insertBefore(this[0]);}
wrap.map(function(){var elem=this;while(elem.firstElementChild){elem=elem.firstElementChild;}
return elem;}).append(this);}
return this;},wrapInner:function(html){if(isFunction(html)){return this.each(function(i){jQuery(this).wrapInner(html.call(this,i));});}
return this.each(function(){var self=jQuery(this),contents=self.contents();if(contents.length){contents.wrapAll(html);}else{self.append(html);}});},wrap:function(html){var htmlIsFunction=isFunction(html);return this.each(function(i){jQuery(this).wrapAll(htmlIsFunction?html.call(this,i):html);});},unwrap:function(selector){this.parent(selector).not("body").each(function(){jQuery(this).replaceWith(this.childNodes);});return this;}});jQuery.expr.pseudos.hidden=function(elem){return!jQuery.expr.pseudos.visible(elem);};jQuery.expr.pseudos.visible=function(elem){return!!(elem.offsetWidth||elem.offsetHeight||elem.getClientRects().length);};jQuery.ajaxSettings.xhr=function(){try{return new window.XMLHttpRequest();}catch(e){}};var xhrSuccessStatus={0:200,1223:204},xhrSupported=jQuery.ajaxSettings.xhr();support.cors=!!xhrSupported&&("withCredentials"in xhrSupported);support.ajax=xhrSupported=!!xhrSupported;jQuery.ajaxTransport(function(options){var callback,errorCallback;if(support.cors||xhrSupported&&!options.crossDomain){return{send:function(headers,complete){var i,xhr=options.xhr();xhr.open(options.type,options.url,options.async,options.username,options.password);if(options.xhrFields){for(i in options.xhrFields){xhr[i]=options.xhrFields[i];}}
if(options.mimeType&&xhr.overrideMimeType){xhr.overrideMimeType(options.mimeType);}
if(!options.crossDomain&&!headers["X-Requested-With"]){headers["X-Requested-With"]="XMLHttpRequest";}
for(i in headers){xhr.setRequestHeader(i,headers[i]);}
callback=function(type){return function(){if(callback){callback=errorCallback=xhr.onload=xhr.onerror=xhr.onabort=xhr.ontimeout=xhr.onreadystatechange=null;if(type==="abort"){xhr.abort();}else if(type==="error"){if(typeof xhr.status!=="number"){complete(0,"error");}else{complete(xhr.status,xhr.statusText);}}else{complete(xhrSuccessStatus[xhr.status]||xhr.status,xhr.statusText,(xhr.responseType||"text")!=="text"||typeof xhr.responseText!=="string"?{binary:xhr.response}:{text:xhr.responseText},xhr.getAllResponseHeaders());}}};};xhr.onload=callback();errorCallback=xhr.onerror=xhr.ontimeout=callback("error");if(xhr.onabort!==undefined){xhr.onabort=errorCallback;}else{xhr.onreadystatechange=function(){if(xhr.readyState===4){window.setTimeout(function(){if(callback){errorCallback();}});}};}
callback=callback("abort");try{xhr.send(options.hasContent&&options.data||null);}catch(e){if(callback){throw e;}}},abort:function(){if(callback){callback();}}};}});jQuery.ajaxPrefilter(function(s){if(s.crossDomain){s.contents.script=false;}});jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, "+"application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(text){jQuery.globalEval(text);return text;}}});jQuery.ajaxPrefilter("script",function(s){if(s.cache===undefined){s.cache=false;}
if(s.crossDomain){s.type="GET";}});jQuery.ajaxTransport("script",function(s){if(s.crossDomain||s.scriptAttrs){var script,callback;return{send:function(_,complete){script=jQuery("<script>").attr(s.scriptAttrs||{}).prop({charset:s.scriptCharset,src:s.url}).on("load error",callback=function(evt){script.remove();callback=null;if(evt){complete(evt.type==="error"?404:200,evt.type);}});document.head.appendChild(script[0]);},abort:function(){if(callback){callback();}}};}});var oldCallbacks=[],rjsonp=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var callback=oldCallbacks.pop()||(jQuery.expando+"_"+(nonce.guid++));this[callback]=true;return callback;}});jQuery.ajaxPrefilter("json jsonp",function(s,originalSettings,jqXHR){var callbackName,overwritten,responseContainer,jsonProp=s.jsonp!==false&&(rjsonp.test(s.url)?"url":typeof s.data==="string"&&(s.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&rjsonp.test(s.data)&&"data");if(jsonProp||s.dataTypes[0]==="jsonp"){callbackName=s.jsonpCallback=isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback;if(jsonProp){s[jsonProp]=s[jsonProp].replace(rjsonp,"$1"+callbackName);}else if(s.jsonp!==false){s.url+=(rquery.test(s.url)?"&":"?")+s.jsonp+"="+callbackName;}
s.converters["script json"]=function(){if(!responseContainer){jQuery.error(callbackName+" was not called");}
return responseContainer[0];};s.dataTypes[0]="json";overwritten=window[callbackName];window[callbackName]=function(){responseContainer=arguments;};jqXHR.always(function(){if(overwritten===undefined){jQuery(window).removeProp(callbackName);}else{window[callbackName]=overwritten;}
if(s[callbackName]){s.jsonpCallback=originalSettings.jsonpCallback;oldCallbacks.push(callbackName);}
if(responseContainer&&isFunction(overwritten)){overwritten(responseContainer[0]);}
responseContainer=overwritten=undefined;});return"script";}});support.createHTMLDocument=(function(){var body=document.implementation.createHTMLDocument("").body;body.innerHTML="<form></form><form></form>";return body.childNodes.length===2;})();jQuery.parseHTML=function(data,context,keepScripts){if(typeof data!=="string"){return[];}
if(typeof context==="boolean"){keepScripts=context;context=false;}
var base,parsed,scripts;if(!context){if(support.createHTMLDocument){context=document.implementation.createHTMLDocument("");base=context.createElement("base");base.href=document.location.href;context.head.appendChild(base);}else{context=document;}}
parsed=rsingleTag.exec(data);scripts=!keepScripts&&[];if(parsed){return[context.createElement(parsed[1])];}
parsed=buildFragment([data],context,scripts);if(scripts&&scripts.length){jQuery(scripts).remove();}
return jQuery.merge([],parsed.childNodes);};jQuery.fn.load=function(url,params,callback){var selector,type,response,self=this,off=url.indexOf(" ");if(off>-1){selector=stripAndCollapse(url.slice(off));url=url.slice(0,off);}
if(isFunction(params)){callback=params;params=undefined;}else if(params&&typeof params==="object"){type="POST";}
if(self.length>0){jQuery.ajax({url:url,type:type||"GET",dataType:"html",data:params}).done(function(responseText){response=arguments;self.html(selector?jQuery("<div>").append(jQuery.parseHTML(responseText)).find(selector):responseText);}).always(callback&&function(jqXHR,status){self.each(function(){callback.apply(this,response||[jqXHR.responseText,status,jqXHR]);});});}
return this;};jQuery.expr.pseudos.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem;}).length;};jQuery.offset={setOffset:function(elem,options,i){var curPosition,curLeft,curCSSTop,curTop,curOffset,curCSSLeft,calculatePosition,position=jQuery.css(elem,"position"),curElem=jQuery(elem),props={};if(position==="static"){elem.style.position="relative";}
curOffset=curElem.offset();curCSSTop=jQuery.css(elem,"top");curCSSLeft=jQuery.css(elem,"left");calculatePosition=(position==="absolute"||position==="fixed")&&(curCSSTop+curCSSLeft).indexOf("auto")>-1;if(calculatePosition){curPosition=curElem.position();curTop=curPosition.top;curLeft=curPosition.left;}else{curTop=parseFloat(curCSSTop)||0;curLeft=parseFloat(curCSSLeft)||0;}
if(isFunction(options)){options=options.call(elem,i,jQuery.extend({},curOffset));}
if(options.top!=null){props.top=(options.top-curOffset.top)+curTop;}
if(options.left!=null){props.left=(options.left-curOffset.left)+curLeft;}
if("using"in options){options.using.call(elem,props);}else{if(typeof props.top==="number"){props.top+="px";}
if(typeof props.left==="number"){props.left+="px";}
curElem.css(props);}}};jQuery.fn.extend({offset:function(options){if(arguments.length){return options===undefined?this:this.each(function(i){jQuery.offset.setOffset(this,options,i);});}
var rect,win,elem=this[0];if(!elem){return;}
if(!elem.getClientRects().length){return{top:0,left:0};}
rect=elem.getBoundingClientRect();win=elem.ownerDocument.defaultView;return{top:rect.top+win.pageYOffset,left:rect.left+win.pageXOffset};},position:function(){if(!this[0]){return;}
var offsetParent,offset,doc,elem=this[0],parentOffset={top:0,left:0};if(jQuery.css(elem,"position")==="fixed"){offset=elem.getBoundingClientRect();}else{offset=this.offset();doc=elem.ownerDocument;offsetParent=elem.offsetParent||doc.documentElement;while(offsetParent&&(offsetParent===doc.body||offsetParent===doc.documentElement)&&jQuery.css(offsetParent,"position")==="static"){offsetParent=offsetParent.parentNode;}
if(offsetParent&&offsetParent!==elem&&offsetParent.nodeType===1){parentOffset=jQuery(offsetParent).offset();parentOffset.top+=jQuery.css(offsetParent,"borderTopWidth",true);parentOffset.left+=jQuery.css(offsetParent,"borderLeftWidth",true);}}
return{top:offset.top-parentOffset.top-jQuery.css(elem,"marginTop",true),left:offset.left-parentOffset.left-jQuery.css(elem,"marginLeft",true)};},offsetParent:function(){return this.map(function(){var offsetParent=this.offsetParent;while(offsetParent&&jQuery.css(offsetParent,"position")==="static"){offsetParent=offsetParent.offsetParent;}
return offsetParent||documentElement;});}});jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(method,prop){var top="pageYOffset"===prop;jQuery.fn[method]=function(val){return access(this,function(elem,method,val){var win;if(isWindow(elem)){win=elem;}else if(elem.nodeType===9){win=elem.defaultView;}
if(val===undefined){return win?win[prop]:elem[method];}
if(win){win.scrollTo(!top?val:win.pageXOffset,top?val:win.pageYOffset);}else{elem[method]=val;}},method,val,arguments.length);};});jQuery.each(["top","left"],function(_i,prop){jQuery.cssHooks[prop]=addGetHookIf(support.pixelPosition,function(elem,computed){if(computed){computed=curCSS(elem,prop);return rnumnonpx.test(computed)?jQuery(elem).position()[prop]+"px":computed;}});});jQuery.each({Height:"height",Width:"width"},function(name,type){jQuery.each({padding:"inner"+name,content:type,"":"outer"+name},function(defaultExtra,funcName){jQuery.fn[funcName]=function(margin,value){var chainable=arguments.length&&(defaultExtra||typeof margin!=="boolean"),extra=defaultExtra||(margin===true||value===true?"margin":"border");return access(this,function(elem,type,value){var doc;if(isWindow(elem)){return funcName.indexOf("outer")===0?elem["inner"+name]:elem.document.documentElement["client"+name];}
if(elem.nodeType===9){doc=elem.documentElement;return Math.max(elem.body["scroll"+name],doc["scroll"+name],elem.body["offset"+name],doc["offset"+name],doc["client"+name]);}
return value===undefined?jQuery.css(elem,type,extra):jQuery.style(elem,type,value,extra);},type,chainable?margin:undefined,chainable);};});});jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(_i,type){jQuery.fn[type]=function(fn){return this.on(type,fn);};});jQuery.fn.extend({bind:function(types,data,fn){return this.on(types,null,data,fn);},unbind:function(types,fn){return this.off(types,null,fn);},delegate:function(selector,types,data,fn){return this.on(types,selector,data,fn);},undelegate:function(selector,types,fn){return arguments.length===1?this.off(selector,"**"):this.off(types,selector||"**",fn);},hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver);}});jQuery.each(("blur focus focusin focusout resize scroll click dblclick "+"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave "+"change select submit keydown keypress keyup contextmenu").split(" "),function(_i,name){jQuery.fn[name]=function(data,fn){return arguments.length>0?this.on(name,null,data,fn):this.trigger(name);};});var rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;jQuery.proxy=function(fn,context){var tmp,args,proxy;if(typeof context==="string"){tmp=fn[context];context=fn;fn=tmp;}
if(!isFunction(fn)){return undefined;}
args=slice.call(arguments,2);proxy=function(){return fn.apply(context||this,args.concat(slice.call(arguments)));};proxy.guid=fn.guid=fn.guid||jQuery.guid++;return proxy;};jQuery.holdReady=function(hold){if(hold){jQuery.readyWait++;}else{jQuery.ready(true);}};jQuery.isArray=Array.isArray;jQuery.parseJSON=JSON.parse;jQuery.nodeName=nodeName;jQuery.isFunction=isFunction;jQuery.isWindow=isWindow;jQuery.camelCase=camelCase;jQuery.type=toType;jQuery.now=Date.now;jQuery.isNumeric=function(obj){var type=jQuery.type(obj);return(type==="number"||type==="string")&&!isNaN(obj-parseFloat(obj));};jQuery.trim=function(text){return text==null?"":(text+"").replace(rtrim,"");};if(typeof define==="function"&&define.amd){define("jquery",[],function(){return jQuery;});}
var
_jQuery=window.jQuery,_$=window.$;jQuery.noConflict=function(deep){if(window.$===jQuery){window.$=_$;}
if(deep&&window.jQuery===jQuery){window.jQuery=_jQuery;}
return jQuery;};if(typeof noGlobal==="undefined"){window.jQuery=window.$=jQuery;}
return jQuery;});;(function(){var jquery_init=jQuery.fn.init;jQuery.fn.init=function(selector,context,rootjQuery){if(selector&&typeof selector==='string'){var hash_position=selector.indexOf('#');if(hash_position>=0){var bracket_position=selector.indexOf('<');if(bracket_position>hash_position){throw'Syntax error, unrecognized expression: '+selector;}}}
return jquery_init.call(this,selector,context,rootjQuery);};jQuery.fn.init.prototype=jquery_init.prototype;if($.ajaxPrefilter){$.ajaxPrefilter(function(s){if(s.crossDomain){s.contents.script=false;}});}
else if($.httpData){var jquery_httpData=$.httpData;$.httpData=function(xhr,type,s){if(!type&&(!s||!Drupal.urlIsLocal(s.url))){var content_type=xhr.getResponseHeader('content-type')||'';if(content_type.indexOf('javascript')>=0){type='text';}}
return jquery_httpData.call(this,xhr,type,s);};$.httpData.prototype=jquery_httpData.prototype;}})();var Drupal=Drupal||{'settings':{},'behaviors':{},'themes':{},'locale':{}};Drupal.jsEnabled=document.getElementsByTagName&&document.createElement&&document.createTextNode&&document.documentElement&&document.getElementById;Drupal.attachBehaviors=function(context){context=context||document;if(Drupal.jsEnabled){jQuery.each(Drupal.behaviors,function(){this(context);});}};Drupal.checkPlain=function(str){str=String(str);var replace={'&':'&amp;',"'":'&#39;','"':'&quot;','<':'&lt;','>':'&gt;'};for(var character in replace){var regex=new RegExp(character,'g');str=str.replace(regex,replace[character]);}
return str;};Drupal.t=function(str,args){if(Drupal.locale.strings&&Drupal.locale.strings[str]){str=Drupal.locale.strings[str];}
if(args){for(var key in args){switch(key.charAt(0)){case'@':args[key]=Drupal.checkPlain(args[key]);break;case'!':break;case'%':default:args[key]=Drupal.theme('placeholder',args[key]);break;}
str=str.replace(key,args[key]);}}
return str;};Drupal.formatPlural=function(count,singular,plural,args){var args=args||{};args['@count']=count;var index=Drupal.locale.pluralFormula?Drupal.locale.pluralFormula(args['@count']):((args['@count']==1)?0:1);if(index==0){return Drupal.t(singular,args);}
else if(index==1){return Drupal.t(plural,args);}
else{args['@count['+index+']']=args['@count'];delete args['@count'];return Drupal.t(plural.replace('@count','@count['+index+']'),args);}};Drupal.absoluteUrl=function(url){var urlParsingNode=document.createElement('a');try{url=decodeURIComponent(url);}catch(e){}
urlParsingNode.setAttribute('href',url);return urlParsingNode.cloneNode(false).href;};Drupal.urlIsLocal=function(url){var absoluteUrl=Drupal.absoluteUrl(url);var protocol=location.protocol;if(protocol==='http:'&&absoluteUrl.indexOf('https:')===0){protocol='https:';}
var baseUrl=protocol+'//'+location.host+Drupal.settings.basePath.slice(0,-1);try{absoluteUrl=decodeURIComponent(absoluteUrl);}catch(e){}
try{baseUrl=decodeURIComponent(baseUrl);}catch(e){}
return absoluteUrl===baseUrl||absoluteUrl.indexOf(baseUrl+'/')===0;};Drupal.theme=function(func){for(var i=1,args=[];i<arguments.length;i++){args.push(arguments[i]);}
return(Drupal.theme[func]||Drupal.theme.prototype[func]).apply(this,args);};Drupal.parseJson=function(data){if((data.substring(0,1)!='{')&&(data.substring(0,1)!='[')){return{status:0,data:data.length?data:Drupal.t('Unspecified error')};}
return eval('('+data+');');};Drupal.freezeHeight=function(){Drupal.unfreezeHeight();var div=document.createElement('div');$(div).css({position:'absolute',top:'0px',left:'0px',width:'1px',height:$('body').css('height')}).attr('id','freeze-height');$('body').append(div);};Drupal.unfreezeHeight=function(){$('#freeze-height').remove();};Drupal.encodeURIComponent=function(item,uri){uri=uri||location.href;item=encodeURIComponent(item).replace(/%2F/g,'/');return(uri.indexOf('?q=')!=-1)?item:item.replace(/%26/g,'%2526').replace(/%23/g,'%2523').replace(/\/\//g,'/%252F');};Drupal.getSelection=function(element){if(typeof(element.selectionStart)!='number'&&document.selection){var range1=document.selection.createRange();var range2=range1.duplicate();range2.moveToElementText(element);range2.setEndPoint('EndToEnd',range1);var start=range2.text.length-range1.text.length;var end=start+range1.text.length;return{'start':start,'end':end};}
return{'start':element.selectionStart,'end':element.selectionEnd};};Drupal.ahahError=function(xmlhttp,uri){if(xmlhttp.status==200){if(jQuery.trim($(xmlhttp.responseText).text())){var message=Drupal.t("An error occurred. \n@uri\n@text",{'@uri':uri,'@text':xmlhttp.responseText});}
else{var message=Drupal.t("An error occurred. \n@uri\n(no information available).",{'@uri':uri,'@text':xmlhttp.responseText});}}
else{var message=Drupal.t("An HTTP error @status occurred. \n@uri",{'@uri':uri,'@status':xmlhttp.status});}
return message;}
if(Drupal.jsEnabled){$(document.documentElement).addClass('js');$(document).ready(function(){Drupal.attachBehaviors(this);});}
Drupal.theme.prototype={placeholder:function(str){return'<em>'+Drupal.checkPlain(str)+'</em>';}};;var t_whitelabels_menu_size_init;$(document).ready(function(){whitelabels_window_size_init();whitelabels_same_size_init();whitelabels_footer_bottom_init();whitelabels_height_helpers_init();setTimeout(whitelabels_same_size_init,1000);$(window).resize(function(){whitelabels_window_size_init();whitelabels_same_size_init();setTimeout(whitelabels_same_size_init,1000);});whitelabels_helpers_init();whitelabels_hamburger_init();});function whitelabels_height_helpers_init(i){i=i||0;var header_height=$('.whitelabel_custom_header').outerHeight(true)||0;var footer_height=$('#custom_footer').outerHeight(true)||0;if($('.wl_minheight_full_wo_header').length>0){$('.wl_minheight_full_wo_header').css('min-height','calc(100vh - '+header_height+'px)');}
if($('.wl_minheight_full_wo_header_footer').length>0){$('.wl_minheight_full_wo_header_footer').css('min-height','calc(100vh - '+(parseFloat(header_height)+parseFloat(footer_height))+'px)');}
if($('.wl_minheight_full_wo_footer').length>0){$('.wl_minheight_full_wo_footer').css('min-height','calc(100vh - '+footer_height+'px)');}
if(i>3)return;setTimeout(function(){whitelabels_height_helpers_init(++i)},i*1000);}
function whitelabels_footer_bottom_init(i){i=i||0;if($('#custom_footer').length<1)return;if($('.whitelabel_custom_header').length<1)return;var footer_height=$('#custom_footer').outerHeight(true);var header_height=$('.whitelabel_custom_header').outerHeight(true);$('#main_container').css('min-height','calc(100vh - '+(parseFloat(header_height)+parseFloat(footer_height))+'px)');if(i>10)return;setTimeout(function(){whitelabels_footer_bottom_init(++i)},i*1000);}
function whitelabels_window_size_init(){$('body').removeClass('window_size_desktop').removeClass('window_size_tablet').removeClass('window_size_mobile');var device='desktop';var unset1='mobile';var unset2='tablet';var width=self.window.innerWidth;if(width<=960){device='tablet';unset2='desktop';}
if(width<=640){device='mobile';unset1='tablet';}
$('body').addClass('window_size_'+device).removeClass('window_size_'+unset1).removeClass('window_size_'+unset2);clearTimeout(t_whitelabels_menu_size_init);t_whitelabels_menu_size_init=setTimeout(whitelabels_menu_size_init,100);}
function whitelabels_menu_size_init(once){if($('.wl_menu_navmenu5').length<1)return;var height=$('.wl_menu_navmenu5').outerHeight(true);if(height>75){$('.wl_menu_navmenu5').addClass('wl_menu_smaller');}
if($('.wl_menu_container').outerHeight(true)>=100){$('.wl_menu_container').removeClass('wl_width_xl');$('.wl_menu_container').addClass('wl_width_xxl');}}
function whitelabels_helpers_init(){if($('.resize-width-field').length>0){$('.resize-width-field').change(function(){var resize_factor=parseFloat($(this).attr('data-resize-factor'));var length=$(this).find('option:selected')?$(this).find('option:selected').html().length:$(this).val().length;$(this).css('width',(length*resize_factor)+'px');});}}
function whitelabels_same_size_init(){var size={};$('.same-height').each(function(){var key=$(this).attr('data-same-height');$(this).css('min-height','initial');if($(this).hasClass('same-height-skip-desktop')){if($('body').hasClass('window_size_desktop')){return;}}
if($(this).hasClass('same-height-skip-mobile')){if($('body').hasClass('window_size_mobile')){return;}}
if($(this).hasClass('same-height-skip-tablet')){if($('body').hasClass('window_size_tablet')){return;}}
var height=$(this).height();if(typeof size[key]=='undefined'){size[key]=height;}else{if(size[key]<height){size[key]=height;}}});$('.same-height').each(function(){var key=$(this).attr('data-same-height');if(typeof size[key]!=='undefined'){$(this).css('min-height',size[key]);}});}
function whitelabels_hamburger_init(){$('#menuToggle input').click(function(){var menu=$(this).parent();if($(menu).hasClass('active')){$(menu).removeClass('active');}else{$(menu).addClass('active');}});}
function whitelabels_check_ie(){var ua=window.navigator.userAgent;var msie=ua.indexOf('MSIE ');var trident=ua.indexOf('Trident/');return(msie>0||trident>0);};jQuery.uaMatch=function(ua){ua=ua.toLowerCase();var match=/(chrome)[ \/]([\w.]+)/.exec(ua)||/(webkit)[ \/]([\w.]+)/.exec(ua)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(ua)||/(msie) ([\w.]+)/.exec(ua)||ua.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(ua)||[];return{browser:match[1]||"",version:match[2]||"0"};};matched=jQuery.uaMatch(navigator.userAgent);browser={};if(matched.browser){browser[matched.browser]=true;browser.version=matched.version;}
if(browser.chrome){browser.webkit=true;}else if(browser.webkit){browser.safari=true;}
jQuery.browser=browser;;Drupal.behaviors.block_edit=function(context){if(Drupal.settings.block_edit.hover_links){$('.node-edit-link, .block-edit-link').hide();$('div.block, div.node').mouseover(function(){$(this).find('.node-edit-link, .block-edit-link').css('display','block');});$('div.block, div.node').mouseout(function(){$(this).find('.node-edit-link, .block-edit-link').css('display','none');});};};;Drupal.behaviors.initThickbox=function(context){$('a,area,input',context).filter('.thickbox:not(.initThickbox-processed)').addClass('initThickbox-processed').click(function(){var t=this.title||this.name||null;var a=this.href||this.alt;var g=this.rel||false;tb_show(t,a,g);this.blur();return false;});};function tb_show(caption,url,imageGroup){var settings=Drupal.settings.thickbox;tb_setBrowserExtra();try{if(typeof document.body.style.maxHeight==='undefined'){$('body','html').css({height:'100%',width:'100%'});$('html').css('overflow','hidden');if(document.getElementById('TB_HideSelect')===null){$('body').append('<iframe id="TB_HideSelect"></iframe><div id="TB_overlay"></div><div id="TB_window"></div>');$('#TB_overlay').click(tb_remove);}}
else{if(document.getElementById('TB_overlay')===null){$('body').append('<div id="TB_overlay"></div><div id="TB_window"></div>');$('#TB_overlay').click(tb_remove);}}
if($.browserextra.macfirefox){$('#TB_overlay').addClass('TB_overlayMacFFBGHack');}
else{$('#TB_overlay').addClass('TB_overlayBG');}
if(caption===null){caption='';}
$('body').append('<div id="TB_load"></div>');$('#TB_load').show();var baseURL;if(url.indexOf('?')!==-1){baseURL=url.substr(0,url.indexOf('?'));}
else{baseURL=url;}
var urlString=/\.jpg$|\.jpeg$|\.png$|\.gif$|\.bmp$/;var urlType=baseURL.toLowerCase().match(urlString);if(urlType=='.jpg'||urlType=='.jpeg'||urlType=='.png'||urlType=='.gif'||urlType=='.bmp'){TB_PrevCaption='';TB_PrevURL='';TB_PrevHTML='';TB_NextCaption='';TB_NextURL='';TB_NextHTML='';TB_imageCount='';TB_FoundURL=false;if(imageGroup){TB_TempArray=$('a[rel='+imageGroup+']').get();for(TB_Counter=0;((TB_Counter<TB_TempArray.length)&&(TB_NextHTML===''));TB_Counter++){var urlTypeTemp=TB_TempArray[TB_Counter].href.toLowerCase().match(urlString);if(!(TB_TempArray[TB_Counter].href==url)){if(TB_FoundURL){TB_NextCaption=TB_TempArray[TB_Counter].title;TB_NextURL=TB_TempArray[TB_Counter].href;TB_NextHTML='<span id="TB_next">&nbsp;&nbsp;<a href="#">'+settings.next+'</a></span>';}
else{TB_PrevCaption=TB_TempArray[TB_Counter].title;TB_PrevURL=TB_TempArray[TB_Counter].href;TB_PrevHTML='<span id="TB_prev">&nbsp;&nbsp;<a href="#">'+settings.prev+'</a></span>';}}
else{TB_FoundURL=true;if(TB_TempArray.length>1){TB_imageCount=settings.image_count.replace(/\!current/,(TB_Counter+1)).replace(/\!total/,TB_TempArray.length);}}}}
imgPreloader=new Image();prevImg=new Image();nextImg=new Image();imgPreloader.onload=function(){imgPreloader.onload=null;var TB_Links=$('a[class*="thickbox"]');var i=-1;TB_Links.each(function(n){if(this.href==imgPreloader.src){i=n;}});if(i!=-1){if(i>0){prevImg.src=TB_Links[i-1].href;}
if(i+1<TB_Links.length){nextImg.src=TB_Links[i+1].href;}}
var pagesize=tb_getPageSize();var x=pagesize[0]-100;var y=pagesize[1]-100;var imageWidth=imgPreloader.width;var imageHeight=imgPreloader.height;if(imageWidth>x){imageHeight=imageHeight*(x/imageWidth);imageWidth=x;if(imageHeight>y){imageWidth=imageWidth*(y/imageHeight);imageHeight=y;}}
else if(imageHeight>y){imageWidth=imageWidth*(y/imageHeight);imageHeight=y;if(imageWidth>x){imageHeight=imageHeight*(x/imageWidth);imageWidth=x;}}
TB_WIDTH=imageWidth<320?350:imageWidth+30;TB_HEIGHT=imageHeight+60;$('#TB_window').append('<a href="" id="TB_ImageOff" title="'+settings.next_close+'"><img id="TB_Image" src="'+url+'" width="'+imageWidth+'" height="'+imageHeight+'" alt="'+caption+'" /></a><div id="TB_caption">'+caption+'<div id="TB_secondLine">'+TB_imageCount+TB_PrevHTML+TB_NextHTML+'</div></div><div id="TB_closeWindow"><a href="#" id="TB_closeWindowButton" title="'+settings.close+'">'+settings.close+'</a> </div>');$('#TB_closeWindowButton').click(tb_remove);if(!(TB_PrevHTML==='')){function goPrev(){if($(document).unbind('click',goPrev)){$(document).unbind('click',goPrev);}
$('#TB_window').remove();$('body').append('<div id="TB_window"></div>');tb_show(TB_PrevCaption,TB_PrevURL,imageGroup);return false;}
$('#TB_prev').click(goPrev);}
if(!(TB_NextHTML==='')){function goNext(){$('#TB_window').remove();$('body').append('<div id="TB_window"></div>');tb_show(TB_NextCaption,TB_NextURL,imageGroup);return false;}
$('#TB_next').click(goNext);$('#TB_ImageOff').click(goNext);}
else{$('#TB_ImageOff').click(tb_remove);}
document.onkeydown=function(e){if(e==null){keycode=event.keyCode;escapeKey=27;}
else if($.browser.safari||$.browser.opera){keycode=e.which;escapeKey=27;}
else{keycode=e.keyCode;escapeKey=e.DOM_VK_ESCAPE;}
key=String.fromCharCode(keycode).toLowerCase();if(key=='x'||key=='c'||keycode==escapeKey){tb_remove();}
else if(key=='n'||keycode==39){if(!(TB_NextHTML=='')){document.onkeydown='';goNext();}}
else if(key=='p'||keycode==37){if(!(TB_PrevHTML=='')){document.onkeydown='';goPrev();}}};tb_position();$('#TB_load').remove();$('#TB_window').css({display:'block',opacity:0}).animate({opacity:1},400);};imgPreloader.src=url;}
else{var queryString=url.replace(/^[^\?]+\??/,'');var params=tb_parseQuery(queryString);TB_WIDTH=(params['width']*1)+30||630;TB_HEIGHT=(params['height']*1)+40||440;ajaxContentW=TB_WIDTH-30;ajaxContentH=TB_HEIGHT-45;if(url.indexOf('TB_iframe')!=-1){urlNoQuery=url.split('TB_');$('#TB_iframeContent').remove();if(params['modal']!='true'){$('#TB_window').append('<div id="TB_title"><div id="TB_ajaxWindowTitle">'+caption+'</div><div id="TB_closeAjaxWindow"><a href="#" id="TB_closeWindowButton" title="'+settings.close+'">'+settings.close+'</a> </div></div><iframe frameborder="0" hspace="0" src="'+urlNoQuery[0]+'" id="TB_iframeContent" name="TB_iframeContent'+Math.round(Math.random()*1000)+'" onload="tb_showIframe()" style="width:'+(ajaxContentW+29)+'px;height:'+(ajaxContentH+17)+'px;"></iframe>');}
else{$('#TB_overlay').unbind();$('#TB_window').append('<iframe frameborder="0" hspace="0" src="'+urlNoQuery[0]+'" id="TB_iframeContent" name="TB_iframeContent'+Math.round(Math.random()*1000)+'" onload="tb_showIframe()" style="width:'+(ajaxContentW+29)+'px;height:'+(ajaxContentH+17)+'px;"></iframe>');}}
else{if($('#TB_window').css('display')!='block'){if(params['modal']!='true'){$('#TB_window').append('<div id="TB_title"><div id="TB_ajaxWindowTitle">'+caption+'</div><div id="TB_closeAjaxWindow"><a href="#" id="TB_closeWindowButton" title="'+settings.close+'">'+settings.close+'</a> </div></div><div id="TB_ajaxContent" style="width:'+ajaxContentW+'px;height:'+ajaxContentH+'px"></div>');window.setTimeout("tb_focusFirstFormElement()",1000);}
else{$('#TB_overlay').unbind();$('#TB_window').append('<div id="TB_ajaxContent" class="TB_modal" style="width:'+ajaxContentW+'px;height:'+ajaxContentH+'px;"></div>');}}
else{$('#TB_ajaxContent')[0].style.width=ajaxContentW+'px';$('#TB_ajaxContent')[0].style.height=ajaxContentH+'px';$('#TB_ajaxContent')[0].scrollTop=0;$('#TB_ajaxWindowTitle').html(caption);}}
$('#TB_closeWindowButton').click(tb_remove);if(url.indexOf('TB_inline')!=-1){$('#TB_ajaxContent').append($('#'+params['inlineId']).children());$('#TB_window').unload(function(){$('#'+params['inlineId']).append($('#TB_ajaxContent').children());});tb_position();$('#TB_load').remove();$('#TB_window').css({display:'block',opacity:0}).animate({opacity:1},400);}
else if(url.indexOf('TB_iframe')!=-1){tb_position();if($.browserextra.iphone){$('#TB_load').remove();$('#TB_window').css({display:'block',opacity:0}).animate({opacity:1},400);}}
else{$('#TB_ajaxContent').load(url+='&random='+(new Date().getTime()),function(){tb_position();$('#TB_load').remove();Drupal.attachBehaviors('#TB_ajaxContent');$('#TB_window').css({display:'block',opacity:0}).animate({opacity:1},400);});}}
if(!params['modal']){document.onkeyup=function(e){if(e==null){keycode=event.keyCode;escapeKey=27;}
else if($.browser.safari||$.browser.opera){keycode=e.which;escapeKey=27;}
else{keycode=e.keyCode;escapeKey=e.DOM_VK_ESCAPE;}
key=String.fromCharCode(keycode).toLowerCase();if(keycode==escapeKey){tb_remove();}};}}
catch(e){}}
function tb_showIframe(){$('#TB_load').remove();if($('#TB_window').css('display')!='block')
$('#TB_window').css({display:'block',opacity:0}).animate({opacity:1},400);}
function tb_remove(){$('#TB_imageOff').unbind('click');$('#TB_overlay').unbind('click');$('#TB_closeWindowButton').unbind('click');$('#TB_window').fadeOut(400,function(){$('#TB_window,#TB_overlay,#TB_HideSelect').trigger('unload').unbind().remove();});$('#TB_load').remove();if(typeof document.body.style.maxHeight=='undefined'){$('body','html').css({height:'auto',width:'auto'});$('html').css('overflow','');}
document.onkeydown='';document.onkeyup='';return false;}
function tb_position(){$('#TB_window').css({marginLeft:'-'+parseInt((TB_WIDTH/2),10)+'px',width:TB_WIDTH+'px'});if(!($.browserextra.msie6)){$('#TB_window').css({marginTop:'-'+parseInt((TB_HEIGHT/2),10)+'px'});}}
function tb_parseQuery(query){var Params={};if(!query){return Params;}
var Pairs=query.split(/[;&]/);for(var i=0;i<Pairs.length;i++){var KeyVal=Pairs[i].split('=');if(!KeyVal||KeyVal.length!=2){continue;}
var key=unescape(KeyVal[0]);var val=unescape(KeyVal[1]);val=val.replace(/\+/g,' ');Params[key]=val;}
return Params;}
function tb_getPageSize(){var de=document.documentElement;var w=window.innerWidth||self.innerWidth||(de&&de.clientWidth)||document.body.clientWidth;var h=window.innerHeight||self.innerHeight||(de&&de.clientHeight)||document.body.clientHeight;arrayPageSize=[w,h];return arrayPageSize;}
function tb_setBrowserExtra(){if($.browserextra){return;}
var userAgent=navigator.userAgent.toLowerCase();$.browserextra={iphone:/iphone/.test(userAgent),msie6:/msie/.test(userAgent)&&!/opera/.test(userAgent)&&/msie 6\.0/.test(userAgent)&&!/msie 7\.0/.test(userAgent)&&!/msie 8\.0/.test(userAgent),macfirefox:/mac/.test(userAgent)&&/firefox/.test(userAgent)};}
function tb_focusFirstFormElement(){$('#TB_window form input[type=text]:first').focus();};$(document).ready(function(){$('.thumbs_list1 ul.business_cards_list li#bc_upload_card a').click(function(event){if(typeof Drupal.settings.is_flstheme!='undefined'){if(Drupal.settings.is_flstheme){if(!(fls_browser.msie||navigator.userAgent.indexOf("Trident")>=0))
return false;}}
event.preventDefault();if(Drupal.settings.bc_multicard){return false;}
if(typeof BCUP_POPUP!='undefined')
BCUP_POPUP.init();else
PO_UC.init();fls_events_add('clicks_bc_step2_upload');return false;});$('.thumbs_list1 ul.business_cards_list li a').click(function(){if($(this).closest('#bc_upload_card').length)
return false;var card_id=$(this).attr('href');card_id=card_id.split('/');card_id=card_id[card_id.length-1];if(Drupal.settings.bc_multicard){url=Drupal.settings.bc_multicard+card_id;if(parseInt(Drupal.settings.bc_clid)>0)
url+='/'+Drupal.settings.bc_clid;window.location=url;return false;}
if((Drupal.settings.bcworkflow_popup&&Drupal.settings.bcworkflow2_split)&&(typeof(Drupal.settings.templateBackground)==="undefined"||Drupal.settings.templateBackground=="")){PO_bcstep2.init();$('#bcworkflow_card_id').val(card_id);return false;}
return true;});$('.thumbs_list1 ul.business_cards_list li').bind('mouseover',function(){if(typeof Drupal.settings.is_flstheme!='undefined'){if(Drupal.settings.is_flstheme){if($(this).attr('id')=='bc_upload_card'){return;}}}
var offset=$(this).offset();$('body').append('<div class="logo_notice1">'+Drupal.settings.step2_texttojs.text1+'</div>');$('.logo_notice1').css('position','absolute').css('top',offset.top-35+'px').css('left',offset.left+55+'px').css('display','');}).bind('mouseout',function(){$('.logo_notice1').remove();});$('#edit-logo-type').change(function(){$('#bcstep2-categories-form').submit();});$('#business_cards_search_field input').focus(function(){if($('#business_cards_search_field input').val()==Drupal.settings.sphinxDefaultSearch){$('#business_cards_search_field input').val('');}});$('#business_cards_search_field input').blur(function(){if($('#business_cards_search_field input').val().length<1)
$('#business_cards_search_field input').val(Drupal.settings.sphinxDefaultSearch);});$('#business_cards_search_submit').click(function(){console.log('click on submit');console.log($(this).parents('form'));$(this).parents('form').submit();});});$(window).on('load',function(){if(Drupal.settings.feedback_lightbox){BCFEEDBACK.init();}else{PO_bcstep2_2.init();}});var PO_bcstep2={init:function(){if($('.bcworkflow_lightbox').length>0&&$('.overlay').length>0){PO_bcstep2.placePopUp();if(Drupal.settings.step2_infinite_scroll){$('.bcworkflow_lightbox').css('margin-top',$(window).scrollTop());$('body').css('overflow','hidden');}else{$('html, body').animate({scrollTop:0},'fast');}
$('.bcworkflow_lightbox .close, .bcworkflow_lightbox .noThankYou').click(PO_bcstep2.hidePopUp)}},placePopUp:function(){var overlay=$('.overlay:first');var thankYouBox=$('.bcworkflow_lightbox');$('.overlay, .bcworkflow_lightbox').remove();var docH=$(document).height();var docW=$(document).width();overlay.css({"width":docW+"px","height":docH+"px"});thankYouBox.prependTo('body');overlay.prependTo('body');$('#bcworkflow_CardNewLogo').click(function(){$('#bcworkflow_card_type').val('CardNewLogo');$('#business-cards-step2-popup-form').submit();return false;});$('#bcworkflow_CardOwnLogo').click(function(){$('#bcworkflow_card_type').val('CardOwnLogo');$('#business-cards-step2-popup-form').submit();return false;});$('#bcworkflow_CardNoLogo,#bcworkflow_online,#bcworkflow_graphic').click(function(){$('#bcworkflow_card_type').val('CardNoLogo');$('#business-cards-step2-popup-form').submit();return false;});$('#bcworkflow_CardNoLogo2').click(function(){$('.bcworkflow_lightbox h4').hide();$('.bcworkflow_step').hide();$('.bcworkflow_lightbox h4.h4_godaddybc').show();$('.bcworkflow_step_godaddybc').show();});if(Drupal.settings.select_logo){$('#bcworkflow_CardNewLogo').trigger('click');return;}
thankYouBox.show();var bW=$('.bcworkflow_lightbox').width();var bH=$('.bcworkflow_lightbox').height();var wW=$(window).width();var wH=$(window).height();bW=wW/2-bW/2;bH=wH/2-bH/2;$('.bcworkflow_lightbox').css({left:bW,top:bH>40?bH:40});$('.overlay:first').show();if($.browser.msie&&$.browser.version=='8.0'){$('.overlay').css('filter','alpha(opacity=30)');}},hidePopUp:function(){$('.bcworkflow_lightbox').fadeOut();$('.overlay').fadeOut();$('.bcworkflow_lightbox').hide();$('.overlay').hide();if(Drupal.settings.step2_infinite_scroll){$('body').css('overflow','');}
return false;}}
var PO_bcstep2_2={init:function(){if($('.bcworkflow2_lightbox').length>0&&$('.overlay').length>0&&$('.overlay:visible').length==0){PO_bcstep2_2.placePopUp();$('html, body').animate({scrollTop:0},'fast');$('.bcworkflow2_lightbox .close, .bcworkflow_lightbox .noThankYou').click(PO_bcstep2_2.hidePopUp)}},placePopUp:function(){var overlay=$('.overlay:first');var thankYouBox=$('.bcworkflow2_lightbox');$('.overlay, .bcworkflow2_lightbox').remove();var docH=$(document).height();var docW=$(document).width();overlay.css({"width":docW+"px","height":docH+"px"});thankYouBox.prependTo('body');overlay.prependTo('body');thankYouBox.show();var bW=$('.bcworkflow2_lightbox').width();var bH=$('.bcworkflow2_lightbox').height();var wW=$(window).width();var wH=$(window).height();bW=wW/2-bW/2;bH=wH/2-bH/2;$('.bcworkflow2_lightbox').css({left:bW,top:bH>40?bH:40});$('.overlay:first').show();$('.bchomepopup_category').click(function(){var category_id=$(this).attr('id');category_id=category_id.split('_');category_id=category_id[category_id.length-1];$('#bcworkflow_category').val(category_id);$('#business-cards-step2-popup-home-form').submit();return false;});$('#business-cards-step2-popup-category-form #bcworkflow_category').change(function(){$('#business-cards-step2-popup-category-form').submit();return false;});$('#business-cards-step2-popup-category-form .view_all').click(function(){var category_id=0;$('#bcworkflow_category').val(category_id);$('#business-cards-step2-popup-category-form').submit();return false;});},hidePopUp:function(){$('#bcworkflow_category').val(0);if(Drupal.settings.bc_step2_lightbox_set!==undefined&&Drupal.settings.bc_step2_lightbox_set!='step2'&&Drupal.settings.bc_step2_lightbox_set!='step2-infinite-scroll'){$('#business-cards-step2-popup-category-form').submit();}
else
$('#business-cards-step2-popup-home-form').submit();return false;}}
var PO_UC={init:function(){if($('.pouc_lightbox').length>0&&$('.overlay').length>0){PO_UC.placePopUp();$('html, body').animate({scrollTop:0},'fast');$('.pouc_lightbox .close, .pouc_lightbox .noThankYou').click(PO_UC.hidePopUp);$('.pouc_lightbox a.bc-free-blue-btn').click(PO_UC.hidePopUp);$('.pouc_lightbox a.bc-free-orange-btn').click(PO_UC.uploadBc);}},placePopUp:function(){var overlay=$('.overlay:first');var thankYouBox=$('.pouc_lightbox');$('.overlay, .pouc_lightbox').remove();var docH=$(document).height();var docW=$(document).width();overlay.css({"width":docW+"px","height":docH+"px"});thankYouBox.prependTo('body');overlay.prependTo('body');thankYouBox.show();var bW=$('.pouc_lightbox').width();var bH=$('.pouc_lightbox').height();var wW=$(window).width();var wH=$(window).height();bW=wW/2-bW/2;bH=wH/2-bH/2;$('.pouc_lightbox').css({left:bW,top:bH>40?bH:40});$('.overlay:first').show();if($.browser.msie&&$.browser.version=='8.0'){$('.overlay').css('filter','alpha(opacity=30)');}},hidePopUp:function(){$('.pouc_lightbox').fadeOut();$('.overlay').fadeOut();$('.pouc_lightbox').hide();$('.overlay').hide();return false;},uploadBc:function(){if($('#bc_upload_card a').length){var url=$('#bc_upload_card a').attr('href');if(url){PO_UC.hidePopUp();window.location=url;}}}}
function validate_feedback(){var response=true;$('#bc_feedback').css('border','1px solid #929292');$('#bc_email').css('border','1px solid #929292');if(!$('#bc_feedback').val()||$('#bc_feedback').val().length>90){$('#bc_feedback').css('border','1px solid red');response=false;}
if($('#bc_email').val()){if(!isValidEmail($('#bc_email').val())){$('#bc_email').css('border','1px solid red');response=false;}}
return response;}
var BCFEEDBACK={init:function(){if($('.bc_feedback_lightbox').length>0&&$('.overlay').length>0){BCFEEDBACK.placePopUp();$('.bc_feedback_lightbox .close').click(function(){BCFEEDBACK.hidePopUp();});$('#close_continue_button').click(function(){BCFEEDBACK.hidePopUp();});$('#submit-feedback').click(function(){if(validate_feedback()){$.ajax({type:"POST",url:Drupal.settings.baseUrl+'/feedback-js',dataType:"json",data:$("#business-cards-step2-feedback-form").serialize(),success:function(Response){$('#content1').hide();$('#content2').show();}});}});}},placePopUp:function(){var overlay=$('.overlay:first');var thankYouBox=$('.thankYouBox.bc_feedback_lightbox');$('.overlay, .thankYouBox.bc_feedback_lightbox').remove();var docH=$(document).height();var docW=$(document).width();overlay.css({"width":docW+"px","height":docH+"px"});thankYouBox.prependTo('body');overlay.prependTo('body');overlay.show();thankYouBox.show();var bW=$('.thankYouBox.bc_feedback_lightbox').width();var bH=$('.thankYouBox.bc_feedback_lightbox').height();var wW=$(window).width();var wH=$(window).height();bW=wW/2-bW/2;bH=wH/2-bH/2;$('.thankYouBox.bc_feedback_lightbox').css({left:bW,top:bH>40?bH:40});},hidePopUp:function(){$('.bc_feedback_lightbox').hide();$('.overlay').hide();return false;}};function setFlashHeight(newHeight){$('#'+attributes.id).attr('height',newHeight);$('#flash_container').css({width:'auto',height:'auto','text-align':'left'});}
function editor_event_dispatched(){ga('send','event','button','click','Clicked Safe Line Help Button');};;$(document).ready(function(){var timerId;function hideSubmenu(){$('.myaccount_topnav .menu.my_account').removeClass('active');$('.flstheme_usermenu').hide();}
$('.myaccount_topnav .menu.my_account').mouseover(function(){if(timerId!='undefined')clearTimeout(timerId);$(this).addClass('active');$(".myaccount_topnav .menu.my_account .submenu").remove();$('.flstheme_usermenu').show();});$('.myaccount_topnav .menu.my_account, .flstheme_usermenu').mouseout(function(){timerId=setTimeout(hideSubmenu,50);});$('.flstheme_usermenu').mouseover(function(){if(timerId!='undefined')clearTimeout(timerId);$('.myaccount_topnav .menu.my_account').addClass('active');$(this).show();});$(".flstheme_topmenu.websites .usermenu_edit_website").click(function(){show_loading_overlay(Drupal.settings.lightbox_loading_text);var site_id;site_id=$(this).attr("id");var lang="";if(Drupal.settings.lang!=''){lang=Drupal.settings.lang+"/";}
$.ajax({url:Drupal.settings.baseUrl+"/"+lang+"websites/edit/"+site_id+"?check=1",type:'post',dataType:'json',success:function(result){if(result["success"]==2){$('#TB_overlay').remove();$('#TB_window').remove();ACTIVATEDOMAIN.init();return false;}else{if(lang!=''){window.location=Drupal.settings.baseUrl+"/"+lang+"websites/edit/"+site_id;}else{window.location=Drupal.settings.baseUrl+"/"+lang+"website/industry-selection/"+site_id;}}}});return false;});});;$(document).ready(function(){if($('#navmobile2_menu').length>0){menus_navmobile2_init();}
footer_language_select_init();});function footer_language_select_init(){$('.footer_language_select').change(function(){window.location=$(this).find('option:selected').val();});}
function menus_navmobile2_init(){$('#navmobile2_menuToggle .navmobile2_hamburger_button').click(function(){var menu=$('#navmobile2_menuToggle');var submenu=$('#navmobile2_menuToggle #navmobile2_menu');if($(menu).hasClass('active')){$(submenu).css('right','-100%');$("#navmobile2_menuToggle .navmobile2_hamburger_button").addClass("activate_menu");setTimeout(function(){$(menu).removeClass('active');},500);}else{$(menu).addClass('active');$("#navmobile2_menuToggle .navmobile2_hamburger_button").removeClass("activate_menu");setTimeout(function(){$(submenu).css('right','0%');},100);}});$('.navmobile2_top_element').bind('click touch',function(e){var hasSubmenu=false;var submenu=$(this).parents('li').find('.navmobile2_submenu');var parent=submenu.parents('li');if(submenu.length>0&&submenu.find('.navmobile2_submenu_element')){hasSubmenu=true;}
if(hasSubmenu){e.preventDefault();if(submenu.hasClass('selected')){submenu.removeClass('selected');parent.removeClass('selected');menus_general_remove_classes(parent,'data-selected-class');return false;}else{$('#navmobile2_menuToggle li.selected').each(function(){menus_general_remove_classes($(this),'data-selected-class');});$('#navmobile2_menuToggle .selected').removeClass('selected');submenu.addClass('selected');parent.addClass('selected');menus_general_add_classes(parent,'data-selected-class');return false;}}else{window.location=$(this).attr('href');}});}
function menus_general_add_classes(o,el){var classes=$(o).attr(el);if(typeof classes.length==='undefined')return;classes=classes.split(' ');$.each(classes,function(k,v){$(o).addClass(v);});}
function menus_general_remove_classes(o,el){var classes=$(o).attr(el);if(typeof classes.length==='undefined')return;classes=classes.split(' ');$.each(classes,function(k,v){$(o).removeClass(v);});};;(function($){var helper={},current,title,tID,IE=$.browser.msie&&/MSIE\s(5\.5|6\.)/.test(navigator.userAgent),track=false;$.tooltip={blocked:false,defaults:{delay:200,fade:false,showURL:true,extraClass:"",top:15,left:15,id:"tooltip"},block:function(){$.tooltip.blocked=!$.tooltip.blocked;}};$.fn.extend({tooltip:function(settings){settings=$.extend({},$.tooltip.defaults,settings);createHelper(settings);return this.each(function(){$.data(this,"tooltip",settings);this.tOpacity=helper.parent.css("opacity");this.tooltipText=this.title;$(this).removeAttr("title");this.alt="";}).mouseover(save).mouseout(hide).click(hide);},fixPNG:IE?function(){return this.each(function(){var image=$(this).css('backgroundImage');if(image.match(/^url\(["']?(.*\.png)["']?\)$/i)){image=RegExp.$1;$(this).css({'backgroundImage':'none','filter':"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop, src='"+image+"')"}).each(function(){var position=$(this).css('position');if(position!='absolute'&&position!='relative')$(this).css('position','relative');});}});}:function(){return this;},unfixPNG:IE?function(){return this.each(function(){$(this).css({'filter':'',backgroundImage:''});});}:function(){return this;},hideWhenEmpty:function(){return this.each(function(){$(this)[$(this).html()?"show":"hide"]();});},url:function(){return this.attr('href')||this.attr('src');}});function createHelper(settings){if(helper.parent)return;helper.parent=$('<div id="'+settings.id+'"><h3></h3><div class="body"></div><div class="url"></div></div>').appendTo(document.body).hide();if($.fn.bgiframe)helper.parent.bgiframe();helper.title=$('h3',helper.parent);helper.body=$('div.body',helper.parent);helper.url=$('div.url',helper.parent);}function settings(element){return $.data(element,"tooltip");}function handle(event){if(settings(this).delay)tID=setTimeout(show,settings(this).delay);else
show();track=!!settings(this).track;$(document.body).bind('mousemove',update);update(event);}function save(){if($.tooltip.blocked||this==current||(!this.tooltipText&&!settings(this).bodyHandler))return;current=this;title=this.tooltipText;if(settings(this).bodyHandler){helper.title.hide();var bodyContent=settings(this).bodyHandler.call(this);if(bodyContent.nodeType||bodyContent.jquery){helper.body.empty().append(bodyContent)}else{helper.body.html(bodyContent);}helper.body.show();}else if(settings(this).showBody){var parts=title.split(settings(this).showBody);helper.title.html(parts.shift()).show();helper.body.empty();for(var i=0,part;(part=parts[i]);i++){if(i>0)helper.body.append("<br/>");helper.body.append(part);}helper.body.hideWhenEmpty();}else{helper.title.html(title).show();helper.body.hide();}if(settings(this).showURL&&$(this).url())helper.url.html($(this).url().replace('http://','')).show();else
helper.url.hide();helper.parent.addClass(settings(this).extraClass);if(settings(this).fixPNG)helper.parent.fixPNG();handle.apply(this,arguments);}function show(){tID=null;if((!IE||!$.fn.bgiframe)&&settings(current).fade){if(helper.parent.is(":animated"))helper.parent.stop().show().fadeTo(settings(current).fade,current.tOpacity);else
helper.parent.is(':visible')?helper.parent.fadeTo(settings(current).fade,current.tOpacity):helper.parent.fadeIn(settings(current).fade);}else{helper.parent.show();}update();}function update(event){if($.tooltip.blocked)return;if(event&&event.target.tagName=="OPTION"){return;}if(!track&&helper.parent.is(":visible")){$(document.body).unbind('mousemove',update)}if(current==null){$(document.body).unbind('mousemove',update);return;}helper.parent.removeClass("viewport-right").removeClass("viewport-bottom");var left=helper.parent[0].offsetLeft;var top=helper.parent[0].offsetTop;if(event){left=event.pageX+settings(current).left;top=event.pageY+settings(current).top;var right='auto';if(settings(current).positionLeft){right=$(window).width()-left;left='auto';}helper.parent.css({left:left,right:right,top:top});}var v=viewport(),h=helper.parent[0];if(v.x+v.cx<h.offsetLeft+h.offsetWidth){left-=h.offsetWidth+20+settings(current).left;helper.parent.css({left:left+'px'}).addClass("viewport-right");}if(v.y+v.cy<h.offsetTop+h.offsetHeight){top-=h.offsetHeight+20+settings(current).top;helper.parent.css({top:top+'px'}).addClass("viewport-bottom");}}function viewport(){return{x:$(window).scrollLeft(),y:$(window).scrollTop(),cx:$(window).width(),cy:$(window).height()};}function hide(event){if($.tooltip.blocked)return;if(tID)clearTimeout(tID);current=null;var tsettings=settings(this);function complete(){helper.parent.removeClass(tsettings.extraClass).hide().css("opacity","");}if((!IE||!$.fn.bgiframe)&&tsettings.fade){if(helper.parent.is(':animated'))helper.parent.stop().fadeTo(tsettings.fade,0,complete);else
helper.parent.stop().fadeOut(tsettings.fade,complete);}else
complete();if(settings(this).fixPNG)helper.parent.unfixPNG();}})(jQuery);;(function($){$.fn.jqm=function(o){var p={overlay:50,overlayClass:'jqmOverlay',closeClass:'jqmClose',trigger:'.jqModal',ajax:F,ajaxText:'',target:F,modal:F,toTop:F,onShow:F,onHide:F,onLoad:F};return this.each(function(){if(this._jqm)return H[this._jqm].c=$.extend({},H[this._jqm].c,o);s++;this._jqm=s;H[s]={c:$.extend(p,$.jqm.params,o),a:F,w:$(this).addClass('jqmID'+s),s:s};if(p.trigger)$(this).jqmAddTrigger(p.trigger);});};$.fn.jqmAddClose=function(e){return hs(this,e,'jqmHide');};$.fn.jqmAddTrigger=function(e){return hs(this,e,'jqmShow');};$.fn.jqmShow=function(t){return this.each(function(){t=t||window.event;$.jqm.open(this._jqm,t);});};$.fn.jqmHide=function(t){return this.each(function(){t=t||window.event;$.jqm.close(this._jqm,t)});};$.jqm={hash:{},open:function(s,t){var h=H[s],c=h.c,cc='.'+c.closeClass,z=(parseInt(h.w.css('z-index'))),z=(z>0)?z:3000,o=$('<div></div>').css({height:'100%',width:'100%',position:'fixed',left:0,top:0,'z-index':z-1,opacity:c.overlay/100});if(h.a)return F;h.t=t;h.a=true;h.w.css('z-index',z);if(c.modal){if(!A[0])L('bind');A.push(s);}
else if(c.overlay>0)h.w.jqmAddClose(o);else o=F;h.o=(o)?o.addClass(c.overlayClass).prependTo('body'):F;if(ie6){$('html,body').css({height:'100%',width:'100%'});if(o){o=o.css({position:'absolute'})[0];for(var y in{Top:1,Left:1})o.style.setExpression(y.toLowerCase(),"(_=(document.documentElement.scroll"+y+" || document.body.scroll"+y+"))+'px'");}}
if(c.ajax){var r=c.target||h.w,u=c.ajax,r=(typeof r=='string')?$(r,h.w):$(r),u=(u.substr(0,1)=='@')?$(t).attr(u.substring(1)):u;r.html(c.ajaxText).load(u,function(){if(c.onLoad)c.onLoad.call(this,h);if(cc)h.w.jqmAddClose($(cc,h.w));e(h);});}
else if(cc)h.w.jqmAddClose($(cc,h.w));if(c.toTop&&h.o)h.w.before('<span id="jqmP'+h.w[0]._jqm+'"></span>').insertAfter(h.o);(c.onShow)?c.onShow(h):h.w.show();e(h);return F;},close:function(s){var h=H[s];if(!h.a)return F;h.a=F;if(A[0]){A.pop();if(!A[0])L('unbind');}
if(h.c.toTop&&h.o)$('#jqmP'+h.w[0]._jqm).after(h.w).remove();if(h.c.onHide)h.c.onHide(h);else{h.w.hide();if(h.o)h.o.remove();}return F;},params:{}};var s=0,H=$.jqm.hash,A=[],ie6=$.browser.msie&&($.browser.version=="6.0"),F=false,i=$('<iframe src="javascript:false;document.write(\'\');" class="jqm"></iframe>').css({opacity:0}),e=function(h){if(ie6)if(h.o)h.o.html('<p style="width:100%;height:100%"/>').prepend(i);else if(!$('iframe.jqm',h.w)[0])h.w.prepend(i);f(h);},f=function(h){try{$(':input:visible',h.w)[0].focus();}catch(_){}},L=function(t){$()[t]("keypress",m)[t]("keydown",m)[t]("mousedown",m);},m=function(e){var h=H[A[A.length-1]],r=(!$(e.target).parents('.jqmID'+h.s)[0]);if(r)f(h);return!r;},hs=function(w,t,c){return w.each(function(){var s=this._jqm;$(t).each(function(){if(!this[c]){this[c]=[];$(this).click(function(){for(var i in{jqmShow:1,jqmHide:1})for(var s in this[i])if(H[this[i][s]])H[this[i][s]].w[i](this);return F;});}this[c].push(s);});});};})(jQuery);;(function($){var options={};var returnHash=[];$.fn.RSV=function(params){options=$.extend({},$.fn.RSV.defaults,params);return this.each(function(){$(this).bind('submit',{currForm:this,options:options},$(this).RSV.validate);});};$.fn.RSV.defaults={rules:[],displayType:"alert-all",errorFieldClass:null,errorTextIntro:"Please fix the following error(s) and resubmit:",errorJSItemBullet:"* ",errorHTMLItemBullet:"&bull; ",errorTargetElementId:"rsvErrors",customErrorHandler:null,onCompleteHandler:null};$.fn.RSV.validate=function(event)
{options=event.data.options;var form=event.data.currForm;var rules=options.rules;returnHash=[];for(var i=0;i<rules.length;i++)
{var row=rules[i].replace(/\\,/ig,"%%C%%");row=row.split(",");var satisfiesIfConditions=true;while(row[0].match("^if:"))
{var cond=row[0];cond=cond.replace("if:","");var comparison="equal";var parts=[];if(cond.search("!=")!=-1)
{parts=cond.split("!=");comparison="not_equal";}
else
parts=cond.split("=");var fieldToCheck=parts[0];var valueToCheck=parts[1];var fieldnameValue="";if(form[fieldToCheck].type==undefined)
{for(var j=0;j<form[fieldToCheck].length;j++)
{if(form[fieldToCheck][j].checked)
fieldnameValue=form[fieldToCheck][j].value;}}
else if(form[fieldToCheck].type=="checkbox")
{if(form[fieldToCheck].checked)
fieldnameValue=form[parts[0]].value;}
else
fieldnameValue=form[parts[0]].value;if(comparison=="equal"&&fieldnameValue!=valueToCheck)
{satisfiesIfConditions=false;break;}
else if(comparison=="not_equal"&&fieldnameValue==valueToCheck)
{satisfiesIfConditions=false;break;}
else
row.shift();}
if(!satisfiesIfConditions)
continue;var requirement=row[0];var fieldName=row[1];var fieldName2,fieldName3,errorMessage,lengthRequirements,date_flag;if(requirement!="function"&&form[fieldName]==undefined)
{alert("RSV Error: the field \""+fieldName+"\" doesn't exist! Please check your form and settings.");return false;}
if(requirement!="function"&&options.errorFieldClass)
{if(form[fieldName].type==undefined)
{for(var j=0;j<form[fieldName].length;j++)
{if($(form[fieldName][j]).hasClass(options.errorFieldClass))
$(form[fieldName][j]).removeClass(options.errorFieldClass);}}
else
{if($(form[fieldName]).hasClass(options.errorFieldClass))
$(form[fieldName]).removeClass(options.errorFieldClass);}}
if(row.length==6)
{fieldName2=row[2];fieldName3=row[3];date_flag=row[4];errorMessage=row[5];}
else if(row.length==5)
{fieldName2=row[2];fieldName3=row[3];errorMessage=row[4];}
else if(row.length==4)
{fieldName2=row[2];errorMessage=row[3];}
else
errorMessage=row[2];if(requirement.match("^length"))
{lengthRequirements=requirement;requirement="length";}
if(requirement.match("^range"))
{rangeRequirements=requirement;requirement="range";}
switch(requirement)
{case"required":if(form[fieldName].type==undefined)
{var oneIsChecked=false;for(var j=0;j<form[fieldName].length;j++)
{if(form[fieldName][j].checked)
oneIsChecked=true;}
if(!oneIsChecked)
{if(!processError(form[fieldName],errorMessage))
return false;}}
else if(form[fieldName].type=="select-multiple")
{var oneIsSelected=false;for(var k=0;k<form[fieldName].length;k++)
{if(form[fieldName][k].selected)
oneIsSelected=true;}
if(!oneIsSelected||form[fieldName].length==0)
{if(!processError(form[fieldName],errorMessage))
return false;}}
else if(form[fieldName].type=="checkbox")
{if(!form[fieldName].checked)
{if(!processError(form[fieldName],errorMessage))
return false;}}
else if(!form[fieldName].value)
{if(!processError(form[fieldName],errorMessage))
return false;}
break;case"digits_only":if(form[fieldName].value&&form[fieldName].value.match(/\D/))
{if(!processError(form[fieldName],errorMessage))
return false;}
break;case"letters_only":if(form[fieldName].value&&form[fieldName].value.match(/[^a-zA-Z]/))
{if(!processError(form[fieldName],errorMessage))
return false;}
break;case"is_alpha":if(form[fieldName].value&&form[fieldName].value.match(/\W/))
{if(!processError(form[fieldName],errorMessage))
return false;}
break;case"custom_alpha":var conversion={"L":"[A-Z]","V":"[AEIOU]","l":"[a-z]","v":"[aeiou]","D":"[a-zA-Z]","F":"[aeiouAEIOU]","C":"[BCDFGHJKLMNPQRSTVWXYZ]","x":"[0-9]","c":"[bcdfghjklmnpqrstvwxyz]","X":"[1-9]","E":"[bcdfghjklmnpqrstvwxyzBCDFGHJKLMNPQRSTVWXYZ]"};var reg_exp_str="";for(var j=0;j<fieldName2.length;j++)
{if(conversion[fieldName2.charAt(j)])
reg_exp_str+=conversion[fieldName2.charAt(j)];else
reg_exp_str+=fieldName2.charAt(j);}
var reg_exp=new RegExp(reg_exp_str);if(form[fieldName].value&&reg_exp.exec(form[fieldName].value)==null)
{if(!processError(form[fieldName],errorMessage))
return false;}
break;case"reg_exp":var reg_exp_str=fieldName2.replace(/%%C%%/ig,",");if(row.length==5)
var reg_exp=new RegExp(reg_exp_str,fieldName3);else
var reg_exp=new RegExp(reg_exp_str);if(form[fieldName].value&&reg_exp.exec(form[fieldName].value)==null)
{if(!processError(form[fieldName],errorMessage))
return false;}
break;case"length":comparison_rule="";rule_string="";if(lengthRequirements.match(/length=/))
{comparison_rule="equal";rule_string=lengthRequirements.replace("length=","");}
else if(lengthRequirements.match(/length>=/))
{comparison_rule="greater_than_or_equal";rule_string=lengthRequirements.replace("length>=","");}
else if(lengthRequirements.match(/length>/))
{comparison_rule="greater_than";rule_string=lengthRequirements.replace("length>","");}
else if(lengthRequirements.match(/length<=/))
{comparison_rule="less_than_or_equal";rule_string=lengthRequirements.replace("length<=","");}
else if(lengthRequirements.match(/length</))
{comparison_rule="less_than";rule_string=lengthRequirements.replace("length<","");}
switch(comparison_rule)
{case"greater_than_or_equal":if(!(form[fieldName].value.length>=parseInt(rule_string)))
{if(!processError(form[fieldName],errorMessage))
return false;}
break;case"greater_than":if(!(form[fieldName].value.length>parseInt(rule_string)))
{if(!processError(form[fieldName],errorMessage))
return false;}
break;case"less_than_or_equal":if(!(form[fieldName].value.length<=parseInt(rule_string)))
{if(!processError(form[fieldName],errorMessage))
return false;}
break;case"less_than":if(!(form[fieldName].value.length<parseInt(rule_string)))
{if(!processError(form[fieldName],errorMessage))
return false;}
break;case"equal":var range_or_exact_number=rule_string.match(/[^_]+/);var fieldCount=range_or_exact_number[0].split("-");if(fieldCount.length==2)
{if(form[fieldName].value.length<fieldCount[0]||form[fieldName].value.length>fieldCount[1])
{if(!processError(form[fieldName],errorMessage))
return false;}}
else
{if(form[fieldName].value.length!=fieldCount[0])
{if(!processError(form[fieldName],errorMessage))
return false;}}
break;}
break;case"valid_email":if(form[fieldName].value&&!isValidEmail(form[fieldName].value))
{if(!processError(form[fieldName],errorMessage))
return false;}
break;case"valid_date":var isLaterDate=false;if(date_flag=="later_date")
isLaterDate=true;else if(date_flag=="any_date")
isLaterDate=false;if(!isValidDate(form[fieldName].value,form[fieldName2].value,form[fieldName3].value,isLaterDate))
{if(!processError(form[fieldName],errorMessage))
return false;}
break;case"same_as":if(form[fieldName].value!=form[fieldName2].value)
{if(!processError(form[fieldName],errorMessage))
return false;}
break;case"range":comparison_rule="";rule_string="";if(rangeRequirements.match(/range=/))
{comparison_rule="equal";rule_string=rangeRequirements.replace("range=","");}
else if(rangeRequirements.match(/range>=/))
{comparison_rule="greater_than_or_equal";rule_string=rangeRequirements.replace("range>=","");}
else if(rangeRequirements.match(/range>/))
{comparison_rule="greater_than";rule_string=rangeRequirements.replace("range>","");}
else if(rangeRequirements.match(/range<=/))
{comparison_rule="less_than_or_equal";rule_string=rangeRequirements.replace("range<=","");}
else if(rangeRequirements.match(/range</))
{comparison_rule="less_than";rule_string=rangeRequirements.replace("range<","");}
switch(comparison_rule)
{case"greater_than_or_equal":if(!(form[fieldName].value>=Number(rule_string)))
{if(!processError(form[fieldName],errorMessage))
return false;}
break;case"greater_than":if(!(form[fieldName].value>Number(rule_string)))
{if(!processError(form[fieldName],errorMessage))
return false;}
break;case"less_than_or_equal":if(!(form[fieldName].value<=Number(rule_string)))
{if(!processError(form[fieldName],errorMessage))
return false;}
break;case"less_than":if(!(form[fieldName].value<Number(rule_string)))
{if(!processError(form[fieldName],errorMessage))
return false;}
break;case"equal":var rangeValues=rule_string.split("-");if((form[fieldName].value<Number(rangeValues[0]))||(form[fieldName].value>Number(rangeValues[1])))
{if(!processError(form[fieldName],errorMessage))
return false;}
break;}
break;case"function":custom_function=fieldName;eval("var result = "+custom_function+"()");if(result.constructor.toString().indexOf("Array")!=-1)
{for(var j=0;j<result.length;j++)
{if(!processError(result[j][0],result[j][1]))
return false;}}
break;default:alert("Unknown requirement flag in validateFields(): "+requirement);return false;}}
if(typeof options.customErrorHandler=='function')
return options.customErrorHandler(form,returnHash);else if(options.displayType=="alert-all")
{var errorStr=options.errorTextIntro+"\n\n";for(var i=0;i<returnHash.length;i++)
{errorStr+=options.errorJSItemBullet+returnHash[i][1]+"\n";styleField(returnHash[i][0],i==0);}
if(returnHash.length>0)
{alert(errorStr);return false;}}
else if(options.displayType=="display-html")
{var success=displayHTMLErrors(form,returnHash);if(!success)
return false;}
if(typeof options.onCompleteHandler=='function')
return options.onCompleteHandler();else
return true;}
function processError(obj,message)
{message=message.replace(/%%C%%/ig,",");var continueProcessing=true;switch(options.displayType)
{case"alert-one":alert(message);styleField(obj,true);continueProcessing=false;break;case"alert-all":case"display-html":returnHash.push([obj,message]);break;}
return continueProcessing;}
function displayHTMLErrors(f,errorInfo)
{var errorHTML=options.errorTextIntro+"<br /><br />";for(var i=0;i<errorInfo.length;i++)
{errorHTML+=options.errorHTMLItemBullet+errorInfo[i][1]+"<br />";styleField(errorInfo[i][0],i==0);}
if(errorInfo.length>0)
{$("#"+options.errorTargetElementId).css("display","block");$("#"+options.errorTargetElementId).html(errorHTML);return false;}
return true;}
function styleField(field,focus)
{if(field.type==undefined)
{if(focus)
field[0].focus();for(var i=0;i<field.length;i++)
{if(!$(field[i]).hasClass(options.errorFieldClass))
$(field[i]).addClass(options.errorFieldClass);}}
else
{if(options.errorFieldClass)
$(field).addClass(options.errorFieldClass);if(focus)
field.focus();}}
function isValidEmail(str)
{var s=$.trim(str);var at="@";var dot=".";var lat=s.indexOf(at);var lstr=s.length;var ldot=s.indexOf(dot);if(s.indexOf(at)==-1||(s.indexOf(at)==-1||s.indexOf(at)==0||s.indexOf(at)==lstr)||(s.indexOf(dot)==-1||s.indexOf(dot)==0||s.indexOf(dot)==lstr)||(s.indexOf(at,(lat+1))!=-1)||(s.substring(lat-1,lat)==dot||s.substring(lat+1,lat+2)==dot)||(s.indexOf(dot,(lat+2))==-1)||(s.indexOf(" ")!=-1))
{return false;}
return true;}
function isValidDate(month,day,year,isLaterDate)
{var daysInMonth;if((year%4==0)&&((year%100!=0)||(year%400==0)))
daysInMonth=[31,29,31,30,31,30,31,31,30,31,30,31];else
daysInMonth=[31,28,31,30,31,30,31,31,30,31,30,31];if(!month||!day||!year)return false;if(1>month||month>12)return false;if(year<0)return false;if(1>day||day>daysInMonth[month-1])return false;if(isLaterDate)
{var today=new Date();var currMonth=today.getMonth()+1;var currDay=today.getDate();var currYear=today.getFullYear();if(String(currMonth).length==1)currMonth="0"+currMonth;if(String(currDay).length==1)currDay="0"+currDay;var currDate=String(currYear)+String(currMonth)+String(currDay);if(String(month).length==1)month="0"+month;if(String(day).length==1)day="0"+day;incomingDate=String(year)+String(month)+String(day);if(Number(currDate)>Number(incomingDate))
return false;}
return true;}})(jQuery);;function createCookie(name,value,days){if(days){var date=new Date();date.setTime(date.getTime()+(days*24*60*60*1000));var expires="; expires="+date.toGMTString();}
else var expires="";document.cookie=name+"="+value+expires+"; path=/";}
function msieversion(){var rv=-1;if(navigator.appName=='Microsoft Internet Explorer')
{var ua=navigator.userAgent;var re=new RegExp("MSIE ([0-9]{1,}[\.0-9]{0,})");if(re.exec(ua)!=null)
rv=parseFloat(RegExp.$1);}
else if(navigator.appName=='Netscape')
{var ua=navigator.userAgent;var re=new RegExp("Trident/.*rv:([0-9]{1,}[\.0-9]{0,})");if(re.exec(ua)!=null)
rv=parseFloat(RegExp.$1);}
return(rv!=-1);}
function readCookie(name){var nameEQ=name+"=";var ca=document.cookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==' ')c=c.substring(1,c.length);if(c.indexOf(nameEQ)==0)return c.substring(nameEQ.length,c.length);}
return null;}
var showZoomImage=0;var showZoomImageInterval='';function openFancyZoom(elemID){clickFancyZoom($('#'+elemID));}
function clickFancyZoom(obj){var href=$(obj).attr('href');$('#zoomImageBigContainer .tdContent img').attr('src',href);$('body,html').scrollTo({top:0,left:0}).css('overflow','hidden');if(showZoomImage){openZoomImageFct();return false;}else{showZoomImageInterval=setInterval('openZoomImageFct()',100);return false;}}
function openZoomImageFct(){if(showZoomImage){showZoomImageFct();}}
function showZoomImageFct(){var width=$(window).width();var height=$(window).height();var widthImg=$('#zoomImageBigContainer').width();var heightImg=$('#zoomImageBigContainer').height();if(width<widthImg||height<heightImg){var ratioHeight=height/heightImg;var ratioWidth=width/widthImg;if(ratioHeight>ratioWidth){$('#zoomImageBigContainer img').width((width-40)+'px');}else{$('#zoomImageBigContainer img').height((height-40)+'px');}
widthImg=$('#zoomImageBigContainer').width();heightImg=$('#zoomImageBigContainer').height();width=$(window).width();height=$(window).height();}
$('#zoomImageBigContainer').css('top',(height-heightImg)/2);$('#zoomImageBigContainer').css('left',(width-widthImg)/2);$('#zoomImageBigContainer').css('display','none').removeClass('zoomImageHide');$('#zoomImageBigContainer').slideDown('slow');showZoomImage=0;clearInterval(showZoomImageInterval);return false;}
function allowOnlyNumbers(evt){evt=(evt)?evt:window.event;var charCode=(evt.which)?evt.which:evt.keyCode;var allowed=[35,36,37,39,46];if(charCode>31&&(charCode<48||charCode>57)){if($.inArray(charCode,allowed)!=-1){return true;}
if(charCode>=96&&charCode<=105){return true;}
return false;}
return true;}
function validateOnlyNumbers(obj,evt){var value=parseInt(obj.val());if(isNaN(value)){obj.val('');}
else
obj.val(value);}
function weeblyapp_js_init(){$('body').addClass('body_weebly_app');if($('body #logo_index a').length){$('body #logo_index a').attr('href','#');}
if($('body #logo a').length){$('body #logo a').attr('href','#');}}
function submit_1and1_page_height(){console.log('iframe_height sent: '+$('body').height());var height=$('body').height()+20;if(height<50){if($('.logos_background_page').length){height=$('.logos_background_page').height();}}
window.parent.postMessage(height,'*');}
function onElementHeightChange(elm,callback){var lastHeight=elm.clientHeight,newHeight;(function run(){newHeight=elm.clientHeight;if(lastHeight!=newHeight)
callback();lastHeight=newHeight;if(elm.onElementHeightChangeTimer)
clearTimeout(elm.onElementHeightChangeTimer);elm.onElementHeightChangeTimer=setTimeout(run,200);})();}
function fls_init_body_classes(){if(typeof Drupal.settings.body_classes=='object'){$.each(Drupal.settings.body_classes,function(k,v){if(typeof v=='string'){$('body').addClass(v);}});}
else if(typeof Drupal.settings.body_classes=='string'){$('body').addClass(Drupal.settings.body_classes);}}
function lazyload_init(){lazyload_check();$(window).scroll(lazyload_check);}
function lazyload_check(){if($('.lazyload').length<1)return;var window_bottom=$(window).scrollTop()+$(window).height();$('.lazyload').each(function(){var div_top=$(this).offset().top;if(div_top>0&&div_top<=window_bottom+200){lazyload_process(this);}});}
function lazyload_process(o){$(o).one('load',function(){$(o).removeClass('lazyload')}).attr('src',$(o).attr('data-src')).removeAttr('data-lazy');if($(o).attr('data-class')){$(o).removeClass('lazyload').addClass($(o).attr('data-class'));}}
$(document).ready(function(){lazyload_init();$('input,textarea').each(function(){if($(this).prop('required')){$(this).on('invalid',function(){this.setCustomValidity(Drupal.settings.please_fill_in);});$(this).on('input',function(){this.setCustomValidity('');});}});fls_init_body_classes();$('.fls-auto-resize-text').autoTextSizeFls();if(self!=top){setTimeout(function(){submit_1and1_page_height();onElementHeightChange($('body')[0],submit_1and1_page_height);},500);}
if(typeof Drupal.settings.weeblyapp_flow!='undefined'){if(Drupal.settings.weeblyapp_flow){weeblyapp_js_init();}}
$('.radio_mic').mousedown(function(){ga('send','event','Podcast','Click','Podcast microphone');});$('.sizeIsNumber').keydown(function(evt){return allowOnlyNumbers(evt);});$('.sizeIsNumber').change(function(evt){return validateOnlyNumbers($(this),evt);});Drupal.settings.jqm_url='';var language='';if(Drupal.settings.lang!='en'){language='/'+Drupal.settings.lang;}
if(Drupal.settings.baseUrl.indexOf('https')>=0){Drupal.settings.jqm_url=language+'/jqm/secure/';}
else Drupal.settings.jqm_url=language+'/jqm/ajax/';$('#edit-submit').css('display','inline-block');if($("#step4_special_offer3").length==0)
$('#edit-submit').click(function(){if($('#user-pass').length>0)$('#user-pass').submit();if($('#user-login').length>0)$('#user-login').submit();})
if($('a.highslide').length>0){$.ajax({url:'jqm/template',success:function(Response){$('body').append('<div class="zoomImageHide" id="zoomImageBigContainer">'+Response+'</div>');$('#zoomImageBigContainer .tdContent').css('width','auto').css('height','auto').append('<img src="#" />');$('#zoomImageBigContainer .tdContent img').click(function(){$('#zoomImageBigContainer').slideUp('slow',function(){$(this).addClass('zoomImageHide').css('display','');$('body,html').css('overflow','');$('#zoomImageBigContainer img').width('auto');$('#zoomImageBigContainer img').height('auto');});}).bind('load',function(){$('#zoomImageBigContainer').css('display','none').removeClass('zoomImageHide');showZoomImage=1;});}});}
$('a.highslide').click(function(){clickFancyZoom(this);return false;});try{if($('#spam_free_policy_terms_and_cond').length){var positionTAC1=$('#spam_free_policy_terms_and_cond').offset();var leftTAC1=positionTAC1.left;var topTAC1=positionTAC1.top;$('#terms_and_conditions_container').css('top',topTAC1-5-$('#terms_and_conditions_container').height());$('#terms_and_conditions_container').css('left',leftTAC1-($('#terms_and_conditions_container').width()/2));}
if($('.protect_privacy').length){var positionTAC4=$('.logo_creator_protect_privacy').offset();var leftTAC4=positionTAC4.left;var topTAC4=positionTAC4.top;$('#privacy_policy_container').css('top',topTAC4-100);$('#privacy_policy_container').css('left',leftTAC4-($('#privacy_policy_container').width()/2));var privacyObj=$('#privacy_policy_container');$('#privacy_policy_container').remove();$('body').append(privacyObj);}
if($('#terms_and_conditions_general_container').length){var positionTAC2=$('#terms_and_cond').offset();var leftTAC2=positionTAC2.left;var topTAC2=positionTAC2.top;$('#terms_and_conditions_general_container').css('top',topTAC2-5-$('#terms_and_conditions_general_container').height());$('#terms_and_conditions_general_container').css('left',leftTAC2-($('#terms_and_conditions_general_container').width()/2));}
if($('#privacy_policy_general_container').length){var positionTAC3=$('#privacy_modal').offset();var leftTAC3=positionTAC3.left;var topTAC3=positionTAC3.top;$('#privacy_policy_general_container').css('top',topTAC3-5-$('#privacy_policy_general_container').height());$('#privacy_policy_general_container').css('left',leftTAC3-($('#privacy_policy_general_container').width()/2));}}catch(err){}
$('#edit-logo-type').click(function(){$('#edit-logo-type').addClass('highlight_field');}).bind('mouseout',function(){$('#edit-logo-type').removeClass('highlight_field');});$('#edit-logo-type option').bind('mouseover',function(){$('#edit-logo-type').addClass('highlight_field');});$('#edit-country').click(function(){$('#edit-country').addClass('highlight_field');}).bind('mouseout',function(){$('#edit-country').removeClass('highlight_field');});$('#edit-country option').bind('mouseover',function(){$('#edit-country').addClass('highlight_field');});$('.tooltipspan').tooltip({track:true,delay:0,showURL:false,showBody:" - ",fade:250});$('#spam_free_policy, .index5v2_why a:first').each(function(){var text=$(this).attr('title');if(text==undefined||!text){var classname=$(this).attr('class');if(!classname)classname=$(this).parent().attr('class');var text=$('.'+classname+'_hover').html();text=text.replace('<a href="#">','');}
if(text!=undefined&&text){$(this).attr('textattr',text);$(this).attr('title','');}}).click(function(){$('#tooltip').remove();var text=$(this).attr('textattr');if(text==undefined||!text)return false;var pos=$(this).offset();var width=$(this).width();pos.left+=width+5;$('body').append('<div style="max-width:300px;top:'+pos.top+'px;left:'+pos.left+'px;" id="tooltip" class="viewport-right"><a href="#" style="position:absolute;right:5px;top:1px;text-decoration:none;" class="tooltip-closex">&#10006;</a><p style="padding:5px;" class="tooltip-text">'+text+'</p></div>');$('#tooltip a.tooltip-closex').click(function(){$('#tooltip').remove();return false;});return false;});$('#spam_free_policy_why_phone').tooltip({track:true,delay:0,showURL:false,showBody:" - ",fade:250});$('#spam_free_policy_terms_and_cond,#terms_and_cond,.spam_free_policy_terms_and_cond').click(function(){var language='';if(Drupal.settings.lang){language='/'+Drupal.settings.lang;}
window.open(language+'/terms');return false;});$('#privacy_modal,.protect_privacy').click(function(){var language='';if(Drupal.settings.lang){language='/'+Drupal.settings.lang;}
window.open(language+'/privacy');return false;});if($("#step4_special_offer3").length==0)
$('#step-1-form #edit-submit').click(function(){additionalErrorHTML="";$("#rsvErrors").html("").css('display','none');var errorHTML=Drupal.settings.step_1_form.form_header_error;if($('input[name="logo_first_line"]').val()==""){additionalErrorHTML+=Drupal.settings.step_1_form.logo_first_line.required;$('input[name="logo_first_line"]').addClass('errorFieldDemo5');$('#logo_first_line_label').addClass('signup_error_label');$('#logo_first_line_error_icon').show();}else{$('input[name="logo_first_line"]').removeClass('errorFieldDemo5');$('#logo_first_line_label').removeClass('signup_error_label');$('#logo_first_line_error_icon').hide();}
if(Drupal.settings.logocategory_split_set==2){if($('#edit-logo-type').val()=="-1"){additionalErrorHTML+=Drupal.settings.step_1_form.logo_type.invalid;$('#edit-logo-type').addClass('errorFieldDemo5');fls_events_add('error_msg_not_selecting_logo_category',1);}
else{$('#edit-logo-type').removeClass('errorFieldDemo5');}}
if($('input[name="first_name"]').val()==""){additionalErrorHTML+=Drupal.settings.step_1_form.first_name.required;$('input[name="first_name"]').addClass('errorFieldDemo5');$('#logo_first_name_label').addClass('signup_error_label');$('#logo_first_name_error_icon').show();}else{$('input[name="first_name"]').removeClass('errorFieldDemo5');$('#logo_first_name_label').removeClass('signup_error_label');$('#logo_first_name_error_icon').hide();}
if($('input[name="last_name"]').val()==""){additionalErrorHTML+=Drupal.settings.step_1_form.last_name.required;"&#8226;&nbsp;<strong>Last Name:</strong> Required information<br />";$('input[name="last_name"]').addClass('errorFieldDemo5');$('#logo_last_name_label').addClass('signup_error_label');$('#logo_last_name_error_icon').show();}else{$('input[name="last_name"]').removeClass('errorFieldDemo5');$('#logo_last_name_label').removeClass('signup_error_label');$('#logo_last_name_error_icon').hide();}
if($('input[name="phone"]').val()==""){additionalErrorHTML+=Drupal.settings.step_1_form.phone.required;$('input[name="phone"]').addClass('errorFieldDemo5');$('#phone_label').addClass('signup_error_label');$('#phone_error_icon').show();}else{if(!validate_phone_function($('input[name="phone"]').val())){additionalErrorHTML+=Drupal.settings.step_1_form.phone.invalid;$('input[name="phone"]').addClass('errorFieldDemo5');$('#phone_label').addClass('signup_error_label');$('#phone_error_icon').show();}else{$('input[name="phone"]').removeClass('errorFieldDemo5');$('#phone_label').removeClass('signup_error_label');$('#phone_error_icon').hide();}}
var emailValid=1;$('input[name="email"]').removeClass('errorFieldDemo5');$('#email_label').removeClass('signup_error_label');$('#email_error_icon').hide();if($('input[name="email"]').length){if($('input[name="email"]').val()==""){emailValid=0;additionalErrorHTML+=Drupal.settings.step_1_form.email.required;$('input[name="email"]').addClass('errorFieldDemo5');$('#email_label').addClass('signup_error_label');$('#email_error_icon').show();}else{if(!isValidEmail($('input[name="email"]').val())){emailValid=0;additionalErrorHTML+=Drupal.settings.step_1_form.email.invalid;$('input[name="email"]').addClass('errorFieldDemo5');$('#email_label').addClass('signup_error_label');$('#email_error_icon').show();}}}
$('input[name="confirm_email"]').removeClass('errorFieldDemo5');$('#confirm_email_label').removeClass('signup_error_label');$('#confirm_email_error_icon').hide();if($('input[name="email"]').length&&$('input[name="confirm_email"]').length){if($('input[name="confirm_email"]').val()==""){additionalErrorHTML+=Drupal.settings.step_1_form.confirm_email.required;$('input[name="confirm_email"]').addClass('errorFieldDemo5');$('#confirm_email_label').addClass('signup_error_label');$('#confirm_email_error_icon').show();}else{if($.trim($('input[name="confirm_email"]').val().toLowerCase())!=$.trim($('input[name="email"]').val().toLowerCase())){additionalErrorHTML+=Drupal.settings.step_1_form.confirm_email.not_confirm;$('input[name="confirm_email"]').addClass('errorFieldDemo5');$('#confirm_email_label').addClass('signup_error_label');$('#confirm_email_error_icon').show();}}}
if(!$('input[name="agree_terms"]').is(':checked')&&!Drupal.settings.terms_acceptance_set){additionalErrorHTML+=Drupal.settings.step_1_form.agree_terms.required;$('input[name="agree_terms"]').addClass('errorFieldDemo5');$('#edit-agree-terms-wrapper label').addClass('signup_error_label');$("label[for='index5_agree_terms']").addClass('signup_error_label');$('#termd_and_conditions_error_icon').show();}else{$('input[name="agree_terms"]').removeClass('errorFieldDemo5');$('#edit-agree-terms-wrapper label').removeClass('signup_error_label');$("label[for='index5_agree_terms']").removeClass('signup_error_label');$('#termd_and_conditions_error_icon').hide();}
if(!$('input[name="agree_privacy"]').is(':checked')){additionalErrorHTML+=Drupal.settings.step_1_form.agree_privacy.required;$('input[name="agree_privacy"]').addClass('errorFieldDemo5');$('#edit-agree-privacy-wrapper label').addClass('signup_error_label');$("label[for='index5_agree_privacy']").addClass('signup_error_label');$('#privacy_and_policy_error_icon').show();}else{$('input[name="agree_privacy"]').removeClass('errorFieldDemo5');$('#edit-agree-privacy-wrapper label').removeClass('signup_error_label');$("label[for='index5_agree_privacy']").removeClass('signup_error_label');$('#privacy_and_policy_error_icon').hide();}
if(additionalErrorHTML){errorHTML+=additionalErrorHTML;$("#rsvErrors").css("display","block");$("#rsvErrors").html(errorHTML);return false;}
var user_country=$('#edit-country option:selected').val();$('#step-1-form').submit();});$('#step-1-form').bind('submit',function(){if(typeof stop_duplicate_form_submit!=='undefined')return false;else stop_duplicate_form_submit=true;});$('.product_buynow').click(function(){var id=$(this).attr('id');if(id){id=id.split('_');if(!(id[1]>0))
return true;}
if($(this).hasClass('similar_tpl')){fls_store_promo_product_similar_tpl_click_direct_save(this);}
else
fls_store_promo_product_click_direct_save(this);if(id)return false;});if(typeof(Drupal.settings.ismobile)!='undefined'){if(Drupal.settings.ismobile){$('.menu_element .menu_item a').click(function(){return false;})}}
extra_class="";if(Drupal.settings.term_update_message)extra_class="term_notify_msg";if(Drupal.settings.hurricane_message_show)extra_class="hurricane_msg";if(Drupal.settings.temporary_special_message_show)extra_class="temporary_special_msg";if(typeof(Drupal.settings.coupon_message)!='undefined'&&window===window.parent){if(Drupal.settings.show_coupon_banner&&Drupal.settings.term_update_message){$('body').append('<div class="banner_container"><div class="coupon-message"><span class="coupon-message-icon"><span class="msg">'+Drupal.settings.coupon_message+'</span><span class="close"></span></div><div class="coupon-message '+extra_class+'"><span class="msg">'+Drupal.settings.term_notification_message+'</span></span><span class="close"></span></div></div>');$('body').removeClass('body-coupon-message');$('body').addClass('body-term-message');}else if(Drupal.settings.show_coupon_banner&&Drupal.settings.hurricane_message_show){$('body').append('<div class="banner_container"><div class="coupon-message"><span class="coupon-message-icon"><span class="msg">'+Drupal.settings.coupon_message+'</span><span class="close"></span></div><div class="coupon-message '+extra_class+'"><span class="msg">'+Drupal.settings.hurricane_message+'</span></span><span class="close"></span></div></div>');$('body').removeClass('body-coupon-message');$('body').addClass('body-term-message');}else if(Drupal.settings.show_coupon_banner&&Drupal.settings.temporary_special_message_show){$('body').append('<div class="banner_container"><div class="coupon-message"><span class="coupon-message-icon"><span class="msg">'+Drupal.settings.coupon_message+'</span><span class="close"></span></div><div class="coupon-message '+extra_class+'"><span class="msg">'+Drupal.settings.temporary_special_message+'</span></span><span class="close"></span></div></div>');$('body').removeClass('body-coupon-message');$('body').addClass('body-term-message');}else{$('body').append('<div class="coupon-message '+extra_class+'"><span class="coupon-message-icon"><span class="msg">'+Drupal.settings.coupon_message+'</span></span><span class="close"></span></div>');$('body').removeClass('body-term-message');$('body').addClass('body-coupon-message');}
$('.holiday-time-banner').hide();$('.covid19-banner').hide();}
$('.coupon-message .hurricane_info').click(function(e){e.preventDefault();alert(Drupal.settings.hurricane_message_info);return false;});$('.holiday-time-banner .close-holiday-time').click(function(e){e.preventDefault();fls_replace_cookie_with_session('holiday_card_hide',1);$('.holiday-time-banner').slideUp('fast');return false;});$('.ada_banner .close-ada-banner').click(function(e){e.preventDefault();fls_replace_cookie_with_session('adabanner_hide',1);$('.ada_banner').slideUp('fast');return false;});$('.covid19-banner .close-covid19').click(function(e){e.preventDefault();fls_replace_cookie_with_session('covid19_hide',1);$('.covid19-banner').slideUp('fast');return false;});$('.coupon-message span.close').click(function(){if($(this).parent().hasClass('domain')){$('.coupon-message.domain').remove();fls_replace_cookie_with_session('coupon_message',null);}else if($(this).parent().hasClass('term_notify_msg')){$('.coupon-message.term_notify_msg').remove();fls_replace_cookie_with_session('close_notification_bar',1);}else if($(this).parent().hasClass('hurricane_msg')){$('.coupon-message.hurricane_msg').remove();fls_replace_cookie_with_session('hurricane_message',1);}else if($(this).parent().hasClass('temporary_special_msg')){$('.coupon-message.temporary_special_msg').remove();fls_replace_cookie_with_session('temporary_special_msg',1);}else{$('.coupon-message:not(.term_notify_msg, .hurricane_msg, .domain, .temporary_special_msg)').remove();fls_replace_cookie_with_session('coupon_message',null);}
if(Drupal.settings.term_update_message){if($('body').hasClass('body-term-message')){$('body').removeClass('body-term-message');$('body').addClass('body-coupon-message');}else $('body').removeClass('body-coupon-message');}else $('body').removeClass('body-coupon-message');fls_banner_message_resize();});fls_banner_message_resize();fls_logo_global_leavebehind_init();$('.popup_css_container a.close').click(function(e){e.preventDefault();$('.popup_css_overlay').hide();$('.popup_css').hide();return false;});$('.popup_css_showonready').show();fls_products_also_viewed();fls_password_expired_disable_all_links();});function fls_replace_cookie_with_session(name,value){var data_send={};if(value===null)value='flsUnsetCookieNull';data_send[name]=value;$.ajax({url:Drupal.settings.baseUrl+'/cookie-session-replacement',type:"POST",data:data_send,dataType:"json",success:function(response){}});}
function fls_password_expired_disable_all_links(){if($('.password_expired_disable_all_links').length==1){$('.custom_header, #custom_footer').append('<div class="fls_password_expired_overlay"></div>').css('position','relative');$('#admin-menu').remove();}}
function fls_store_promo_product_similar_tpl_click_direct_save(obj){var id=$(obj).attr('id');if(id){id=id.split('_');fls_store_promo_product_similar_tpl_direct_save(id[1],id[2],id[3],id[4]);return false;}}
function fls_store_promo_product_click_direct_save(obj){var id=$(obj).attr('id');if(id){id=id.split('_');fls_store_promo_product_direct_save(id[1],id[2],id[3]);return false;}}
var additionalErrorHTML;function fls_track_title_page(){var v=$.cookie('track_title_page');var vg=Drupal.settings.track_title_page;var path=Drupal.settings.fls_path;path=path.split('/');var p=$.cookie('fls_check_plugin');var flash='';var java='';var referrer='';if(p=='1'){flash=PluginDetect.getVersion('flash');java='';}
if(p){var title=$('head title').text();var head_title=$.cookie('head_title');if(head_title=='1'){$.cookie('head_title',title);}
$.ajax({url:Drupal.settings.baseUrl+'/track-title-page',type:"POST",data:({title:title,flash:flash,java:java,referrer:referrer}),dataType:"json",success:function(msg){$('#edit-country').val(msg['country_data']['country_id']);$('#edit-country').trigger('change');}});}}
function isValidEmail(str)
{var re=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return str.match(re);}
function validate_phone_function(){if(!$('#edit-phone').length)return true;var phone=document.getElementById("edit-phone").value;var country_id=$('#edit-country').val();if(country_id=='1'||country_id=='2'||country_id=='01'||country_id=='02'){var regexpn1=/^[-+.()_xX0-9 ]+$/;}else{var regexpn1=/^[-+.()_xX0-9 \/]+$/;}
var regexpn3=/([0]{7}|[1]{7}|[2]{7}|[3]{7}|[4]{7}|[5]{7}|[6]{7}|[7]{7}|[8]{7}|[9]{7})/;var valid=false;if(phone.match(regexpn1)){valid=true;}else{valid=false;}
if(valid){var count=0;for(var i=0;i<phone.length;i++){var c=parseInt(phone.charAt(i));if(c>=0&&c<=9){count++;}}
if(country_id=='1'||country_id=='2'||country_id=='01'||country_id=='02'){if(count<10||count>11){valid=false;}}else if(country_id=='50'){if(count<7||count>15){valid=false;}}else{if(count<8||count>15){valid=false;}}
if(phone=='555-1212'||phone.indexOf('555-1212')>=0)valid=false;if(phone.match(regexpn3))valid=false;}
return valid;}
function validate_phone(phone){if(!phone)return true;var country_id=$('#edit-country').val();if(country_id=='1'||country_id=='2'||country_id=='01'||country_id=='02'){var regexpn1=/^[-+.()_xX0-9 ]+$/;}else{var regexpn1=/^[-+.()_xX0-9 \/]+$/;}
var regexpn3=/([0]{7}|[1]{7}|[2]{7}|[3]{7}|[4]{7}|[5]{7}|[6]{7}|[7]{7}|[8]{7}|[9]{7})/;var valid=false;if(phone.match(regexpn1)){valid=true;}else{valid=false;}
if(valid){var count=0;for(var i=0;i<phone.length;i++){var c=parseInt(phone.charAt(i));if(c>=0&&c<=9){count++;}}
if(country_id=='1'||country_id=='2'||country_id=='01'||country_id=='02'){if(count<10||count>11){valid=false;}}else if(country_id=='50'){if(count<7||count>15){valid=false;}}else{if(count<8||count>15){valid=false;}}
if(phone=='555-1212'||phone.indexOf('555-1212')>=0)valid=false;if(phone.match(regexpn3))valid=false;}
return valid;}
function fls_validate_domain(domain){if(!domain)
return false;var re=new RegExp(/^(([a-zA-Z]{1})|([a-zA-Z]{1}[a-zA-Z]{1})|([a-zA-Z]{1}[0-9]{1})|([0-9]{1}[a-zA-Z]{1})|([a-zA-Z0-9][a-zA-Z0-9-_]{1,61}[a-zA-Z0-9]))\.([a-zA-Z]{2,6}|[a-zA-Z0-9-]{2,30}\.[a-zA-Z]{2,3})$/);return domain.match(re);}
function loadPageAfterLogin(){window.location='mylogos';}
function clickPopupsListen(){$('#popups .popups_login_forgot a').click(function(){var element=$('.popups_login_forgot a');var options={'href':element.attr('href'),'onComplete':'clickPopupsListen'};options.noUpdate=1;switch(element.attr('class')){case'forgot_password_modal':options.forceReturn='user/notice/reset';options.hideResult=0;break;case'login_modal':options.forceReturn='mylogos';options.afterSubmit='loadPageAfterLogin';break;default:break;}
Drupal.popups.close();Drupal.popups.openPath(element,options);return false;});}
function jqm_calculate_position(link,container){var offset=$(link).offset();var top=offset.top-5-320;var left=offset.left-(360/2);if(top<0)top=0;if(left<0)left=0;$(container).css('top',top);$(container).css('left',left);}
function printPT(){$('#printPage').click(function(){var className=$(this).attr('class');var content=$('.WordSection1').html();window.open(Drupal.settings.baseUrl+'/jqm/print/'+className,'','width=600, height=400,scrollbars=1');return false;});}
function fls_email_exist_redirect(){var language='';var destination='';if(Drupal.settings.lang!='en')language='/'+Drupal.settings.lang;if(Drupal.settings.destination!=undefined){destination='?destination='+Drupal.settings.destination;}
window.location=Drupal.settings.baseUrl+language+'/user/login'+destination;}
function store_format_price(price,country_id,currency){var price_as_text='';var price_as_text=price.toFixed(2);if(currency){switch(country_id){case 0:case 1:default:price_as_text=currency+price_as_text;break;}}else{switch(country_id){case 0:case 1:default:break;}}
return price_as_text;}
function fls_store_step3_track(editor_version){window.onbeforeunload=null;}
function fls_store_promo_product_similar_tpl_direct_save(lid,editor,product_id,tpl_id){show_loading_overlay();var base_url=Drupal.settings.baseUrl;if(Drupal.settings.lang&&Drupal.settings.lang!='en'){base_url+='/'+Drupal.settings.lang;}
var base_url_nossl=base_url.replace('https://','http://');var url='';var isHttps=Drupal.settings.baseUrl.indexOf('https://');if(isHttps==-1){base_url=base_url_nossl;url+=base_url+'/product/directsave/'+lid+'/'+editor+'/'+tpl_id;}else{url+=base_url+'/product/directsave/ssl/'+lid+'/'+editor+'/'+tpl_id;}
if(product_id==36&&Drupal.settings.upsell_country=='US'){window.location=base_url+'/pens';return false;}
$.ajax({url:url,dataType:"json",success:function(Response){if(Response.success=='1'){var url=base_url;var lds='';if($('#lds').length){if($('#lds').val()==1){lds='&lds=1';}}
url+='/product/options/'+product_id+'?lid='+Response['lid']+lds;window.location=url;}else{if(Response.success=='0'&&Response.errcode==-1){window.location=base_url+$('#promo_'+lid+'_'+editor+'_'+product_id).attr('href');return;}
if($('#TB_load').length){if(typeof Drupal.settings.storage_failed_message!='undefined'){$('#TB_load p').html(Drupal.settings.storage_failed_message);$('#TB_load p .refresh_page').click(function(e){e.preventDefault();location.reload();return false;});}}}}});return false;}
function fls_store_promo_product_direct_save(lid,editor,product_id){show_loading_overlay();var base_url=Drupal.settings.baseUrl;if(Drupal.settings.lang&&Drupal.settings.lang!='en'){base_url+='/'+Drupal.settings.lang;}
var base_url_nossl=base_url.replace('https://','http://');var url='';var isHttps=Drupal.settings.baseUrl.indexOf('https://');if(isHttps==-1){base_url=base_url_nossl;url+=base_url+'/product/directsave/'+lid+'/'+editor;}else{url+=base_url+'/product/directsave/ssl/'+lid+'/'+editor;}
if(product_id==36&&Drupal.settings.upsell_country=='US'){window.location=base_url+'/pens';return false;}
$.ajax({url:url,dataType:"json",success:function(Response){console.log('success');if(Response.success=='1'){var url=base_url;var lds='';if($('#lds').length){if($('#lds').val()==1){lds='&lds=1';}}
url+='/product/options/'+product_id+'?lid='+Response['lid']+lds;window.location=url;}else{if(Response.success=='0'&&Response.errcode==-1){window.location=base_url+$('#promo_'+lid+'_'+editor+'_'+product_id).attr('href');return;}
if($('#TB_load').length){if(typeof Drupal.settings.storage_failed_message!='undefined'){$('#TB_load p').html(Drupal.settings.storage_failed_message);$('#TB_load p .refresh_page').click(function(e){e.preventDefault();location.reload();return false;});}}}}});return false;}
function fls_popunder_callback(param){$('.logo_promo_product_lightbox,#flash_promo_products_popup').hide();var popup_url=Drupal.settings.custom_popunder_url||Drupal.settings.popunder_url;fls_new_page(popup_url,'width=1000, height=690,scrollbars=yes,resizable=yes, location=yes, toolbar=yes, menubar=yes','step4');Drupal.settings.offer_flash_submited=true;var fls_popunder_callback_timer=typeof(fls_popunder_callback_timer_overwrite)!='undefined'?fls_popunder_callback_timer_overwrite:2000;setTimeout(function(){if(typeof param!='undefined'){if(param.length){if($(param+" .popunder_click").length)
param+=" .popunder_click";$(param).trigger('mousedown').trigger('click').focus();$(param)[0].click();popunder_hide_elements();return;}}
$('.popunder_click_holder:last').trigger('click');window.location=$('.popunder_click_holder:last').attr('href');},fls_popunder_callback_timer);}
function fls_store_holiday_card_direct_save(logo_id,editor,card_id){show_loading_overlay();var base_url=Drupal.settings.baseUrl;if(Drupal.settings.lang&&Drupal.settings.lang!='en'){base_url+='/'+Drupal.settings.lang;}
var base_url_nossl=base_url.replace('https://','http://');var url='';var isHttps=Drupal.settings.baseUrl.indexOf('https://');if(isHttps==-1){base_url=base_url_nossl;url+=base_url+'/product/directsave/'+logo_id+'/'+editor+'/'+card_id;}else{url+=base_url+'/product/directsave/ssl/'+logo_id+'/'+editor+'/'+card_id;}
$.ajax({url:url,dataType:"json",success:function(Response){if(Response.success=='1'){var url=base_url;url+='/holiday-greeting-cards/options/'+Response['lid'];window.location=url;}else{return true;}}});return false;}
function is_inside_iframe(){var inside_iframe=false;try
{if(top!==self){inside_iframe=true;}}
catch(err){inside_iframe=true;}
return inside_iframe;}
function fls_events_add_ajax(field_name,field_value){var key=field_name+field_value;if(typeof Drupal.settings.fls_events_add_ajax=='undefined')Drupal.settings.fls_events_add_ajax={};if(typeof Drupal.settings.fls_events_add_ajax[key]!='undefined'){if(Drupal.settings.fls_events_add_ajax[key])return false;}
Drupal.settings.fls_events_add_ajax[key]=1;$.ajax({url:Drupal.settings.basePath+'set_tracking_from_ajax',type:"POST",data:({field_name:field_name,field_value:field_value,}),success:function(data){Drupal.settings.fls_events_add_ajax[key]=0;return;}});}
function fls_events_add(event,val){var events_tracked_with_ajax=['nr_err_msg_on_checkout','hit_checkout_cart_section','hit_checkout_upsell_section','hit_checkout_billing_section','hit_checkout_payment_section','hit_checkout_shipping_section','hit_checkout_account_section','logoselect_max_page','logoselect_logo_like_pref','logoselect_logo_like_recom','logoselect_logo_unlike_pref','logoselect_logo_unlike_recom','fired_523moreinfo_lightbox','fired_premiumlogomoreinfo_lightbox','fired_uberallmoreinfo_lightbox','fired_467moreinfo_lightbox','checkout_premium_logo_447_checked','checkout_business_listing_561_checked','checkout_google_apps_523_checked','checkout_google_apps_467_checked','fired_473moreinfo_lightbox','checkout_473upsell_checked','saw_plp_lb','payment_method_selected','clicked_select_a_plan','plan_selected','weebly_package_2','weebly_package_3','weebly_package_4','bc_step3_editor_loaded'];if(events_tracked_with_ajax.indexOf(event)!==-1){fls_events_add_ajax(event,val);return;}
if(!val){fls_events_add_simple(event);return;}
var date=new Date();date.setTime(date.getTime()+(3*24*60*60*1000));if((data=$.cookie('tr_events_val_queue'))){data=$.deparam(data);}
else{data={};}
data[event]=val;data=$.param(data);if(!fls_events_check_skip(event)){$.cookie("tr_events_val_queue",data,{expires:date,path:'/'});}}
function fls_events_add_simple(event){var data;var date=new Date();date.setTime(date.getTime()+(3*24*60*60*1000));if((data=$.cookie('tr_events_queue')))
data+=',';else
data='';data+=event;if(!fls_events_check_skip(event)){$.cookie("tr_events_queue",data,{expires:date,path:'/'});}}
function fls_events_check_skip(event){var skip_update=false;if(typeof Drupal.settings.split_test_skip_updates!='undefined'){for(var i in Drupal.settings.split_test_skip_updates){for(var j in Drupal.settings.split_test_skip_updates[i]){var jpath=j.replace('*','');if(Drupal.settings.fls_path.indexOf(jpath)===0){if($.inArray(event,Drupal.settings.split_test_skip_updates[i][j])!==-1){skip_update=true;}}}}}
return skip_update;}
function fls_ga_track_event(name,action){if(typeof(action)=='undefined')
action='Click';if(Drupal.settings.ga_status){ga('send','event',name,action);}}
function fls_store_round_up(price){var price_o=parseFloat(price);price=price_o.toFixed(2);price_o=price_o.toFixed(6);var diff=price_o-price;if(diff>0){var arr_price=price.split('.');if(arr_price[1]!=undefined){var p=parseInt(arr_price[1]);p++;if(p.toString().length==1){p='0'+p;}
else if(p.toString().length==3){p=p-100;arr_price[0]++;}
arr_price[1]=p;price=arr_price.join('.');price=parseFloat(price);}}
price=parseFloat(price);price=price.toFixed(2);return price;}
function fls_new_page(url,attr_string,window_identifier){Drupal.settings.leavebehind_popup_submitted=true;var unique_identifier='flswin_'+window_identifier;var status=$.cookie(unique_identifier);if(status!==null)return false;fls_new_page_status_change(window_identifier,0);if(attr_string==undefined)attr_string='';var browser=$.browser;if(Drupal.settings.browser_details_name=="chrome"){var parent_url=url.split("?offer=1");if(parent_url[0]!==undefined){$('body').append('<a id="fls_open_new_page" class="none" style="display:none" href="'+parent_url[0]+'">  </a>');setTimeout(function(){window.location=url;},100);fls_simulate_click(true,false,false,'fls_open_new_page');}}else{$('body').append('<a id="fls_open_new_page" class="none" style="display:none" href="'+url+'">  </a>');fls_open_popup(url,attr_string);}
return false;}
function fls_simulate_click(ctrl,shift,isMiddle,linkTargetId){var evt=document.createEvent('MouseEvents');evt.initMouseEvent('click',true,true,window,0,0,0,0,0,ctrl,false,shift,false,isMiddle?1:0,null);document.getElementById(linkTargetId).dispatchEvent(evt);return false;}
mywindow=false;function fls_open_popup(url,attr_string){ga('send','event','Leave Behind','Popunder','Popunder Opened');fls_events_add('leavebehind_popup_opened');if(attr_string==undefined)attr_string='';mywindow=window.open(url,'mywindow',attr_string);mywindow.blur();window.open("javascript:window.focus()","_self","");window.focus();return false;}
function fls_new_page_status_change(window_identifier,status){var unique_identifier='flswin_'+window_identifier;var options={path:'/'};$.cookie(unique_identifier,status,options);}
function fls_new_page_get_status(window_identifier){var unique_identifier='flswin_'+window_identifier;return $.cookie(unique_identifier);}
(function($){$.deparam=function(params,coerce){var obj={},coerce_types={'true':!0,'false':!1,'null':null};$.each(params.replace(/\+/g,' ').split('&'),function(j,v){var param=v.split('='),key=decodeURIComponent(param[0]),val,cur=obj,i=0,keys=key.split(']['),keys_last=keys.length-1;if(/\[/.test(keys[0])&&/\]$/.test(keys[keys_last])){keys[keys_last]=keys[keys_last].replace(/\]$/,'');keys=keys.shift().split('[').concat(keys);keys_last=keys.length-1;}else{keys_last=0;}
if(param.length===2){val=decodeURIComponent(param[1]);if(coerce){val=val&&!isNaN(val)?+val:val==='undefined'?undefined:coerce_types[val]!==undefined?coerce_types[val]:val;}
if(keys_last){for(;i<=keys_last;i++){key=keys[i]===''?cur.length:keys[i];cur=cur[key]=i<keys_last?cur[key]||(keys[i+1]&&isNaN(keys[i+1])?{}:[]):val;}}else{obj[key]=val;}}else if(key){obj[key]=coerce?undefined:'';}});return obj;};})(jQuery);var id=0;function popunder_init_element(o){if(Drupal.settings.browser_details_name=='ie')
return false;id++;var url=Drupal.settings.popunder_close_location;var param='.popunder_parent_container_'+id;$(o).addClass('popunder_parent_container popunder_parent_container_'+id);$(o).append('<div id="popunder_object_container_'+id+'"><script>popunder_get_flash_object("popunder_object_container_'+id+'","'+url+'","'+param+'")</script></div>');}
function popunder_get_flash_object(id,url,param){var swfVersionStr="10.0.0";var flashvars={};var params={};params.wmode='transparent';params.menu=false;params.AllowScriptAccess='always';var attributes={};params.flashVars='url='+url+'&callback=fls_popunder_callback&window=flwindow&param='+param;swfobject.embedSWF(Drupal.settings.popunder_flash_object_location,id,"1","1",swfVersionStr,'',flashvars,params,attributes);}
function popunder_hide_elements(){$('.popunder_parent_container  object').hide();}
function popunder_add(o){popunder_init_element($(o));$(o).click(function(){var url=Drupal.settings.custom_popunder_url||Drupal.settings.popunder_url;if(typeof Drupal.settings.offer_flash_submited=='undefined'&&Drupal.settings.browser_details_name!=='chrome')
fls_new_page(url,'width=1000, height=690,scrollbars=yes,resizable=yes, location=yes, toolbar=yes, menubar=yes','step4');});}
function fls_logo_global_leavebehind_init(){if(typeof Drupal.settings.show_step4_offer=='undefined')return;if(!Drupal.settings.show_step4_offer)return;switch(Drupal.settings.fls_path){case'home':popunder_add('#choose_design_index a');break;}}
function fls_store_disable_fields_in_progress(){$('.upsells_new_check_logo input').prop('disabled',true);$('.google_upsell_dropdown_seat').prop('disabled',true);}
function fls_store_restore_fields_in_progress(){$('.upsells_new_check_logo input').each(function(){var id=$(this).attr('id');var disabled=$('label[for='+id+']').hasClass('disabled');$(this).prop('disabled',disabled);});$('.google_upsell_dropdown_seat').prop('disabled',false);}
(function($){$.fn.getTextWidth=function(){var spanText=$("BODY #spanCalculateTextWidth");if(spanText.length<=0){spanText=$("<span id='spanCalculateTextWidth' style='filter: alpha(0);'></span>");spanText.appendTo("BODY");}
var valu=this.val();if(!valu)valu=this.text();spanText.text(valu);spanText.css({"fontSize":this.css('fontSize'),"fontWeight":this.css('fontWeight'),"fontFamily":this.css('fontFamily'),"position":"absolute","top":0,"opacity":0,"left":-2000});return spanText.outerWidth()+parseInt(this.css('paddingLeft'))+'px';};$.fn.getTextHeight=function(width){var spanText=$("BODY #spanCalculateTextHeight");if(spanText.length<=0){spanText=$("<span id='spanCalculateTextHeight'></span>");spanText.appendTo("BODY");}
var valu=this.val();if(!valu)valu=this.text();spanText.text(valu);spanText.css({"fontSize":this.css('fontSize'),"fontWeight":this.css('fontWeight'),"fontFamily":this.css('fontFamily'),"top":0,"left":-1*parseInt(width)+'px',"position":'absolute',"display":"inline-block","width":width});return spanText.innerHeight()+'px';};$.fn.autoTextSizeFls=function(truncate){if(typeof(truncate=='undefined'))truncate=0;var min_size=8;var max_size=parseInt(this.css('font-size'));this.autoTextSize(min_size,max_size,truncate);}
$.fn.autoTextSize=function(minSize,maxSize,truncate){var _self=this,_width=_self.innerWidth(),_textWidth=parseInt(_self.getTextWidth()),_fontSize=parseInt(_self.css('font-size'));while(_width<_textWidth||(maxSize&&_fontSize>parseInt(maxSize))){if(minSize&&_fontSize<=parseInt(minSize))break;_fontSize--;_self.attr('style','font-size: '+_fontSize+"px !important;");_textWidth=parseInt(_self.getTextWidth());}
if(truncate)_self.autoTruncateText();};$.fn.autoTruncateText=function(){var _self=this,_width=_self.outerWidth(),_textHeight=parseInt(_self.getTextHeight(_width)),_text=_self.text();while(_textHeight>_self.outerHeight()){_text=_text.slice(0,-1);_self.text(_text);_textHeight=parseInt(_self.getTextHeight(_width));_truncated=true;}
if(!_truncated)return;_text=_text.slice(0,-3);var lastChar=_text[_text.length-1];if(lastChar==' '||lastChar=='.')_text=_text.slice(0,-1);_self.text(_text+'...');};})(jQuery);function fls_banner_message_resize(){console.log('a1');if($('.coupon-message').length){console.log('a2');var height=0;$('.coupon-message').each(function(){height+=$(this).height();});console.log(height);$('body').append('<style>.fls_banner_dynamic_padding{padding-top: '+height+'px !important}</style>');$('body').addClass('fls_banner_dynamic_padding');}else{console.log('ax');$('body').removeClass('body-coupon-message').removeClass('fls_banner_dynamic_padding').removeClass('body-term-message');}}
function fls_products_also_viewed(){if($('.node-edit-link').length>0){if($('.relatedProducts').length>0){if($('.relatedProducts .product').length==0)$('.relatedProducts .title').hide();}}}
function update_my_cart_number(total_items){if($('.nav_my_cart').length>0){if($('.nav_my_cart .material-icons').length<1){var mycart=$('.nav_my_cart').text().split('(')[0];$('.nav_my_cart').text(mycart+'('+total_items+')');}else{$('.nav_my_cart').html('<span class="material-icons font-size-16 margin-5 margin-horizontal ">shopping_cart</span>'+' '+total_items);}}}
function storageAvailable(type){var storage;try{storage=window[type];var x='__storage_test__';storage.setItem(x,x);storage.removeItem(x);return true;}
catch(e){return e instanceof DOMException&&(e.code===22||e.code===1014||e.name==='QuotaExceededError'||e.name==='NS_ERROR_DOM_QUOTA_REACHED')&&(storage&&storage.length!==0);}}
var isLocalStorageAvailableShow=0;function local_storage_set(name,value,micro_timestamp){if(typeof micro_timestamp=='unefined')micro_timestamp=0;if(storageAvailable('localStorage')){if(!isLocalStorageAvailableShow){console.log('localStorage is available');isLocalStorageAvailableShow=1;}
localStorage.setItem(name,value);if(micro_timestamp&&micro_timestamp>0){localStorage.setItem(name+'___expire_',micro_timestamp);}
if(value===null){localStorage.removeItem(name);localStorage.removeItem(name+'___expire_');}}}
function local_storage_get(name,default_value){if(storageAvailable('localStorage')){console.log('localStorage is available');isLocalStorageAvailableShow=1;var micro_timestamp=localStorage.getItem(name+'___expire_');if(typeof micro_timestamp!='undefined'){var date=new Date();var now=date.getTime();if(now>micro_timestamp){localStorage.removeItem(name);localStorage.removeItem(name+'___expire_');}}
var value=localStorage.getItem(name);if(typeof value!='undefined')default_value=value;}
return default_value;};(function($){$.scrollTo=function(target,settings){return $('html,body').scrollTo(target,settings);};$.scrollTo.defaults={axis:'y',speed:1};$.fn.scrollTo=function(target,settings){settings=$.extend({},$.scrollTo.defaults,settings);settings.queue=settings.queue&&settings.axis.length==2;if(settings.queue)
settings.speed=Math.ceil(settings.speed/2);if(typeof settings.offset=='number')
settings.offset={left:settings.offset,top:settings.offset};return this.each(function(){var $elem=$(this),t=target,toff,attr={};switch(typeof t){case'number':case'string':if(/^([+-]=)?\d+(px)?$/.test(t)){t={top:t,left:t};break;}
t=$(t,this);case'object':if(t.is||t.style)
toff=(t=$(t)).offset();}
$.each(settings.axis.split(''),parse);animate(settings.onAfter);function parse(i,axis){var Pos=axis=='x'?'Left':'Top',pos=Pos.toLowerCase(),key='scroll'+Pos,act=$elem[0][key];attr[key]=toff?toff[pos]+($elem.is('html,body')?0:act-$elem.offset()[pos]):t[pos];if(settings.margin&&t.css)
attr[key]-=parseInt(t.css('margin'+Pos))||0;if(settings.offset&&settings.offset[pos])
attr[key]+=settings.offset[pos];if(!i&&settings.queue){if(act!=attr[key])
animate(settings.onAfterFirst);delete attr[key];}};function animate(callback){$elem.animate(attr,settings.speed,settings.easing,function(){if(callback)
callback.call(this,$elem,attr,t);});};});};})(jQuery);;jQuery.cookie=function(name,value,options){if(typeof value!='undefined'){options=options||{};if(value===null){value='';options.expires=-1;}
var expires='';if(options.expires&&(typeof options.expires=='number'||options.expires.toUTCString)){var date;if(typeof options.expires=='number'){date=new Date();date.setTime(date.getTime()+(options.expires*24*60*60*1000));}else{date=options.expires;}
expires='; expires='+date.toUTCString();}
var path=options.path?'; path='+(options.path):'';var domain=options.domain?'; domain='+(options.domain):'';var secure=options.secure?'; secure':'';document.cookie=[name,'=',encodeURIComponent(value),expires,path,domain,secure].join('');}else{var cookieValue=null;if(document.cookie&&document.cookie!=''){var cookies=document.cookie.split(';');for(var i=0;i<cookies.length;i++){var cookie=jQuery.trim(cookies[i]);if(cookie.substring(0,name.length+1)==(name+'=')){cookieValue=decodeURIComponent(cookie.substring(name.length+1));break;}}}
return cookieValue;}};;window.Socialite=(function(window,document,undefined)
{'use strict';var uid=0,instances=[],networks={},widgets={},rstate=/^($|loaded|complete)/,euc=window.encodeURIComponent;var socialite={settings:{},trim:function(str)
{return str.trim?str.trim():str.replace(/^\s+|\s+$/g,'');},hasClass:function(el,cn)
{return(' '+el.className+' ').indexOf(' '+cn+' ')!==-1;},addClass:function(el,cn)
{if(!socialite.hasClass(el,cn)){el.className=(el.className==='')?cn:el.className+' '+cn;}},removeClass:function(el,cn)
{el.className=socialite.trim(' '+el.className+' '.replace(' '+cn+' ',' '));},extendObject:function(to,from,overwrite)
{for(var prop in from){var hasProp=to[prop]!==undefined;if(hasProp&&typeof from[prop]==='object'){socialite.extendObject(to[prop],from[prop],overwrite);}else if(overwrite||!hasProp){to[prop]=from[prop];}}},getElements:function(context,cn)
{var i=0,el=[],gcn=!!context.getElementsByClassName,all=gcn?context.getElementsByClassName(cn):context.getElementsByTagName('*');for(;i<all.length;i++){if(gcn||socialite.hasClass(all[i],cn)){el.push(all[i]);}}
return el;},getDataAttributes:function(el,noprefix,nostr)
{var i=0,str='',obj={},attr=el.attributes;for(;i<attr.length;i++){var key=attr[i].name,val=attr[i].value;if(val.length&&key.indexOf('data-')===0){if(noprefix){key=key.substring(5);}
if(nostr){obj[key]=val;}else{str+=euc(key)+'='+euc(val)+'&';}}}
return nostr?obj:str;},copyDataAttributes:function(from,to,noprefix,nohyphen)
{var attr=socialite.getDataAttributes(from,noprefix,true);for(var i in attr){to.setAttribute(nohyphen?i.replace(/-/g,'_'):i,attr[i]);}},createIframe:function(src,instance)
{var iframe=document.createElement('iframe');iframe.style.cssText='overflow: hidden; border: none;';socialite.extendObject(iframe,{src:src,allowtransparency:'true',frameborder:'0',scrolling:'no'},true);if(instance){iframe.onload=iframe.onreadystatechange=function()
{if(rstate.test(iframe.readyState||'')){iframe.onload=iframe.onreadystatechange=null;socialite.activateInstance(instance);}};}
return iframe;},networkReady:function(name)
{return networks[name]?networks[name].loaded:undefined;},appendNetwork:function(network)
{if(!network||network.appended){return;}
if(typeof network.append==='function'&&network.append(network)===false){network.appended=network.loaded=true;socialite.activateAll(network);return;}
if(network.script){network.el=document.createElement('script');socialite.extendObject(network.el,network.script,true);network.el.async=true;network.el.onload=network.el.onreadystatechange=function()
{if(rstate.test(network.el.readyState||'')){network.el.onload=network.el.onreadystatechange=null;network.loaded=true;if(typeof network.onload==='function'&&network.onload(network)===false){return;}
socialite.activateAll(network);}};document.body.appendChild(network.el);}
network.appended=true;},removeNetwork:function(network)
{if(!socialite.networkReady(network.name)){return false;}
if(network.el.parentNode){network.el.parentNode.removeChild(network.el);}
return!(network.appended=network.loaded=false);},reloadNetwork:function(name)
{var network=networks[name];if(network&&socialite.removeNetwork(network)){socialite.appendNetwork(network);}},createInstance:function(el,widget)
{var proceed=true,instance={el:el,uid:uid++,widget:widget};instances.push(instance);if(widget.process!==undefined){proceed=(typeof widget.process==='function')?widget.process(instance):false;}
if(proceed){socialite.processInstance(instance);}
instance.el.setAttribute('data-socialite',instance.uid);instance.el.className='socialite '+widget.name+' socialite-instance';return instance;},processInstance:function(instance)
{var el=instance.el;instance.el=document.createElement('div');instance.el.className=el.className;socialite.copyDataAttributes(el,instance.el);if(el.nodeName.toLowerCase()==='a'&&!el.getAttribute('data-default-href')){instance.el.setAttribute('data-default-href',el.getAttribute('href'));}
var parent=el.parentNode;parent.insertBefore(instance.el,el);parent.removeChild(el);},activateInstance:function(instance)
{if(instance&&!instance.loaded){instance.loaded=true;if(typeof instance.widget.activate==='function'){instance.widget.activate(instance);}
socialite.addClass(instance.el,'socialite-loaded');return instance.onload?instance.onload(instance.el):null;}},activateAll:function(network)
{if(typeof network==='string'){network=networks[network];}
for(var i=0;i<instances.length;i++){var instance=instances[i];if(instance.init&&instance.widget.network===network){socialite.activateInstance(instance);}}},load:function(context,el,w,onload,process)
{context=(context&&typeof context==='object'&&context.nodeType===1)?context:document;if(!el||typeof el!=='object'){socialite.load(context,socialite.getElements(context,'socialite'),w,onload,process);return;}
var i;if(/Array/.test(Object.prototype.toString.call(el))){for(i=0;i<el.length;i++){socialite.load(context,el[i],w,onload,process);}
return;}
if(el.nodeType!==1){return;}
if(!w||!widgets[w]){w=null;var classes=el.className.split(' ');for(i=0;i<classes.length;i++){if(widgets[classes[i]]){w=classes[i];break;}}
if(!w){return;}}
var instance,widget=widgets[w],sid=parseInt(el.getAttribute('data-socialite'),10);if(!isNaN(sid)){for(i=0;i<instances.length;i++){if(instances[i].uid===sid){instance=instances[i];break;}}}else{instance=socialite.createInstance(el,widget);}
if(process||!instance){return;}
if(!instance.init){instance.init=true;instance.onload=(typeof onload==='function')?onload:null;widget.init(instance);}
if(!widget.network.appended){socialite.appendNetwork(widget.network);}else{if(socialite.networkReady(widget.network.name)){socialite.activateInstance(instance);}}},activate:function(el,w,onload)
{window.Socialite.load(null,el,w,onload);},process:function(context,el,w)
{window.Socialite.load(context,el,w,null,true);},network:function(n,params)
{networks[n]={name:n,el:null,appended:false,loaded:false,widgets:{}};if(params){socialite.extendObject(networks[n],params);}},widget:function(n,w,params)
{params.name=n+'-'+w;if(!networks[n]||widgets[params.name]){return;}
params.network=networks[n];networks[n].widgets[w]=widgets[params.name]=params;},setup:function(params)
{socialite.extendObject(socialite.settings,params,true);}};return socialite;})(window,window.document);(function(window,document,Socialite,undefined)
{Socialite.setup({facebook:{lang:'en_GB',appId:null},twitter:{lang:'en'},googleplus:{lang:'en-GB'}});Socialite.network('facebook',{script:{src:'//connect.facebook.net/{{language}}/sdk.js',id:'facebook-jssdk'},append:function(network)
{var fb=document.createElement('div'),settings=Socialite.settings.facebook,events={onlike:'edge.create',onunlike:'edge.remove',onsend:'message.send'};fb.id='fb-root';document.body.appendChild(fb);network.script.src=network.script.src.replace('{{language}}',settings.lang);window.fbAsyncInit=function(){window.FB.init({appId:settings.appId,xfbml:true,version:'v2.2'});for(var e in events){if(typeof settings[e]==='function'){window.FB.Event.subscribe(events[e],settings[e]);}}};}});var facebookInit=function(instance)
{var el=document.createElement('div');el.className=instance.widget.fbtype;Socialite.copyDataAttributes(instance.el,el);instance.el.appendChild(el);if(window.FB&&window.FB.XFBML){window.FB.XFBML.parse(instance.el);}};Socialite.widget('facebook','like',{init:facebookInit,fbtype:'fb-like'});Socialite.widget('facebook','share',{init:facebookInit,fbtype:'fb-share-button'});Socialite.network('twitter',{script:{src:'//platform.twitter.com/widgets.js',id:'twitter-wjs',charset:'utf-8'},append:function()
{var notwttr=(typeof window.twttr!=='object'),settings=Socialite.settings.twitter,events=['click','tweet','retweet','favorite','follow'];if(notwttr){window.twttr=(t={_e:[],ready:function(f){t._e.push(f);}});}
window.twttr.ready(function(twttr)
{for(var i=0;i<events.length;i++){var e=events[i];if(typeof settings['on'+e]==='function'){twttr.events.bind(e,settings['on'+e]);}}
Socialite.activateAll('twitter');});return notwttr;}});var twitterInit=function(instance)
{var el=document.createElement('a');el.className=instance.widget.name+'-button';Socialite.copyDataAttributes(instance.el,el);el.setAttribute('href',instance.el.getAttribute('data-default-href'));el.setAttribute('data-lang',instance.el.getAttribute('data-lang')||Socialite.settings.twitter.lang);instance.el.appendChild(el);};var twitterActivate=function(instance)
{if(window.twttr&&typeof window.twttr.widgets==='object'&&typeof window.twttr.widgets.load==='function'){window.twttr.widgets.load();}};Socialite.widget('twitter','share',{init:twitterInit,activate:twitterActivate});Socialite.widget('twitter','follow',{init:twitterInit,activate:twitterActivate});Socialite.widget('twitter','hashtag',{init:twitterInit,activate:twitterActivate});Socialite.widget('twitter','mention',{init:twitterInit,activate:twitterActivate});Socialite.widget('twitter','timeline',{init:twitterInit,activate:twitterActivate});Socialite.widget('twitter','embed',{process:function(instance)
{instance.innerEl=instance.el;if(!instance.innerEl.getAttribute('data-lang')){instance.innerEl.setAttribute('data-lang',Socialite.settings.twitter.lang);}
instance.el=document.createElement('div');instance.el.className=instance.innerEl.className;instance.innerEl.className='';instance.innerEl.parentNode.insertBefore(instance.el,instance.innerEl);instance.el.appendChild(instance.innerEl);},init:function(instance)
{instance.innerEl.className='twitter-tweet';},activate:twitterActivate});Socialite.network('googleplus',{script:{src:'//apis.google.com/js/plusone.js'},append:function(network)
{if(window.gapi){return false;}
window.___gcfg={lang:Socialite.settings.googleplus.lang,parsetags:'explicit'};}});var googleplusInit=function(instance)
{var el=document.createElement('div');el.className='g-'+instance.widget.gtype;Socialite.copyDataAttributes(instance.el,el);instance.el.appendChild(el);instance.gplusEl=el;};var googleplusEvent=function(instance,callback){return(typeof callback!=='function')?null:function(data){callback(instance.el,data);};};var googleplusActivate=function(instance)
{var type=instance.widget.gtype;if(window.gapi&&window.gapi[type]){var settings=Socialite.settings.googleplus,params=Socialite.getDataAttributes(instance.el,true,true),events=['onstartinteraction','onendinteraction','callback'];for(var i=0;i<events.length;i++){params[events[i]]=googleplusEvent(instance,settings[events[i]]);}
window.gapi[type].render(instance.gplusEl,params);}};Socialite.widget('googleplus','one',{init:googleplusInit,activate:googleplusActivate,gtype:'plusone'});Socialite.widget('googleplus','share',{init:googleplusInit,activate:googleplusActivate,gtype:'plus'});Socialite.widget('googleplus','badge',{init:googleplusInit,activate:googleplusActivate,gtype:'plus'});Socialite.widget('googleplus','follow',{init:googleplusInit,activate:googleplusActivate,gtype:'follow'});Socialite.network('linkedin',{script:{src:'//platform.linkedin.com/in.js'}});var linkedinInit=function(instance)
{var el=document.createElement('script');el.type='IN/'+instance.widget.intype;Socialite.copyDataAttributes(instance.el,el);instance.el.appendChild(el);if(typeof window.IN==='object'&&typeof window.IN.parse==='function'){window.IN.parse(instance.el);Socialite.activateInstance(instance);}};Socialite.widget('linkedin','share',{init:linkedinInit,intype:'Share'});Socialite.widget('linkedin','recommend',{init:linkedinInit,intype:'RecommendProduct'});Socialite.widget('linkedin','follow',{init:linkedinInit,intype:'FollowCompany'});})(window,window.document,window.Socialite);(function(){var s=window._socialite;if(/Array/.test(Object.prototype.toString.call(s))){for(var i=0,len=s.length;i<len;i++){if(typeof s[i]==='function'){s[i]();}}}})();;var PluginDetect={handler:function(c,b,a){return function(){c(b,a)}},isDefined:function(b){return typeof b!="undefined"},isArray:function(b){return(b&&b.constructor===Array)},isFunc:function(b){return typeof b=="function"},isString:function(b){return typeof b=="string"},isNum:function(b){return typeof b=="number"},isStrNum:function(b){return(typeof b=="string"&&(/\d/).test(b))},getNumRegx:/[\d][\d\.\_,-]*/,splitNumRegx:/[\.\_,-]/g,getNum:function(b,c){var d=this,a=d.isStrNum(b)?(d.isDefined(c)?new RegExp(c):d.getNumRegx).exec(b):null;return a?a[0].replace(d.splitNumRegx,","):null},compareNums:function(h,f,d){var e=this,c,b,a,g=parseInt;if(e.isStrNum(h)&&e.isStrNum(f)){if(e.isDefined(d)&&d.compareNums){return d.compareNums(h,f)}c=h.split(e.splitNumRegx);b=f.split(e.splitNumRegx);for(a=0;a<Math.min(c.length,b.length);a++){if(g(c[a],10)>g(b[a],10)){return 1}if(g(c[a],10)<g(b[a],10)){return-1}}}return 0},formatNum:function(b,c){var d=this,a,e;if(!d.isStrNum(b)){return null}if(!d.isNum(c)){c=4}c--;e=b.replace(/\s/g,"").split(d.splitNumRegx).concat(["0","0","0","0"]);for(a=0;a<4;a++){if(/^(0+)(.+)$/.test(e[a])){e[a]=RegExp.$2}if(a>c||!(/\d/).test(e[a])){e[a]="0"}}return e.slice(0,4).join(",")},$$hasMimeType:function(a){return function(d){if(!a.isIE){var c,b,e,f=a.isString(d)?[d]:d;for(e=0;e<f.length;e++){if(/[^\s]/.test(f[e])&&(c=navigator.mimeTypes[f[e]])&&(b=c.enabledPlugin)&&(b.name||b.description)){return c}}}return null}},findNavPlugin:function(l,e,c){var j=this,h=new RegExp(l,"i"),d=(!j.isDefined(e)||e)?/\d/:0,k=c?new RegExp(c,"i"):0,a=navigator.plugins,g="",f,b,m;for(f=0;f<a.length;f++){m=a[f].description||g;b=a[f].name||g;if((h.test(m)&&(!d||d.test(RegExp.leftContext+RegExp.rightContext)))||(h.test(b)&&(!d||d.test(RegExp.leftContext+RegExp.rightContext)))){if(!k||!(k.test(m)||k.test(b))){return a[f]}}}return null},getMimeEnabledPlugin:function(a,e){var d=this,b,c=new RegExp(e,"i");if((b=d.hasMimeType(a))&&(b=b.enabledPlugin)&&(c.test(b.description||"")||c.test(b.name||""))){return b}return 0},getPluginFileVersion:function(f,b){var h=this,e,d,g,a,c=-1;if(h.OS>2||!f||!f.version||!(e=h.getNum(f.version))){return b}if(!b){return e}e=h.formatNum(e);b=h.formatNum(b);d=b.split(h.splitNumRegx);g=e.split(h.splitNumRegx);for(a=0;a<d.length;a++){if(c>-1&&a>c&&d[a]!="0"){return b}if(g[a]!=d[a]){if(c==-1){c=a}if(d[a]!="0"){return b}}}return e},AXO:window.ActiveXObject,getAXO:function(b,a){var g=null,f,d=false,c=this;try{g=new c.AXO(b);d=true}catch(f){}if(c.isDefined(a)){delete g;return d}return g},convertFuncs:function(f){var a,g,d,b=/^[\$][\$]/,c={};for(a in f){if(b.test(a)){c[a]=1}}for(a in c){try{g=a.slice(2);if(g.length>0&&!f[g]){f[g]=f[a](f)}}catch(d){}}},initScript:function(){var c=this,a=navigator,d="/",h=a.userAgent||"",f=a.vendor||"",b=a.platform||"",g=a.product||"";c.OS=(/win/i).test(b)?1:((/mac/i).test(b)?2:((/linux/i).test(b)?3:4));c.convertFuncs(c);c.isIE=new Function("return "+d+"*@cc_on!@*"+d+"false")();c.verIE=c.isIE&&(/MSIE\s*(\d+\.?\d*)/i).test(h)?parseFloat(RegExp.$1,10):null;c.ActiveXEnabled=false;if(c.isIE){var e,i=["Msxml2.XMLHTTP","Msxml2.DOMDocument","Microsoft.XMLDOM","ShockwaveFlash.ShockwaveFlash","TDCCtl.TDCCtl","Shell.UIHelper","Scripting.Dictionary","wmplayer.ocx"];for(e=0;e<i.length;e++){if(c.getAXO(i[e],1)){c.ActiveXEnabled=true;break}}c.head=c.isDefined(document.getElementsByTagName)?document.getElementsByTagName("head")[0]:null}c.isGecko=(/Gecko/i).test(g)&&(/Gecko\s*\/\s*\d/i).test(h);c.verGecko=c.isGecko?c.formatNum((/rv\s*\:\s*([\.\,\d]+)/i).test(h)?RegExp.$1:"0.9"):null;c.isSafari=(/Safari\s*\/\s*\d/i).test(h)&&(/Apple/i).test(f);c.isChrome=(/Chrome\s*\/\s*\d/i).test(h);c.isOpera=(/Opera\s*[\/]?\s*(\d+\.?\d*)/i).test(h);c.verOpera=c.isOpera&&((/Version\s*\/\s*(\d+\.?\d*)/i).test(h)||1)?parseFloat(RegExp.$1,10):null;;c.addWinEvent("load",c.handler(c.runWLfuncs,c));},init:function(d,a){var c=this,b;if(!c.isString(d)){return-3}if(d.length==1){c.getVersionDelimiter=d;return-3}b=c[d.toLowerCase().replace(/\s/g,"")];if(!b||!b.getVersion){return-3}c.plugin=b;if(!c.isDefined(b.installed)||a==true){b.installed=b.version=b.version0=b.getVersionDone=null;b.$=c}c.garbage=false;if(c.isIE&&!c.ActiveXEnabled){if(b!==c.java){return-2}}return 1},fPush:function(b,a){var c=this;if(c.isArray(a)&&(c.isFunc(b)||(c.isArray(b)&&b.length>0&&c.isFunc(b[0])))){a[a.length]=b}},callArray:function(b){var c=this,a;if(c.isArray(b)){for(a=0;a<b.length;a++){if(b[a]===null){return}c.call(b[a]);b[a]=null}}},call:function(c){var b=this,a=b.isArray(c)?c.length:-1;if(a>0&&b.isFunc(c[0])){c[0](b,a>1?c[1]:0,a>2?c[2]:0,a>3?c[3]:0)}else{if(b.isFunc(c)){c(b)}}},getVersionDelimiter:",",$$getVersion:function(a){return function(g,d,c){var e=a.init(g),f,b;if(e<0){return null}f=a.plugin;if(f.getVersionDone!=1){f.getVersion(d,c);if(f.getVersionDone===null){f.getVersionDone=1}}a.cleanup();b=(f.version||f.version0);return b?b.replace(a.splitNumRegx,a.getVersionDelimiter):b}},cleanup:function(){var a=this;if(a.garbage&&a.isDefined(window.CollectGarbage)){window.CollectGarbage()}},addWinEvent:function(d,c){var e=this,a=window,b;if(e.isFunc(c)){if(a.addEventListener){a.addEventListener(d,c,false)}else{if(a.attachEvent){a.attachEvent("on"+d,c)}else{b=a["on"+d];a["on"+d]=e.winHandler(c,b)}}}},winHandler:function(d,c){return function(){d();if(typeof c=="function"){c()}}},WLfuncs:[0],runWLfuncs:function(a){a.winLoaded=true;a.callArray(a.WLfuncs);if(a.onDoneEmptyDiv){a.onDoneEmptyDiv()}},winLoaded:false,$$onWindowLoaded:function(a){return function(b){if(a.winLoaded){a.call(b)}else{a.fPush(b,a.WLfuncs)}}},$$onDetectionDone:function(a){return function(h,g,e,b){var c=a.init(h),j,d;if(c==-3){return-1}d=a.plugin;if(d.getVersionDone!=1){j=a.isMinVersion?a.isMinVersion(h,"0",e,b):a.getVersion(h,e,b)}if(d.installed!=-0.5&&d.installed!=0.5){a.call(g);return 1}if(d!==a.java){return 1};a.fPush(g,d.funcs);return 0;;return 1}},div:null,divWidth:50,pluginSize:1,emptyDiv:function(){var c=this,a,e,b,d=0;if(c.div&&c.div.childNodes){for(a=c.div.childNodes.length-1;a>=0;a--){b=c.div.childNodes[a];if(b&&b.childNodes){if(d==0){for(e=b.childNodes.length-1;e>=0;e--){b.removeChild(b.childNodes[e])}c.div.removeChild(b)}else{}}}}},onDoneEmptyDiv:function(){var a=this;if(!a.winLoaded){return}if(a.WLfuncs&&a.WLfuncs.length>0&&a.isFunc(a.WLfuncs[a.WLfuncs.length-1])){return}if(a.java){if(a.java.OTF==3){return}if(a.java.funcs&&a.java.funcs.length>0&&a.isFunc(a.java.funcs[a.java.funcs.length-1])){return}}a.emptyDiv()},getObject:function(c,a){var g,d=this,f=null,b=d.getContainer(c);try{if(b&&b.firstChild){f=b.firstChild}if(a&&f){f.focus()}}catch(g){}return f},getContainer:function(a){return(a&&a[0]?a[0]:null)},instantiate:function(j,c,g,a,k){var m,n=document,i=this,r,q=n.createElement("span"),o,h,f="<";var l=function(t,s){var v=t.style,d,u;if(!v){return}v.outline="none";v.border="none";v.padding="0px";v.margin="0px";v.visibility="visible";if(i.isArray(s)){for(d=0;d<s.length;d=d+2){try{v[s[d]]=s[d+1]}catch(u){}}return}},b=function(){var t,u="pd33993399",s=null,d=(n.getElementsByTagName("body")[0]||n.body);if(!d){try{n.write(f+'div id="'+u+'">o'+f+"/div>");s=n.getElementById(u)}catch(t){}}d=(n.getElementsByTagName("body")[0]||n.body);if(d){if(d.firstChild&&i.isDefined(d.insertBefore)){d.insertBefore(i.div,d.firstChild)}else{d.appendChild(i.div)}if(s){d.removeChild(s)}}else{}};if(!i.isDefined(a)){a=""}if(i.isString(j)&&(/[^\s]/).test(j)){r=f+j+' width="'+i.pluginSize+'" height="'+i.pluginSize+'" ';for(o=0;o<c.length;o=o+2){if(/[^\s]/.test(c[o+1])){r+=c[o]+'="'+c[o+1]+'" '}}r+=">";for(o=0;o<g.length;o=o+2){if(/[^\s]/.test(g[o+1])){r+=f+'param name="'+g[o]+'" value="'+g[o+1]+'" />'}}r+=a+f+"/"+j+">"}else{r=a}if(!i.div){i.div=n.createElement("div");h=n.getElementById("plugindetect");if(h){i.div=h}else{i.div.id="plugindetect";b()}l(i.div,["width",i.divWidth+"px","height",(i.pluginSize+3)+"px","fontSize",(i.pluginSize+3)+"px","lineHeight",(i.pluginSize+3)+"px","verticalAlign","baseline","display","block"]);if(!h){l(i.div,["position","absolute","right","0px","top","0px"])}}if(i.div&&i.div.parentNode){i.div.appendChild(q);l(q,["fontSize",(i.pluginSize+3)+"px","lineHeight",(i.pluginSize+3)+"px","verticalAlign","baseline","display","inline"]);;try{if(q&&q.parentNode){q.focus()}}catch(m){}try{q.innerHTML=r}catch(m){}if(q.childNodes.length==1&&!(i.isGecko&&i.compareNums(i.verGecko,"1,5,0,0")<0)){l(q.firstChild,["display","inline"])}return[q]}return[null]},java:{mimeType:["application/x-java-applet","application/x-java-vm","application/x-java-bean"],mimeTypeJPI:"application/x-java-applet;jpi-version=",classID:"clsid:8AD9C840-044E-11D1-B3E9-00805F499D93",DTKclassID:"clsid:CAFEEFAC-DEC7-0000-0000-ABCDEFFEDCBA",DTKmimeType:["application/java-deployment-toolkit","application/npruntime-scriptable-plugin;DeploymentToolkit"],JavaVersions:[[1,9,2,30],[1,8,2,30],[1,7,2,30],[1,6,1,30],[1,5,1,30],[1,4,2,30],[1,3,1,30]],searchJavaPluginAXO:function(){var h=null,a=this,c=a.$,g=[],j=[1,5,0,14],i=[1,6,0,2],f=[1,3,1,0],e=[1,4,2,0],d=[1,5,0,7],b=false;if(!c.ActiveXEnabled){return null};if(c.verIE>=a.minIEver){g=a.searchJavaAXO(i,i,b);if(g.length>0&&b){g=a.searchJavaAXO(j,j,b)}}else{if(g.length==0){g=a.searchJavaAXO(f,e,false)}}if(g.length>0){h=g[0]}a.JavaPlugin_versions=[].concat(g);return h},searchJavaAXO:function(l,i,m){var n,f,h=this.$,q,k,a,e,g,j,b,r=[];if(h.compareNums(l.join(","),i.join(","))>0){i=l}i=h.formatNum(i.join(","));var o,d="1,4,2,0",c="JavaPlugin."+l[0]+""+l[1]+""+l[2]+""+(l[3]>0?("_"+(l[3]<10?"0":"")+l[3]):"");for(n=0;n<this.JavaVersions.length;n++){f=this.JavaVersions[n];q="JavaPlugin."+f[0]+""+f[1];g=f[0]+"."+f[1]+".";for(a=f[2];a>=0;a--){b="JavaWebStart.isInstalled."+g+a+".0";if(h.compareNums(f[0]+","+f[1]+","+a+",0",i)>=0&&!h.getAXO(b,1)){continue}o=h.compareNums(f[0]+","+f[1]+","+a+",0",d)<0?true:false;for(e=f[3];e>=0;e--){k=a+"_"+(e<10?"0"+e:e);j=q+k;if(h.getAXO(j,1)&&(o||h.getAXO(b,1))){r[r.length]=g+k;if(!m){return r}}if(j==c){return r}}if(h.getAXO(q+a,1)&&(o||h.getAXO(b,1))){r[r.length]=g+a;if(!m){return r}}if(q+a==c){return r}}}return r},minIEver:7,getMimeJPIversion:function(){var h,a=this,d=a.$,c=new RegExp("("+a.mimeTypeJPI+")(\\d.*)","i"),k=new RegExp("Java","i"),e,j,f="",i={},g=0,b;for(h=0;h<navigator.mimeTypes.length;h++){j=navigator.mimeTypes[h];if(c.test(j.type)&&(e=j.enabledPlugin)&&(j=RegExp.$2)&&(k.test(e.description||f)||k.test(e.name||f))){i["a"+d.formatNum(j)]=j}}b="0,0,0,0";for(h in i){g++;e=h.slice(1);if(d.compareNums(e,b)>0){b=e}}a.mimeTypeJPIresult=g>0?a.mimeTypeJPI+i["a"+b]:"";return g>0?b:null},queryNoApplet00:function(a){var b=window.java,c;try{if(b.lang){a.value=[b.lang.System.getProperty("java.version")+" ",b.lang.System.getProperty("java.vendor")+" "]}}catch(c){}},queryNoApplet:function(){var b=this,c=b.$,d,a=b.queryNoApplet;if(!a.value){a.value=[null,null];if(!c.isIE&&window.java){if(c.OS==2&&c.isOpera&&c.verOpera<9.2&&c.verOpera>=9){}else{if(c.isGecko&&c.compareNums(c.verGecko,"1,9,0,0")<0&&c.compareNums(c.verGecko,"1,8,0,0")>=0){}else{b.queryNoApplet00(a)}}}}return a.value},forceVerifyTag:[],jar:[],Enabled:navigator.javaEnabled(),VENDORS:["Sun Microsystems Inc.","Apple Computer, Inc."],init:function(){var a=this,b=a.$;a.tryApplet=[2,2,2];a.DOMobj=[0,0,0,0,0,0];a.Applet0Index=3;a.OTF=0;a.BridgeResult=[[null,null],[null,null],[null,null]];a.JavaActive=[0,0,0];a.All_versions=[];a.mimeTypeJPIresult="";a.mimeObj=b.hasMimeType(a.mimeType);a.JavaPlugin_versions=[];a.funcs=[];var c=a.NOTF;if(c){c.$=b;c.count=0;c.intervalLength=250;c.countMax=33}},getVersion:function(c,h){var e,b=this,d=b.$,g=vendor=versionEnabled=null;if(b.getVersionDone===null){b.init()}var i;if(d.isArray(h)){for(i=0;i<b.tryApplet.length;i++){if(d.isNum(h[i])){b.tryApplet[i]=h[i]}}}for(i=0;i<b.forceVerifyTag.length;i++){b.tryApplet[i]=b.forceVerifyTag[i]}if(d.isString(c)){b.jar[b.jar.length]=c}if(b.getVersionDone==0){if(!b.version||b.useAnyTag()){e=b.queryAnyApplet(c);if(e[0]){b.installed=1;b.EndGetVersion(e[0],e[1])}}return}var f=b.queryDeployTK();if(f.JRE){g=f.JRE;vendor=b.VENDORS[0]}if(!d.isIE){var l,j,a,k;k=(b.mimeObj&&b.Enabled)?true:false;if(!g&&(e=b.getMimeJPIversion())!==null){g=e}if(!g&&b.mimeObj){e="Java[^\\d]*Plug-in";a=d.findNavPlugin(e);if(a){e=new RegExp(e,"i");l=e.test(a.description||"")?d.getNum(a.description):null;j=e.test(a.name||"")?d.getNum(a.name):null;if(l&&j){g=(d.compareNums(d.formatNum(l),d.formatNum(j))>=0)?l:j}else{g=l||j}}}if(!g&&b.mimeObj&&d.isSafari&&d.OS==2){a=d.findNavPlugin("Java.*\\d.*Plug-in.*Cocoa",0);if(a){l=d.getNum(a.description);if(l){g=l}}}if(g){b.version0=g;if(b.Enabled){versionEnabled=g}}}else{if(!g&&f.status==0){g=b.searchJavaPluginAXO();if(g){vendor=b.VENDORS[0]}}if(g){b.version0=g;if(b.Enabled&&d.ActiveXEnabled){versionEnabled=g}}}if(!versionEnabled||b.useAnyTag()){e=b.queryAnyApplet(c);if(e[0]){versionEnabled=e[0];vendor=e[1]}}if(!versionEnabled&&(e=b.queryNoApplet())[0]){b.version0=versionEnabled=e[0];vendor=e[1];if(b.installed==-0.5){b.installed=0.5}}if(d.isSafari&&d.OS==2){if(!versionEnabled&&k){if(b.installed===null){b.installed=0}else{if(b.installed==-0.5){b.installed=0.5}}}}if(b.jreDisabled()){versionEnabled=null};if(b.installed===null){b.installed=versionEnabled?1:(g?-0.2:-1)}b.EndGetVersion(versionEnabled,vendor)},EndGetVersion:function(b,d){var a=this,c=a.$;if(a.version0){a.version0=c.formatNum(c.getNum(a.version0))}if(b){a.version=c.formatNum(c.getNum(b));a.vendor=(c.isString(d)?d:"")}if(a.getVersionDone!=1){a.getVersionDone=0}},jreDisabled:function(){var c=this,e=c.$,d=c.queryDeployTK().JRE,a=0,b;if(d&&e.OS==1){if((e.isGecko&&e.compareNums(e.verGecko,"1,9,2,0")>=0&&e.compareNums(d,"1,6,0,12")<0)||(e.isChrome&&e.compareNums(d,"1,6,0,12")<0)){a=1}};return a},queryDeployTK:function(){var d=this,g=d.$,b=d.queryDeployTK,i,a,c,h=len=null;if(!b.JREall){b.JREall=[];b.JRE=null;b.status=0}else{return b}if((g.isGecko&&g.compareNums(g.verGecko,g.formatNum("1.6"))<=0)||g.isSafari||(g.isIE&&!g.ActiveXEnabled)){return b}if(g.isIE&&g.verIE>=6){d.DOMobj[0]=g.instantiate("object",[],[]);h=g.getObject(d.DOMobj[0])}else{if(!g.isIE&&(c=g.hasMimeType(d.DTKmimeType))&&c.type){d.DOMobj[0]=g.instantiate("object",["type",c.type],[]);h=g.getObject(d.DOMobj[0])}}if(h){if(g.isIE&&g.verIE>=6){try{h.classid=d.DTKclassID}catch(i){}};try{var f=h.jvms;if(f){len=f.getLength();if(g.isNum(len)){b.status=len>0?1:-1;for(a=0;a<len;a++){c=g.getNum(f.get(len-1-a).version);if(c){b.JREall[a]=c}}}}}catch(i){}}if(b.JREall.length>0){b.JRE=g.formatNum(b.JREall[0])}return b},queryAnyApplet:function(f){var n=this,e=n.$,o=n.BridgeResult,h=n.DOMobj,b=n.Applet0Index,i="&nbsp;&nbsp;&nbsp;&nbsp;",t="A.class";if(!e.isString(f)||!(/\.jar\s*$/).test(f)||(/\\/).test(f)){return[null,null]}if(n.OTF<1){n.OTF=1}if(n.jreDisabled()){return[null,null]}if((e.isGecko||e.isChrome||(e.isOpera&&!n.Enabled))&&!n.mimeObj&&!n.queryNoApplet()[0]){return[null,null]}if(n.OTF<2){n.OTF=2}if(!h[1]&&n.canUseObjectTag()){h[1]=e.instantiate("object",[],[],i)}if(!h[2]){h[2]=e.instantiate("",[],[],i)}var d=f,r="",m;if((/[\/]/).test(f)){m=f.split("/");d=m[m.length-1];m[m.length-1]="";r=m.join("/")}var j=["archive",d,"code",t],l=["mayscript","true"],q=["scriptable","true"].concat(l),g=!e.isIE&&n.mimeObj&&n.mimeObj.type?n.mimeObj.type:n.mimeType[0];if(!h[b]&&n.canUseObjectTag()&&n.canTryApplet(0)){h[b]=e.isIE?e.instantiate("object",["type",g].concat(j),["codebase",r].concat(j).concat(q),i,n):e.instantiate("object",["type",g,"archive",d,"classid","java:"+t],["codebase",r,"archive",d].concat(q),i,n);o[0]=[0,0];n.query1Applet(b)}if(!h[b+1]&&n.canUseAppletTag()&&n.canTryApplet(1)){h[b+1]=e.isIE?e.instantiate("applet",["alt",i].concat(l).concat(j),["codebase",r].concat(l),i,n):e.instantiate("applet",["codebase",r,"alt",i].concat(l).concat(j),[].concat(l),i,n);o[1]=[0,0];n.query1Applet(b+1)}if(!h[b+2]&&n.canUseObjectTag()&&n.canTryApplet(2)){h[b+2]=e.isIE?e.instantiate("object",["classid",n.classID],["codebase",r].concat(j).concat(q),i,n):e.instantiate();o[2]=[0,0];n.query1Applet(b+2)};if(n.OTF<3&&((h[b]&&!o[0][0])||(h[b+1]&&!o[1][0])||(e.isIE&&h[b+2]&&!o[2][0]))){var c=n.NOTF.isJavaActive();if(c>=0){n.OTF=3;n.installed=c==1?0.5:-0.5;n.NOTF.initAppletQuery()}};var k,a=0;for(k=0;k<o.length;k++){if(h[b+k]||n.canTryApplet(k)){a++}else{break}}if(a==o.length){n.getVersionDone=n.forceVerifyTag.length>0?0:1}return n.getBR()},canUseAppletTag:function(){var a=this;return((!a.$.isIE||a.Enabled)?true:false)},canUseObjectTag:function(){return((!this.$.isIE||this.$.ActiveXEnabled)?true:false)},useAnyTag:function(){var b=this,a;for(a=0;a<b.tryApplet.length;a++){if(b.canTryApplet(a)){return true}}return false},canTryApplet:function(c){var a=this,b=a.$;if(a.tryApplet[c]==3){return true}if(!a.version0||!a.Enabled||(b.isIE&&!b.ActiveXEnabled)){if(a.tryApplet[c]==2){return true}if(a.tryApplet[c]==1&&!a.getBR()[0]){return true}}return false},getBR:function(){var b=this.BridgeResult,a;for(a=0;a<b.length;a++){if(b[a][0]){return[b[a][0],b[a][1]]}}return[b[0][0],b[0][1]]},query1Applet:function(g){var f,c=this,d=c.$,a=vendor=null,b=d.getObject(c.DOMobj[g],true);if(b){try{a=b.getVersion()+" ";vendor=b.getVendor()+" ";b.statusbar(d.winLoaded?" ":" ")}catch(f){}if(d.isStrNum(a)){c.BridgeResult[g-c.Applet0Index]=[a,vendor]}try{if(d.isIE&&a&&b.readyState!=4){d.garbage=true;b.parentNode.removeChild(b)}}catch(f){}}},NOTF:{isJavaActive:function(){var e=this,c=e.$.java,a,b,d=-9;for(a=c.Applet0Index;a<c.DOMobj.length;a++){b=e.isJavaActive_x_(a);c.JavaActive[a-c.Applet0Index]=b;if(b>d){d=b}}return d},isJavaActive_x_:function(g){var h=this,d=h.$,c=d.java,f,b=d.getObject(c.DOMobj[g]),a=h.status(g);if(a==-2){return-2}if(h.status(1)>=0){return 0}try{if(d.isIE&&d.verIE>=c.minIEver&&b.object){return 1}}catch(f){}if(a==1&&(d.isIE||((c.version0&&c.Enabled&&c.mimeObj)||c.queryNoApplet()[0]))){return 1}if(a<0){return-1}return 0},status:function(c){var f=this,d=f.$,b=d.java,h,a=d.getObject(b.DOMobj[c]),j=d.getContainer(b.DOMobj[c]),k=f.getObjectWidth(j),g=d.getContainer(b.DOMobj[2]),i=f.getObjectWidth(g);if(!a||!j){return-2}try{if(k>=0&&i>=0){if(k==i&&k>d.pluginSize){return-1}if(k!=i&&k==d.pluginSize&&d.winLoaded&&(!d.isIE||a.readyState==4)){return 1}}}catch(h){}return 0},getObjectWidth:function(c){if(c){var a=c.scrollWidth||c.offsetWidth,b=this.$;if(b.isNum(a)){return a}}return-1},initAppletQuery:function(){var b=this,a=b.$;if(!b.onIntervalQuery){b.onIntervalQuery=b.$$onIntervalQuery(b);if(!a.winLoaded){a.WLfuncs[0]=b.winOnLoadQuery}setTimeout(b.onIntervalQuery,b.intervalLength)}},winOnLoadQuery:function(c){var b=c.java,d=b.NOTF,a;if(b.OTF==3){a=d.AppletQuery();d.queryCleanup(a[1],a[2])}},$$onIntervalQuery:function(a){return function(){var d=a.$,c=d.java,b;if(c.OTF==3){b=a.AppletQuery();if(b[0]||(d.winLoaded&&a.count>a.countMax)){a.queryCleanup(b[1],b[2])}}a.count++;if(c.OTF==3){setTimeout(a.onIntervalQuery,a.intervalLength)}}},AppletQuery:function(){var f=this,e=f.$,d=e.java,b,a,c;for(b=0;b<d.BridgeResult.length;b++){d.query1Applet(b+d.Applet0Index)}a=d.getBR();c=(a[0]||f.isJavaActive()<0)?true:false;return[c,a[0],a[1]]},queryCleanup:function(d,g){var f=this,e=f.$,c=e.java,a;if(c.OTF==4){return}c.OTF=4;var b=f.isJavaActive()==1?true:false;if(d||c.queryNoApplet()[0]){c.installed=1}else{if(b){if(c.version0){c.installed=1;d=c.version0}else{c.installed=0}}else{if(c.installed==0.5){c.installed=0}else{if(c.version0){c.installed=-0.2}else{c.installed=-1}}}}c.EndGetVersion(d,g);e.callArray(c.funcs);if(e.onDoneEmptyDiv){e.onDoneEmptyDiv()}}},append:function(e,d){for(var c=0;c<d.length;c++){e[e.length]=d[c]}},JavaFix:function(){}},flash:{mimeType:["application/x-shockwave-flash","application/futuresplash"],progID:"ShockwaveFlash.ShockwaveFlash",classID:"clsid:D27CDB6E-AE6D-11CF-96B8-444553540000",getVersion:function(){var b=function(i){if(!i){return null}var e=/[\d][\d\,\.\s]*[rRdD]{0,1}[\d\,]*/.exec(i);return e?e[0].replace(/[rRdD\.]/g,",").replace(/\s/g,""):null};var d,h=this,f=h.$,j,g,k=null,c=null,a=null;if(!f.isIE){d=f.findNavPlugin("Flash");if(d&&d.description&&f.hasMimeType(h.mimeType)){k=b(d.description)}if(k){k=f.getPluginFileVersion(d,k)}}else{for(g=15;g>2;g--){c=f.getAXO(h.progID+"."+g);if(c){a=g.toString();break}}if(a=="6"){try{c.AllowScriptAccess="always"}catch(j){return"6,0,21,0"}}try{k=b(c.GetVariable("$version"))}catch(j){}if(!k&&a){k=a}}h.installed=k?1:-1;h.version=f.formatNum(k);return true}},zz:0};PluginDetect.initScript();;var payment_type_paypal=0;var stickyObjects=new Array();var startPrice=0;var payment_form_submited=0;$(document).ready(function(){if($('#checkoutv3').length==0){}else{fls_update_total_price();if(Drupal.settings.imagesrollover!=undefined){for(var k in Drupal.settings.imagesrollover){MM_preloadImages(Drupal.settings.imagesrollover[k]);}}}
$('#spam_free_policy_why.lang_v_nonen').tooltip({track:true,delay:0,showURL:false,showBody:" - ",fade:250});if($('#spam_free_policy_why.lang_v_en').length>0){var free_policy_why_title=$('#spam_free_policy_why').attr('title');$('#spam_free_policy_why').attr('title','');$('#spam_free_policy_why').click(function(){return false;})
$('#spam_free_policy_why').mouseover(function(){if($('#whyPopup').length==0){$(this).parent().append('<div id="whyPopup">'+free_policy_why_title+'</div>');$('#whyPopup img').attr('src','https://freelogo-assets.s3.amazonaws.com/sites/all/themes/freelogoservices/images/credit_cards.jpg');$('#whyPopup p').append('<img src="'+'https://freelogo-assets.s3.amazonaws.com/sites/all/themes/freelogoservices/images/cvc_tooltip.png" />');}});$('#spam_free_policy_why').mouseout(function(){$('#whyPopup').remove();});$('#spam_free_policy_why').parent().click(function(e){if($(e.target).is('#closeWhyPopup')){$('#whyPopup').remove();}
return false;});}
$("#checkoutv3 .scrollerConteiner li").mouseover(function(event){var li=$(this);var input_id=li.children('input').attr('id');var ids=input_id.split('-');var current_img_id=ids[2];$('.imgRollOver').remove();$('<div class="imgRollOver"></div>').appendTo('body');$('.imgRollOver').css({"position":"absolute","width":"150px","border":"solid 2px #383838","background":"#FFF","z-index":"999"}).append('<img src="'+Drupal.settings.imagesrollover[current_img_id]+'" />');$('.imgRollOver img').css({"padding-top":"5px"});var tooltipX=event.pageX+20;var tooltipY=event.pageY-90;$('.imgRollOver').css({top:tooltipY,left:tooltipX});});$("#checkoutv3 .scrollerConteiner li").mousemove(function(event){var tooltipX=event.pageX+20;var tooltipY=event.pageY-90;$('.imgRollOver').css({top:tooltipY,left:tooltipX});});$("#checkoutv3 .scrollerConteiner li").mouseout(function(){$('.imgRollOver').remove();});$('#step-checkout1 .order-logos').click(fls_update_total_price);var country_id=$('#edit-country').val();if(country_id=='221'){$('#edit-zip-label span.required').css('display','none');}else{$('#edit-zip-label span.required').css('display','');}
$('#edit-country').change(function(){fls_update_payment_types($(this).val());});$('p.paypal_js_disable').remove();setTimeout(function(){$('#paypal-payment-form').submit();},1000);$('#edit-payment-type').change(fls_checkout_update_form_fields);$('#security_guarantee').tooltip({track:true,delay:0,showURL:false,showBody:" - ",fade:250});$('#fls-store-payment-form #edit-promo-code').bind('blur',function(){var code=$(this).val();if(!startPrice){startPrice=$('.checkout_total .price span').html();}
if(code){$.ajax({url:'apply-promo/'+code,success:function(price){if(price){$('.checkout_total .price span').html(price);}else{$('.checkout_total .price span').html(startPrice);}}});}else{$('.checkout_total .price span').html(startPrice);}});$('.sticky').each(function(){var offset=$(this).offset();this.initialTop=offset.top;stickyObjects.push(this);});$(window).scroll(function(){if(stickyObjects){var scrollTop=$(this).scrollTop();var offsetTop=0;var offset=0;for(var i in stickyObjects){if(scrollTop>stickyObjects[i].initialTop){$(stickyObjects[i]).css('position','fixed').css('top',0);}else{$(stickyObjects[i]).css('position','').css('top','');}}}});$('#edit-country').each(fls_change_states);$('#payment-form #edit-submit').click(function(){additionalErrorHTML="";$("#rsvErrors").html("").css('display','none');var errorHTML=Drupal.settings.checkout_form.form_header_error;if($('#edit-confirm-card-no-err').val()!=""||$('#check_confirm').length<0){$('html, body').animate({scrollTop:$(".payment").offset().top},500);}
if(Drupal.settings.page_logo_products){var has_products=false;$('.productbox_addtocart input').each(function(){if(this.checked)
has_products=true;});if(!has_products){additionalErrorHTML+=Drupal.settings.checkout_form.products.required;$('.productbox_addtocart input').addClass('errorFieldDemo5');$('.productbox_addtocart label').addClass('signup_error_label');}
else{$('.productbox_addtocart input').removeClass('errorFieldDemo5');$('.productbox_addtocart label').removeClass('signup_error_label');}}
if($('#edit-payment-type').val()==""||$('#edit-payment-type').val()=="0"){additionalErrorHTML+=Drupal.settings.checkout_form.payment_type.required;$('#edit-payment-type').addClass('errorFieldDemo5');$('#edit-payment-type-label').addClass('signup_error_label');$('#edit-payment-type-label-icon').show();}else{$('#edit-payment-type').removeClass('errorFieldDemo5');$('#edit-payment-type-label').removeClass('signup_error_label');$('#edit-payment-type-label-icon').hide();}
if($('#edit-first-name').val()==""){additionalErrorHTML+=Drupal.settings.checkout_form.first_name.required;$('#edit-first-name').addClass('errorFieldDemo5');$('#edit-first-name-label').addClass('signup_error_label');$('#edit-first-name-label-icon').show();}else{$('#edit-first-name').removeClass('errorFieldDemo5');$('#edit-first-name-label').removeClass('signup_error_label');$('#edit-first-name-label-icon').hide();}
if($('#edit-last-name').val()==""){additionalErrorHTML+=Drupal.settings.checkout_form.last_name.required;$('#edit-last-name').addClass('errorFieldDemo5');$('#edit-last-name-label').addClass('signup_error_label');$('#edit-last-name-label-icon').show();}else{$('#edit-last-name').removeClass('errorFieldDemo5');$('#edit-last-name-label').removeClass('signup_error_label');$('#edit-last-name-label-icon').hide();}
additionalErrorHTML=validate_custom_fields(additionalErrorHTML);if($('#edit-card-number').val()==""){additionalErrorHTML+=Drupal.settings.checkout_form.card_number.required;$('#edit-card-number').addClass('errorFieldDemo5');$('#edit-card-number-label').addClass('signup_error_label');$('#edit-card-number-label-icon').show();}else{$('#edit-card-number').removeClass('errorFieldDemo5');$('#edit-card-number-label').removeClass('signup_error_label');$('#edit-card-number-label-icon').hide();}
if(!Drupal.settings.hasbraintree&&$('#edit-security-code').val()==""){additionalErrorHTML+=Drupal.settings.checkout_form.security_code.required;$('#edit-security-code').addClass('errorFieldDemo5');$('#edit-security-code-label').addClass('signup_error_label');$('#edit-security-code-label-icon').show();}else{$('#edit-security-code').removeClass('errorFieldDemo5');$('#edit-security-code-label').removeClass('signup_error_label');$('#edit-security-code-label-icon').hide();}
var valid_exp_date=1;if($('#edit-expiration-date-mm').val()==""){valid_exp_date=0;additionalErrorHTML+=Drupal.settings.checkout_form.expiration_date.required;$('#edit-expiration-date-mm').addClass('errorFieldDemo5');$('#edit-expiration-date-label').addClass('signup_error_label');$('#edit-expiration-date-label-icon').show();}else{$('#edit-expiration-date-mm').removeClass('errorFieldDemo5');$('#edit-expiration-date-label').removeClass('signup_error_label');$('#edit-expiration-date-label-icon').hide();}
if($('#edit-expiration-date-yy').val()==""){if(valid_exp_date){additionalErrorHTML+=Drupal.settings.checkout_form.expiration_date.required;}
$('#edit-expiration-date-yy').addClass('errorFieldDemo5');$('#edit-expiration-date-label').addClass('signup_error_label');$('#edit-expiration-date-label-icon').show();}else{$('#edit-expiration-date-yy').removeClass('errorFieldDemo5');$('#edit-expiration-date-label').removeClass('signup_error_label');$('#edit-expiration-date-label-icon').hide();}
if($('#edit-phone').val()==""){additionalErrorHTML+=Drupal.settings.checkout_form.phone.required;$('#edit-phone').addClass('errorFieldDemo5');$('#edit-phone-label').addClass('signup_error_label');$('#edit-phone-label-icon').show();}else if(!validate_phone_function()){additionalErrorHTML+=Drupal.settings.checkout_form.phone.invalid;$('#edit-phone').addClass('errorFieldDemo5');$('#edit-phone-label').addClass('signup_error_label');$('#edit-phone-label-icon').show();}else{$('#edit-phone').removeClass('errorFieldDemo5');$('#edit-phone-label').removeClass('signup_error_label');$('#edit-phone-label-icon').hide();}
if($('#edit-billing-address').val()==""){additionalErrorHTML+=Drupal.settings.checkout_form.billing_address.required;$('#edit-billing-address').addClass('errorFieldDemo5');$('#edit-billing-address-label').addClass('signup_error_label');$('#edit-billing-address-label-icon').show();}else{$('#edit-billing-address').removeClass('errorFieldDemo5');$('#edit-billing-address-label').removeClass('signup_error_label');$('#edit-billing-address-label-icon').hide();}
if($('#edit-city').val()==""){additionalErrorHTML+=Drupal.settings.checkout_form.city.required;$('#edit-city').addClass('errorFieldDemo5');$('#edit-city-label').addClass('signup_error_label');$('#edit-city-label-icon').show();}else{$('#edit-city').removeClass('errorFieldDemo5');$('#edit-city-label').removeClass('signup_error_label');$('#edit-city-label-icon').hide();}
var val=$('#edit-country').val();if(val=='1'){if($('#edit-stateus').val()==""){additionalErrorHTML+=Drupal.settings.checkout_form.stateus.required;$('#edit-stateus').addClass('errorFieldDemo5');$('#edit-stateus-label').addClass('signup_error_label');$('#edit-stateus-label-icon').show();}else{$('#edit-stateus').removeClass('errorFieldDemo5');$('#edit-stateus-label').removeClass('signup_error_label');$('#edit-stateus-label-icon').hide();}}else if(val=='2'){if($('#edit-statecan').val()==""){additionalErrorHTML+=Drupal.settings.checkout_form.statecan.required;$('#edit-statecan').addClass('errorFieldDemo5');$('#edit-statecan-label').addClass('signup_error_label');$('#edit-statecan-label-icon').show();}else{$('#edit-statecan').removeClass('errorFieldDemo5');$('#edit-statecan-label').removeClass('signup_error_label');$('#edit-statecan-label-icon').hide();}}else if(val=='36'){if($('#edit-statebr').val()==""){additionalErrorHTML+=Drupal.settings.checkout_form.statebr.required;$('#edit-statebr').addClass('errorFieldDemo5');$('#edit-statebr-label').addClass('signup_error_label');$('#edit-statebr-label-icon').show();}else{$('#edit-statebr').removeClass('errorFieldDemo5');$('#edit-statebr-label').removeClass('signup_error_label');$('#edit-statebr-label-icon').hide();}}
else{}
if(val!='221'){if($('#edit-zip').val()==""){additionalErrorHTML+=Drupal.settings.checkout_form.zip.required
$('#edit-zip').addClass('errorFieldDemo5');$('#edit-zip-label').addClass('signup_error_label');$('#edit-zip-label-icon').show();}else{$('#edit-zip').removeClass('errorFieldDemo5');$('#edit-zip-label').removeClass('signup_error_label');$('#edit-zip-label-icon').hide();}}
if(additionalErrorHTML){errorHTML+=additionalErrorHTML;$("#rsvErrors").css("display","block");$("#rsvErrors").html(errorHTML);return false;}
$('#edit-submit').hide();$('#payment_progress').show();$('#payment-form').submit();return false;});$('#payment-form #edit-submit-paypal').click(function(){additionalErrorHTML="";$("#rsvErrors").html("").css('display','none');var errorHTML=Drupal.settings.checkout_form.form_header_error;additionalErrorHTML=validate_custom_fields(additionalErrorHTML);if(additionalErrorHTML){errorHTML+=additionalErrorHTML;$("#rsvErrors").css("display","block");$("#rsvErrors").html(errorHTML);$("#rsvErrors").parent().parent().show();return false;}
$('#payment_progress').show();$('#payment-form').submit();return false;});setInterval(function(){if(paypal_point_wait<3){$('#paypal_point_wait').append('.');paypal_point_wait++;}else{$('#paypal_point_wait').text('');paypal_point_wait=0;}},300);$('#payment-form').each(function(){fls_checkout_update_form_fields();});setTimeout(function(){if(!$.browser.msie||$('#edit-payment-type').length==0)return;fls_payment_type_is_selected=false;if($('#edit-payment-type option:selected').length){fls_payment_type_is_selected=true;}
if(!fls_payment_type_is_selected){$('#edit-payment-type option:first').prop('selected',true);}},0);});var paypal_point_wait=0;function validate_custom_fields(additionalErrorHTML){if($('#edit-confirm-card-no-err').val()==""&&$('#check_confirm').length>0){$('html, body').animate({scrollTop:$(".left_bc_preview").offset().top},500);$('#check_confirm input').parent().find('label').css('color','#CD0000');$('#check_confirm input').parent().parent().css('border','1px solid #CD0000');$('.proof_error_show').show();additionalErrorHTML+=Drupal.settings.checkout_form.confirm_card_no_err.required;}
return additionalErrorHTML;}
function fls_update_payment_types(country_id){if($('#step-checkout1').length>0||$('#ipage_checkout_main').length>0){show_loading_overlay();}
$('input.errorFieldDemo5, select.errorFieldDemo5').removeClass('errorFieldDemo5');$('div.error_icon').css('display','none');$('label.signup_error_label').removeClass('signup_error_label');if(country_id=='221'){$('#edit-zip-label span.required').css('display','none');}else{$('#edit-zip-label span.required').css('display','');}
if($('#edit-payment-type').length<=0){$('#edit-country').each(fls_change_states);return;}
if(Drupal.settings.checkout_form.payment_types_url==undefined){$('#edit-country').each(fls_change_states);return;}
$('#edit-payment-type').prop('disabled',true);$.ajax({url:Drupal.settings.checkout_form.payment_types_url,type:"POST",data:({country_id:country_id,form_buld_id:$('input[name=form_build_id]').val(),first_name:$('input[name=first_name]').val(),last_name:$('input[name=last_name]').val(),address:$('input[name=billing_address]').val(),address2:$('input[name=billing_address2]').val(),city:$('input[name=city]').val(),state:$('input[name=state]').val(),zip:$('input[name=zip]').val(),phone:$('input[name=phone]').val(),order_logos:$('#edit-order-logos').val()}),dataType:"json",success:function(data){location.reload();$('#edit-payment-type option').each(function(){var val=$(this).attr('value');if(val!="0"){$(this).remove();}});for(var i in data){$('#edit-payment-type').append($("<option></option>").attr("value",i).text(data[i]));}
$('#edit-payment-type').prop('disabled',false);$('#edit-payment-type').each(fls_checkout_update_form_fields);$('#edit-country').each(fls_change_states);}})}
function fls_change_states(){var val=$(this).val();$('#edit-statebr').removeClass('errorFieldDemo5');$('#edit-statebr-label').removeClass('signup_error_label');$('#edit-statebr-label-icon').hide();$('#edit-statecan').removeClass('errorFieldDemo5');$('#edit-statecan-label').removeClass('signup_error_label');$('#edit-statecan-label-icon').hide();$('#edit-stateus').removeClass('errorFieldDemo5');$('#edit-stateus-label').removeClass('signup_error_label');$('#edit-stateus-label-icon').hide();$('#edit-statees').removeClass('errorFieldDemo5');$('#edit-statees-label').removeClass('signup_error_label');$('#edit-statees-label-icon').hide();$('#edit-stateit').removeClass('errorFieldDemo5');$('#edit-stateit-label').removeClass('signup_error_label');$('#edit-stateit-label-icon').hide();$('#edit-statemx').removeClass('errorFieldDemo5');$('#edit-statemx-label').removeClass('signup_error_label');$('#edit-statemx-label-icon').hide();$('#edit-state').removeClass('errorFieldDemo5');$('#edit-state-label').removeClass('signup_error_label');$('#edit-state-label-icon').hide();$('.states').parent().parent().parent().hide();if(val=='1'||val=='01'){$('#edit-stateus').parent().parent().parent().show();}else if(val=='2'||val=='02'){$('#edit-statecan').parent().parent().parent().show();}else if(val=='36'){$('#edit-statebr').parent().parent().parent().show();}else if(val=='203'){if($('#edit-statees').length>0){$('#edit-statees').parent().parent().parent().show();}else{$('#edit-state').parent().parent().parent().show();}}else if(val=='112'){if($('#edit-stateit').length>0){$('#edit-stateit').parent().parent().parent().show();}else{$('#edit-state').parent().parent().parent().show();}}else if(val=='143'){if($('#edit-statemx').length>0){$('#edit-statemx').parent().parent().parent().show();}else{$('#edit-state').parent().parent().parent().show();}}else{$('#edit-state').parent().parent().parent().show();}}
function fls_checkout_update_form_fields(){if(Drupal.settings.payment_type_js_callback){for(var i in Drupal.settings.payment_type_js_callback){eval(Drupal.settings.payment_type_js_callback[i]+'()');}}
var value=$(this).val();if(typeof(value)=='undefined')return;if(!value)return;value=value.replace(/\*/g,'');if(Drupal.settings.default_remove_fields===undefined){Drupal.settings.default_remove_fields=0;}
if(Drupal.settings.default_remove_fields){value='paypal';$('.payment_types_imgs').hide();}
if(value=='paypal'){payment_type_paypal=1;$('#payment-form .form_table tr').each(function(){var paypal=null;paypal=$(this).find('#edit-submit-paypal,#edit-payment-type,#edit-promo-code, .upsells_new_right');if(paypal.length<=0){$(this).css('display','none');}else{$(this).css('display','');}
if(Drupal.settings.checkout_form.payment_types_url!=undefined){if($(this).find('#edit-country').length>0){$(this).css('display','');}}});}else if(payment_type_paypal){$('#payment-form .form_table tr').each(function(){var paypal=null;paypal=$(this).find('#edit-submit-paypal');if(paypal.length>0){$(this).css('display','none');}else{$(this).css('display','');}});$('#edit-country').each(fls_change_states);payment_type_paypal=0;}}
function fls_update_total_price(){var no=1;var logos=new Array();$('#step-checkout1 .order-logos').each(function(){var attr=$(this).prop('checked');if(attr){no++;logos.push($(this).val());$(this).parent().addClass('logo_added');}else{$(this).parent().removeClass('logo_added');}});$('#edit-order-logos').val(logos.join(','));$('#step-checkout1 .checkout-multi-total-logos .total').text(no);no--;var price=parseFloat(Drupal.settings.checkout_first_price);var sum=parseFloat(no*parseFloat(Drupal.settings.checkout_price_item));var total=price+sum;total=total.toFixed(2);$('#step-checkout1 .checkout-multi-total-price .total').text(total);}
function update_payment_with_upsells_new_logo(action,type){return;if(Drupal.settings.promo_code_upsells)
return;if($('.upsells_new_total_price > span').length>0){var pricetext=$('.upsells_new_total_price > span').html();var obj=$('.upsells_new_total_price > span');}else{return;}
pricetext=parseFloat(pricetext);var newprice="";if($(action).is(":checked")){if($(action).hasClass("inputChecked")){if(($(action).attr('id')!=Drupal.settings.upsell_google_id&&$(action).attr('id')!=523&&$(action).attr('id')!=532&&$(action).attr('id')!=Drupal.settings.hosting_prod_id)||($(action).attr('id')==Drupal.settings.upsell_google_id&&!$(action).hasClass("seatUpdated"))||($(action).attr('id')==523&&!$(action).hasClass("seatUpdated"))||($(action).attr('id')==532&&!$(action).hasClass("seatUpdated"))||($(action).attr('id')==Drupal.settings.hosting_prod_id&&$("#weebly_packs").length==0))
return false;}else{$(action).addClass("inputChecked");}
$('#edit-'+$(action).val()).attr('value','1');var upsell_price=Drupal.settings.additional_offers[$(action).val()]['price'][Drupal.settings.upsell_country];if(upsell_price==undefined){upsell_price=Drupal.settings.additional_offers[$(action).val()]['default_price'];}
if($(action).attr('id')==Drupal.settings.upsell_google_id&&$("#seat_values").length>0)upsell_price=$('#seat_values option:selected').val()*upsell_price;else if($(action).attr('id')==523&&$("#bundle_seat_values").length>0){upsell_price=($('#bundle_seat_values option:selected').val()-1)*Drupal.settings.google_prod_price*1+upsell_price*1;}
else if($(action).attr('id')==532&&$("#custom_bundle_seat_values").length>0){upsell_price=($('#custom_bundle_seat_values option:selected').val()-1)*Drupal.settings.google_prod_price*1+upsell_price*1;}else if($(action).attr('id')==Drupal.settings.hosting_prod_id&&$("#weebly_packs").length>0&&Drupal.settings.weebly_packages!=undefined){upsell_price=upsell_price*1+Drupal.settings.weebly_packages[$("#weebly_packs option:selected").val()]['price']*1;}
newprice=parseFloat(pricetext)+parseFloat(upsell_price);newprice=newprice.toFixed(2);obj.html(newprice);if($('span.buy_now_price').length){$('span.buy_now_price').html(newprice);}
if($(action).attr('id')=='38')
{$('.attributes-box').css('display','block');}
if($(action).attr('id')=='447'){fls_events_add('added_cart_premium_upsell');}}else{if(!$(action).hasClass("inputChecked")){if(($(action).attr('id')!=Drupal.settings.upsell_google_id&&$(action).attr('id')!=523&&$(action).attr('id')!=532&&$(action).attr('id')!=Drupal.settings.hosting_prod_id)||($(action).attr('id')==Drupal.settings.upsell_google_id&&!$(action).hasClass("seatUpdated"))||($(action).attr('id')==523&&!$(action).hasClass("seatUpdated"))||($(action).attr('id')==532&&!$(action).hasClass("seatUpdated"))||($(action).attr('id')==Drupal.settings.hosting_prod_id&&$("#weebly_packs").length==0))
return false;}else{$(action).removeClass("inputChecked");}
$('#edit-'+$(action).val()).attr('value','');$('.attributes-box').css('display','none');if(type){var upsell_price=Drupal.settings.additional_offers[$(action).val()]['price'][Drupal.settings.upsell_country];if(upsell_price==undefined){upsell_price=Drupal.settings.additional_offers[$(action).val()]['default_price'];}
if($(action).attr('id')==Drupal.settings.upsell_google_id&&$("#seat_values").length>0)upsell_price=$('#seat_values option:selected').val()*upsell_price;else if($(action).attr('id')==523&&$("#bundle_seat_values").length>0){upsell_price=($('#bundle_seat_values option:selected').val()-1)*Drupal.settings.google_prod_price*1+upsell_price*1;}
else if($(action).attr('id')==532&&$("#custom_bundle_seat_values").length>0){upsell_price=($('#custom_bundle_seat_values option:selected').val()-1)*Drupal.settings.google_prod_price*1+upsell_price*1;}
else if($(action).attr('id')==Drupal.settings.hosting_prod_id&&$("#weebly_packs").length>0&&Drupal.settings.weebly_packages!=undefined){upsell_price=parseFloat(upsell_price)*1+Drupal.settings.weebly_packages[$("#weebly_packs option:selected").val()]['price']*1;}
newprice=pricetext-upsell_price;newprice=Math.round(newprice*100)/100;newprice=parseFloat(Math.round(newprice*100)/100).toFixed(2);obj.html(newprice);if($('span.buy_now_price').length){$('span.buy_now_price').html(newprice);}}else{var lng=0;if(Drupal.settings.notice_upsells){notice_upsells=Drupal.settings.notice_upsells;lng=notice_upsells.length;}
pricetext=Math.round(pricetext*100)/100;pricetext=parseFloat(Math.round(pricetext*100)/100).toFixed(2);obj.html(pricetext);if($('span.buy_now_price').length&&lng&&lng>0){$('span.buy_now_price').html(newprice);}}}
return newprice;}
function update_payment_with_upsells_from_notice(upsell){if($('.upsells_new_total_price > span').length>0){var pricetext=$('.upsells_new_total_price > span').html();var obj=$('.upsells_new_total_price > span');}else{return;}
if(Drupal.settings.current_price){pricetext=Drupal.settings.current_price;}
pricetext=parseFloat(pricetext);var newprice="";$('#edit-'+upsell).attr('value','1');newprice=parseFloat(pricetext)+parseFloat(Drupal.settings.additional_offers[upsell]['price'][Drupal.settings.upsell_country]);newprice=newprice.toFixed(2);obj.html(newprice);if($('span.buy_now_price').length){$('span.buy_now_price').html(newprice);}
Drupal.settings.current_price=newprice;return newprice;}
$(document).ready(function(){$('.upsells_new_check_logo input').each(function(){update_payment_with_upsells_new_logo(this,0);});$('.upsells_new_check_logo input').click(function(){update_payment_with_upsells_new_logo(this,1);});if(Drupal.settings.notice_upsells){var lng=0;notice_upsells=Drupal.settings.notice_upsells;lng=notice_upsells.length;if(lng&&lng>0){for(var i=0;i<lng;i++){update_payment_with_upsells_from_notice(notice_upsells[i]);}}}
$('.upsell-info').click(function(){return false;});$('.upsell-info').each(function(){$(this).hover(function(){var free_policy_why_title=$(this).attr('rel');if($(this).parent().find('.whyPopupUpsell').length==0){$(this).parent().append('<div class="whyPopupUpsell">'+free_policy_why_title+'</div>');}
$(this).parent().find('.whyPopupUpsell').show();},function(){$(this).parent().find('.whyPopupUpsell').hide();});});$('.upsells_new_see').click(function(){return false;});$('.upsells_new_see').each(function(){$(this).hover(function(){var free_policy_why_title=$(this).attr('rel');if($(this).parent().find('.whyPopupUpsell').length==0){var whyPopupId=$(this).parent().parent().parent().attr('id');var whyPopupClass='mouse_over_'+$(this).parent().parent().attr('item');$(this).parent().append('<div id="whyPopupUpsell_'+whyPopupId+'" class="whyPopupUpsell '+whyPopupClass+'">'+free_policy_why_title+'</div>');}
$(this).parent().find('.whyPopupUpsell').show();$(this).parent().parent().parent().parent().parent().css({'z-index':'3','position':'relative'});},function(){$(this).parent().find('.whyPopupUpsell').hide();$(this).parent().parent().parent().parent().parent().css({'z-index':'1'});});});$('.upsells_new_img').each(function(){$(this).hover(function(){if($(this).parent().parent().find('.upsells_new_see').length!=0){var free_policy_why_title=$(this).parent().parent().find('.upsells_new_see').attr('rel');if($(this).parent().parent().find('.whyPopupUpsell').length==0){var whyPopupId=$(this).parent().parent().attr('id');var whyPopupClass='mouse_over_'+$(this).parent().parent().attr('item');$(this).parent().parent().find('.upsells_new_details').append('<div id="whyPopupUpsell_'+whyPopupId+'" class="whyPopupUpsell '+whyPopupClass+'">'+free_policy_why_title+'</div>');}
$(this).parent().parent().find('.whyPopupUpsell').css('left','0px');$(this).parent().parent().find('.whyPopupUpsell').css('top','-10px');$(this).parent().parent().find('.whyPopupUpsell').show();$(this).parent().parent().parent().parent().css({'z-index':'3','position':'relative'});}},function(){$(this).parent().parent().find('.whyPopupUpsell').hide();$(this).parent().parent().find('.whyPopupUpsell').css('left','270px');$(this).parent().parent().find('.whyPopupUpsell').css('top','10px');$(this).parent().parent().parent().parent().css({'z-index':'1'});});});});function fls_store_checkout_get_vendor_name(){if($('#fls-store-payment-form #edit-payment-type').length)var payment_type_val=$('#fls-store-payment-form #edit-payment-type').val();if($('#fls-store-account-checkout-form #edit-payment-type').length)var payment_type_val=$('#fls-store-account-checkout-form #edit-payment-type').val();console.log(payment_type_val);var vendor_name=Drupal.settings.checkout_form.available_vendors[payment_type_val];return vendor_name;}
function fls_store_checkout_btpaypal_check(){if(typeof fls_braintree_paypal_checkout_check!='function')
return false;return fls_braintree_paypal_checkout_check();};$(document).ready(function(){logo_creator_step1_init();});function load_logo_design_form(){$("<div class='form_title'>"+Drupal.settings.logo_design_form_subtitle+"</div>").insertBefore(".form_table");$(".form_table tr:last>td:first").css("height","0px");$(".signupBtn .orangeBtn_center").html(Drupal.settings.logo_design_form_button);$(".form_table tr:nth-child(2)").insertAfter($(".form_table tr:nth-child(4)"));$(".step1_form tr .label").each(function(){var html=$(this).html();if($(this).find('label').length){if($(this).next('td').find('input').val()=="")
$(this).next('td').find('input').attr("value",$(this).find('label').html());$(this).next('td').find('input').attr("title",$(this).find('label').html());}else{temp=html.split('<span');if(temp.length>0){if(temp[0]){if($(this).next('td').find('input').val()=="")
$(this).next('td').find('input').attr("value",temp[0]);$(this).next('td').find('input').attr("title",temp[0]);}}}
if($(this).next('td').find('input').val()==$(this).next('td').find('input').attr("title"))
$(this).next('td').find('input').addClass('text-label');if(!$(this).next('td').find('select').attr('id'))
$(this).hide();});$('input[type="text"]').each(function(){if(this.value==""){this.value=$(this).attr('title');$(this).addClass('text-label');}
$(this).focus(function(){if(this.value==$(this).attr('title')){this.value='';$(this).removeClass('text-label');}});$(this).blur(function(){if(this.value==''){this.value=$(this).attr('title');$(this).addClass('text-label');}});});if(Drupal.settings.logocategory_split_set==2){$('#logo-creator-step1-page-form select').each(function(){if(this.value=="-1"){$(this).addClass('text-label');}
$(this).focus(function(){$(this).removeClass('text-label');});$(this).blur(function(){if(this.value=='-1'){$(this).addClass('text-label');}});});}}
function fls_find_form(obj){var current=false;var idok='';if($(obj).is('form')){idok=$(obj).attr(id);}
if($(obj).is('body')){idok='false';}
while(current==false){obj=$(obj).parent();if($(obj).is('form')){idok=$(obj).attr('id');current=true;}
if($(obj).is('body')){idok='false';}}
return idok;}
function logo_creator_step1_init(){$('form input[type=text]').each(function(){$(this).bind('keypress',function(e){var idform=fls_find_form(this);if(e.keyCode==13&&idform!='fls-store-payment-form'){setTimeout(function(){$('#'+idform+' #edit-submit').click();},500);}});});$('form input[type=password]').each(function(){$(this).bind('keypress',function(e){var idform=fls_find_form(this);if(e.keyCode==13&&idform!='fls-store-payment-form'){$('#'+idform+' #edit-submit').click();}});});$('#edit-submit').css('display','inline-block');$('#logo-creator-step1-page-form #edit-submit').click(function(){additionalErrorHTML="";$("#rsvErrors").html("").css('display','none');var errorHTML=Drupal.settings.step_1_form.form_header_form;if($(".page-body-logo-design").length>0){errorHTML='';$("#rsvErrors").parent().parent().addClass("customErrMsg");}
if($('input[name="new_design"]').length>0&&$('input[name="new_design"]').val()=='logomaker'){if($('#edit-logo-type').val()=="00"){additionalErrorHTML+=Drupal.settings.step_1_form.logo_type.required;$('#edit-logo-type').addClass('errorFieldDemo5');}
else{$('#edit-logo-type').removeClass('errorFieldDemo5');}}
if(Drupal.settings.logocategory_split_set==2){if($('#edit-logo-type').val()=="-1"){additionalErrorHTML+=Drupal.settings.step_1_form.logo_type.invalid;$('#edit-logo-type').addClass('errorFieldDemo5');fls_events_add('error_msg_not_selecting_logo_category',1);}
else{$('#edit-logo-type').removeClass('errorFieldDemo5');}}
if($('input[name="new_design"]').length>0&&$('input[name="new_design"]').val()=='logocategory'){if($('#edit-logo-type').val()=="-1"){additionalErrorHTML+=Drupal.settings.step_1_form.logo_type.invalid;$('#edit-logo-type').addClass('errorFieldDemo5');fls_events_add('error_msg_second_lb',1);}
else{$('#edit-logo-type').removeClass('errorFieldDemo5');}}
if($('input[name="logo_first_line"]').val()==""||$('input[name="logo_first_line"]').val()==$('input[name="logo_first_line"]').attr('title')){additionalErrorHTML+=Drupal.settings.step_1_form.logo_first_line.required;$('input[name="logo_first_line"]').addClass('errorFieldDemo5');$('#edit-first-line-label').addClass('signup_error_label');$('#edit-first-line-label-icon').show();}else{$('input[name="logo_first_line"]').removeClass('errorFieldDemo5');$('#edit-first-line-label').removeClass('signup_error_label');$('#edit-first-line-label-icon').hide();}
if(Drupal.settings.no_leads_email){if($('input[name="email"]').val()==""){additionalErrorHTML+=Drupal.settings.step_1_form.email.required;$('input[name="email"]').addClass('errorFieldDemo5');$('#email-label').addClass('signup_error_label');$('#email-label-icon').show();}else{$('input[name="email"]').removeClass('errorFieldDemo5');$('#email-label').removeClass('signup_error_label');$('#email-label-icon').hide();}
if($('input[name="confirm_email"]').val()==""){additionalErrorHTML+=Drupal.settings.step_1_form.confirm_email.required;$('input[name="confirm_email"]').addClass('errorFieldDemo5');$('#confirm-email-label').addClass('signup_error_label');$('#confirm-email-label-icon').show();}else if($.trim($('input[name="confirm_email"]').val().toLowerCase())!=$.trim($('input[name="email"]').val().toLowerCase())){additionalErrorHTML+=Drupal.settings.step_1_form.confirm_email.not_confirm;$('input[name="confirm_email"]').removeClass('errorFieldDemo5');$('#confirm-email-label').removeClass('signup_error_label');$('#confirm-email-label-icon').hide();}else{$('input[name="confirm_email"]').removeClass('errorFieldDemo5');$('#confirm-email-label').removeClass('signup_error_label');$('#confirm-email-label-icon').hide();}}
if(additionalErrorHTML){if($("#edit-new-design").val()!="")$(".error_icon").hide();errorHTML+=additionalErrorHTML;$("#rsvErrors").css("display","block");$("#rsvErrors").html(errorHTML);var iframe=window.parent.document.getElementById('TB_iframeContent');if(typeof iframe!="undefined"&&iframe!=null){var height=iframe.offsetHeight;iframe.style.height=(height+80)+"px";}
return false;}
else{if($('input[name="logo_second_line"]').val()==$('input[name="logo_second_line"]').attr('title')){$('input[name="logo_second_line"]').val("");}
if($('input[name="tag_line"]').val()==$('input[name="tag_line"]').attr('title')){$('input[name="tag_line"]').val("");}
if($('.step1_popup.step1_popup_ajax').length>0){if(typeof step1_form_submit_ajax=='function'){step1_form_submit_ajax();return false;}}
$('#logo-creator-step1-page-form').submit();return false;}});$('#logo-creator-step1-page-form').bind('submit',function(){if(typeof stop_duplicate_form_submit!=='undefined')return false;else stop_duplicate_form_submit=true;});$('.limitedCountSelect').focus(function(){$(this).attr("size",14);});$('.limitedCountSelect').blur(function(){$(this).attr("size",1);});$('.limitedCountSelect option').click(function(){if($('.limitedCountSelect').attr("size")>1){$('.limitedCountSelect').attr("size",1);$('.limitedCountSelect').blur();}});var isIE11=(!!navigator.userAgent.match(/Trident\/7\./));if($.browser.msie||isIE11){$('.limitedCountSelect').mouseup(function(){if($(this).attr('isopen')=='1'){$(this).attr('isopen','0');setTimeout(function(){$('.limitedCountSelect').trigger('blur');},10);return;}
$(this).attr('isopen','1');});}
if(Drupal.settings.show_step4_offer!=undefined){if(Drupal.settings.browser_details_name!='ie'){$("#step1 .form_table input, #step1 .form_table select").each(function(){$(this).addClass('popunder_click');popunder_init_element($(this).parent())});popunder_init_element($('#step1 #edit-submit'));}
$("#step1 .form_table input, #step1 .form_table select").click(function(){var url=Drupal.settings.baseUrl+"/step4?offer=1";if(Drupal.settings.show_step4_offer!=undefined&&Drupal.settings.show_step4_offer){if(typeof Drupal.settings.offer_flash_submited=='undefined'&&Drupal.settings.browser_details_name!=='op'){fls_new_page(url,'scrollbars=yes,resizable=yes&location=yes&toolbar=yes&menubar=yes','step4');}}
$(this).focus();});}};(function($){$.fn.jCarouselLite=function(o){o=$.extend({btnPrev:null,btnNext:null,btnGo:null,mouseWheel:false,auto:null,speed:200,easing:null,vertical:false,circular:true,visible:3,start:0,scroll:1,beforeStart:null,afterEnd:null},o||{});if(!o.circular)
{$(o.btnPrev).addClass("disabled");}
return this.each(function(){var running=false,animCss=o.vertical?"top":"left",sizeCss=o.vertical?"height":"width";var div=$(this),ul=$("ul",div),tLi=$("li",ul),tl=tLi.length,v=o.visible;if(o.circular){ul.prepend(tLi.slice(tl-v-1+1).clone()).append(tLi.slice(0,v).clone());o.start+=v;}
var li=$("li",ul),itemLength=li.length,curr=o.start;div.css("visibility","visible");li.css({overflow:"hidden",float:o.vertical?"none":"left"});ul.css({margin:"0",padding:"0",position:"relative","list-style-type":"none","z-index":"1"});div.css({overflow:"hidden",position:"relative","z-index":"2"});var liSize=o.vertical?height(li):width(li);var ulSize=liSize*itemLength;var divSize=liSize*v;li.css({width:li.width(),height:li.height()});ul.css(sizeCss,ulSize+"px").css(animCss,-(curr*liSize));div.css(sizeCss,divSize+"px");if(o.btnPrev)
$(o.btnPrev).click(function(){return go(curr-o.scroll);});if(o.btnNext)
$(o.btnNext).click(function(){return go(curr+o.scroll);});if(o.btnGo)
$.each(o.btnGo,function(i,val){$(val).click(function(){return go(o.circular?o.visible+i:i);});});if(o.mouseWheel&&div.mousewheel)
div.mousewheel(function(e,d){return d>0?go(curr-o.scroll):go(curr+o.scroll);});if(o.auto)
setInterval(function(){go(curr+o.scroll);},o.auto+o.speed);function vis(){return li.slice(curr).slice(0,v);};function go(to){if(!running){if(o.beforeStart)
o.beforeStart.call(this,vis());if(o.circular){if(to<=o.start-v-1){ul.css(animCss,-((itemLength-(v*2))*liSize)+"px");curr=to==o.start-v-1?itemLength-(v*2)-1:itemLength-(v*2)-o.scroll;}else if(to>=itemLength-v+1){ul.css(animCss,-((v)*liSize)+"px");curr=to==itemLength-v+1?v+1:v+o.scroll;}else curr=to;}else{if(to<0||to>itemLength-v)return;else curr=to;}
running=true;ul.animate(animCss=="left"?{left:-(curr*liSize)}:{top:-(curr*liSize)},o.speed,o.easing,function(){if(o.afterEnd)
o.afterEnd.call(this,vis());running=false;});if(!o.circular){$(o.btnPrev+","+o.btnNext).removeClass("disabled");$((curr-o.scroll<0&&o.btnPrev)||(curr+o.scroll>itemLength-v&&o.btnNext)||[]).addClass("disabled");}}
return false;};if(itemLength<=o.visible)
$(o.btnNext).addClass("disabled");});};function css(el,prop){return parseInt($.css(el[0],prop))||0;};function width(el){return el[0].offsetWidth+css(el,'marginLeft')+css(el,'marginRight');};function height(el){return el[0].offsetHeight+css(el,'marginTop')+css(el,'marginBottom');};})(jQuery);;$(function(){if($('.inner_step3 .scrollerConteiner ul li').length>0){$(".inner_step3 .scroller").jCarouselLite({btnNext:".next",btnPrev:".prev",circular:false,visible:5});}});$(function(){if($('#step-checkout1 .scrollerConteiner ul li').length>0){$('#checkout-slider-wrapper').css('display','');$("#step-checkout1 .scroller").jCarouselLite({btnNext:".next",btnPrev:".prev",circular:false,visible:4});}});;var check_payment_interval=0;var reorderEUCardType="";var reorderEUCardEditLink="";$(document).ready(function(){if(typeof Drupal.settings.reactivate_message!='undefined'){if(Drupal.settings.reactivate_message.length>0){setTimeout(function(){alert(Drupal.settings.reactivate_message);},500);}}
if(typeof Drupal.settings.saved_logos_action_message!='undefined'){if(Drupal.settings.saved_logos_action_message.length>0){alert(Drupal.settings.saved_logos_action_message);}}
$('.purchased_download_link').mousedown(function(){var category='/mylogos';var event='click';var label='';if($(this).hasClass('purchased_download_png')){label='download_png_only';}
if($(this).hasClass('purchased_logo_email')){label='email_logo';}
if($(this).hasClass('purchased_logo_sms')){label='text_logo';}
ga('send','event',category,event,label);});saved_logos_check_hash_autodownload();$("#websites_block .upgradeBtn").click(function(){$(".page-body-mylogos .checkoutwebsitebundle_popup .container.website_upsell").hide();$(".page-body-mylogos .checkoutwebsitebundle_popup .container.website_upsell .upsells_new_single").hide();Drupal.settings.site_id=$(this).attr("id");CHECKOUTWEBSITEBUNDLE.init();var current;var upsellNr;current=Drupal.settings.domainUpsells[$(this).attr("id")];upsellNr=0;$(".checkoutwebsitebundle_popup .upsells_new_single").each(function(){if(current.indexOf(parseInt($(this).attr("item")))!=-1){upsellNr++;$(this).show();}});if(upsellNr==1)$(".website_upsell .hr").hide();$(".page-body-mylogos .checkoutwebsitebundle_popup .container.website_upsell").show();});$('.show_feedback_popup').click(function(){show_feedback_popup(this);});$('.page-body-mylogos .bc50-banner1 a').click(function(){fls_events_add('bc50_mylogos_banner')});$('#edit-account-form #edit-submit').click(function(){$('#edit-account-form').submit();return false;});$('#fast-password-reset-form #edit-submit').click(function(){$('#fast-password-reset-form').submit();return false;});$('#fls-contactform-form #edit-submit').click(function(){$('#fls-contactform-form').submit();return false;});$('#unsubscribe-form #edit-submit').click(function(){$('#unsubscribe-form').submit();return false;});var logo_id=$('#last_purchased_logo_id_fb').val();if(logo_id){PO.init();}else{$('.thankYouBox, .overlay').css({"display":"none"});var logo_id=$('#last_purchased_logo_id').val();if(logo_id){check_payment_interval=setInterval("check_payment_ajax('"+logo_id+"')",10000);}}
$('.thankYouBox').click(function(e){if($(e.target).is('.purchase')){$.ajax({url:Drupal.settings.baseUrl+'/save-bc-purchase/',dataType:"json",success:function(Response){if(Response.success=='1'){}}});return true;}
if($(e.target).is('.download')||$(e.target).is('.noThankYou')){PO.hidePopUp();}
if($(e.target).is('.shareFB')){FB.ui({method:'feed',name:'Do you LIKE my new logo?',link:'http://www.freelogoservices.com/?utm_campaign=FaceBookLogoShare&utm_medium=ThankyouPageLightbox&utm_source=Facebook',picture:$('#logo_share_fb').attr('src'),caption:'www.FreeLogoServices.com',description:'I created my new logo on FreeLogoServices.com'},function(response){if(response&&response.post_id){Drupal.settings.fbPostID=response.post_id;}
PO.hidePopUp();});}});$('.fb-share-logo').click(function(e){FB.ui({method:'feed',name:Drupal.settings.fbShare.name,link:Drupal.settings.fbShare.utmLink,picture:$(this).parent().parent().parent().find('img.logo_thumb').attr('src'),caption:Drupal.settings.fbShare.caption,description:Drupal.settings.fbShare.description},function(response){if(response&&response.post_id){var lengPref="";if(Drupal.settings.lang)lengPref='/'+Drupal.settings.lang;$.ajax({url:Drupal.settings.baseUrl+lengPref+'/save-fb-share/',dataType:"json",success:function(Response){if(Response.success=='1'){}}});}else{}});});$('.clickable_link').click(function(e){e.preventDefault()});if($('#snapengage_contactus').length>0){$('#SnapABug_P').appendTo('#snapengage_contactus');SnapABug.startLink();}
$("#saved_logos .left .eu_card, #saved_logos .reorderUsCard, #saved_logos .reorderEditUsCard").click(function(){var href=$(this).attr('href');reorderEUCardEditLink=href;var classes=($(this).attr("class")).split(" ");reorderEUCardType=classes[0];href=href.split('/');var logoID=href.pop();if(logoID){var classes=$(this).attr('class');classes=classes.split(' ');var sideID=0;var cl_id=0;var side_clid=0;for(var i in classes){console.log(classes[i])
if(classes[i].indexOf('carddetails')==0){var details=classes[i].split('_');sideID=details[2];cl_id=details[3];side_clid=details[4];}}
bc2eu_init(logoID,sideID,cl_id,side_clid);return false;}});});function bc2eu_after_save_mylogos(data){$('.eucard_popup .eucard_images img').hide();$('.eucard_popup .eucard_images img').attr('src',data['preview1']);var href=$('.eucard_popup .buyNowBtn').attr('href');href=href.split('/');href.pop();href.push(data['design_id']);href=href.join('/');$('.eucard_popup .buyNowBtn').attr('href',href);if(reorderEUCardType=="reorderEditUsCard"){$('.eucard_popup .buyNowBtn').hide();$('.eucard_popup .editCardBtn').attr('href',reorderEUCardEditLink);}else{$('.eucard_popup .continueBtn').hide();}
href=$('.eucard_popup .editCardBtn').attr('href');href=href.split('/');href.pop();href.push(data['design_id']);href=href.join('/');$('.eucard_popup .editCardBtn').attr('href',href);setTimeout(function(){EUCARD.init()},500);$('.eucard_popup .eucard_images img').show();}
function check_payment_ajax(logo_id){if(logo_id){var fbpostid='';if(Drupal.settings.fbPostID!=undefined){fbpostid='?fbPostID=true';}
$.ajax({url:Drupal.settings.baseUrl+'/check-payment/'+logo_id+fbpostid,dataType:"json",success:function(Response){if(Response.success=='1'){clearInterval(check_payment_interval);var url=window.location.href;window.location.href=url;}}});}}
var fls_dow_win=null
function fls_close_download_window(){var url=$(this).attr('href');fls_dow_win=window.open(url,'','width=1,height=1');setTimeout(function(){window.fls_dow_win.close();},2000);return false;}
var PO={init:function(){if($('.thankYouBox').length>0&&$('.overlay').length>0){PO.placePopUp();$('.thankYouBox .close, .thankYouBox .noThankYou').click(PO.hidePopUp)}},initKeep:function(){if($('.thankYouBox').length>0&&$('.overlay').length>0){$(".thankYouBox .feedback_link .feedback_img").show();$(".thankYouBox .feedback_link .feedback_img").css("visibility","hidden");$(".thankYouBox .feedback_link .feedback_hide").hide();PO.placePopUpKeep();$('.thankYouBox .close, .thankYouBox .noThankYou,.thankYouBox .diylogo_no').click(PO.hidePopUpKeep);$(".thankYouBox .feedback_link .feedback_img").css("visibility","visible");}},initKeepF:function(){if($('.feedbackpopup').length>0&&$('.overlay').length>0){$(".feedbackpopup .feedback_link .feedback_img").show();$(".feedbackpopup .feedback_link .feedback_img").css("visibility","hidden");$(".feedbackpopup .feedback_link .feedback_hide").hide();PO.placePopUpKeepF();$('.feedbackpopup .close, .feedbackpopup .noThankYou,.feedbackpopup .diylogo_no').click(PO.hidePopUpKeepF);$(".feedbackpopup .feedback_link .feedback_img").css("visibility","visible");}},initKeepD:function(){if($('.diy_edit_logo').length>0&&$('.overlay').length>0){$(".diy_edit_logo .feedback_link .feedback_img").show();$(".diy_edit_logo .feedback_link .feedback_img").css("visibility","hidden");$(".diy_edit_logo .feedback_link .feedback_hide").hide();PO.placePopUpKeepD();$('.diy_edit_logo .close, .diy_edit_logo .noThankYou,.diy_edit_logo .diylogo_no').click(PO.hidePopUpKeepD);$(".diy_edit_logo .feedback_link .feedback_img").css("visibility","visible");}},placePopUp:function(){var overlay=$('.overlay');var thankYouBox=$('.thankYouBox');$('.overlay, .thankYouBox').remove();var docH=$(document).height();var docW=$(document).width();overlay.css({"width":docW+"px","height":docH+"px"});thankYouBox.prependTo('body');overlay.prependTo('body');overlay.show();thankYouBox.show();var bW=$('.thankYouBox').width();var bH=$('.thankYouBox').height();var wW=$(window).width();var wH=$(window).height();bW=wW/2-bW/2;bH=wH/2-bH/2;$('.thankYouBox').css({left:bW,top:bH>40?bH:40});},placePopUpKeep:function(){var overlay=$('.overlay');var thankYouBox=$('.thankYouBox');$('.overlay, .thankYouBox').remove();var docH=$(document).height();var docW=$(document).width();overlay.css({"width":docW+"px","height":docH+"px"});thankYouBox.prependTo('body');overlay.prependTo('body');overlay.show();var bW=$('.thankYouBox').width();var bH=$('.thankYouBox').height();var wW=$(window).width();var wH=$(window).height();bW=wW/2-bW/2;bH=wH/2-bH/2;$('.thankYouBox').css({left:bW,top:bH>40?bH:40});thankYouBox.show();$('html,body').animate({scrollTop:$('body').offset().top},'slow');},placePopUpKeepF:function(){var overlay=$('.overlay');var thankYouBox=$('.feedbackpopup');$('.overlay, .feedbackpopup').remove();var docH=$(document).height();var docW=$(document).width();overlay.css({"width":docW+"px","height":docH+"px"});thankYouBox.prependTo('body');overlay.prependTo('body');overlay.show();var bW=$('.feedbackpopup').width();var bH=$('.feedbackpopup').height();var wW=$(window).width();var wH=$(window).height();bW=wW/2-bW/2;bH=wH/2-bH/2;$('.feedbackpopup').css({left:bW,top:bH>40?bH:40});thankYouBox.show();$('html,body').animate({scrollTop:$('body').offset().top},'slow');},placePopUpKeepD:function(){var overlay=$('.overlay');var thankYouBox=$('.diy_edit_logo');$('.overlay, .diy_edit_logo').remove();var docH=$(document).height();var docW=$(document).width();overlay.css({"width":docW+"px","height":docH+"px"});thankYouBox.prependTo('body');overlay.prependTo('body');overlay.show();var bW=$('.diy_edit_logo').width();var bH=$('.diy_edit_logo').height();var wW=$(window).width();var wH=$(window).height();bW=wW/2-bW/2;bH=wH/2-bH/2;$('.diy_edit_logo').css({left:bW,top:bH>40?bH:40});thankYouBox.show();$('html,body').animate({scrollTop:$('body').offset().top},'slow');},hidePopUp:function(){$('.thankYouBox').fadeOut();$('.overlay').fadeOut();logo_thankyou_popup_trigger();$('.thankYouBox').remove();$('.overlay').remove();return false;},hidePopUpKeep:function(){$('.thankYouBox').fadeOut();$('.overlay').fadeOut()
return false;},hidePopUpKeepF:function(){$('.feedbackpopup').fadeOut();$('.overlay').fadeOut()
return false;},hidePopUpKeepD:function(){$('.diy_edit_logo').fadeOut();$('.overlay').fadeOut()
return false;}}
function show_purchased_edit_popup(id,bc)
{$('.diylogo_subtitle').hide();if(bc)
$('.diylogo_subtitle_bc').show();else
$('.diylogo_subtitle_logo').show();var link=Drupal.settings.baseUrl;link+=bc?'/business-cards':'';link+='/step3/logo/'+id;$('.diy_edit_logo .diylogo_yes a').attr('href',link);PO.initKeepD();return false;}
function show_feedback_popup(event)
{var link=$(event).attr('href');var banner=$(event).hasClass('banner_mylogos2');$.ajax({url:link,dataType:"json"});PO.initKeepF();$('.thankYouBox .feedback_hide').hide();$.ajax({url:Drupal.settings.baseUrl+'/global-track/ySD0zQA=',dataType:"json"});$('.thankYouBox .feedback_link').click(function(e){e.preventDefault();$(this).find(".feedback_img").hide();$(this).find(".feedback_hide").show();$(this).find(".feedback_hide textarea").select();});$('.thankYouBox #feedback_facebook').click(function(e){$.ajax({url:Drupal.settings.baseUrl+'/global-track/3Cn22gcdcc4=',dataType:"json"});});$('.thankYouBox #feedback_email').click(function(e){$.ajax({url:Drupal.settings.baseUrl+'/global-track/3yX01gk=',dataType:"json"});});$('.thankYouBox #feedback_twitter').click(function(e){$.ajax({url:Drupal.settings.baseUrl+'/global-track/zj...8yxEXbA==',dataType:"json"});});return false;}
function logo_thankyou_popup_trigger(){if(!$('.bc-purchasePopup').length>0&&!$('.tyFacebook').length>0)
return true;var logo_id=$('#last_purchased_logo_id').val();if(logo_id){setTimeout(function(){logo_thankyou_check_status(logo_id)},10000);}}
function logo_thankyou_check_status(logo_id){var fbpostid='';if(Drupal.settings.fbPostID!=undefined){fbpostid='?fbPostID=true';}
$.ajax({url:Drupal.settings.baseUrl+'/check-payment/'+logo_id+fbpostid,dataType:"json",success:function(Response){if(Response.success=='1'){var url=window.location.href;window.location.href=url;}
else{$('.payment_delay_message img').hide();$('.payment_delay_message_generating').hide();}}});}
function saved_logos_check_hash_autodownload(){var hash=window.location.hash;if(!hash)return-1;if(!$(hash).length)return-2;if(hash.substr(0,3)!='#l_')return-3;var logo_id=hash.substr(3);if(!Drupal.settings.autodownload_files)return-4;if(typeof Drupal.settings.autodownload_files[logo_id]=='undefined')return-5;var src=Drupal.settings.autodownload_files[logo_id];if(!$('#saved_logos_iframe').length)return-6;$('#saved_logos_iframe').attr('src',src);};function get_screen_size(){return $(window).width();}
var right_click_disabled=function(){this.apply=function(item){item.bind('mousedown',function(evt){var notice_img=0;if($("body[class*='page-body-notice']").length>0){if(((this.parentElement.className).split(" ")).indexOf("flstheme_notice_right")!==-1){notice_img=1;}}
if(Drupal.settings.is_flstheme){if($('.mobile_view').length==0){if($("body[class*='page-body-step2']").length){ga('send','event','Step2','Click','Image');}}}
if((notice_img&&evt.which==3)||(!notice_img&&evt.which!=1)){return false;}}).bind('contextmenu',function(){return false;});};};function config_bc_suggestion_lightbox(){var suggest_cfg;var lang="en";if(Drupal.settings.lang!="")lang=Drupal.settings.lang;if(lang=="pt")lang="pt-pt";else if(lang=="cn")lang="zh-hans";suggest_cfg={config:Drupal.settings.baseUrl+'/sites/all/themes/freelogoservices/flash/config/config.xml',line1:'test',line2:'here+we+go+again',line3:'',logoID:0,act:'',anchor1:'center',anchor2:'center',anchor3:'',anchorPosition1:'',anchorPosition2:'',anchorPosition3:'',autoscalling:1,type:2,lang:lang,loading:'Loading',suggestCards:1,product_type:'logo',logo_mode:'normal',suggested_first_name:Drupal.settings.bc_default_text['fname'],suggested_last_name:Drupal.settings.bc_default_text['lname'],suggested_job_title:Drupal.settings.bc_default_text['jobtitle'],suggested_addr_1:Drupal.settings.bc_default_text['address1'],suggested_addr_2:Drupal.settings.bc_default_text['address2'],suggested_phone:Drupal.settings.bc_default_text['phone'],suggested_email:Drupal.settings.bc_default_text['email'],suggested_website:Drupal.settings.bc_default_text['website'],bc_suggestion_ids:Drupal.settings.bc_suggestion_cards,parent:1,post_back_data:{parm1:1,param2:3,param3:[11,12,'asdasf'],param4:{asd:12,sdf:13}},card_type:Drupal.settings.bc_type,choice_callback:function(choice){if($.isEmptyObject(choice)){fls_events_add('close_bc_upsell');console.log('X');if(!Drupal.settings.weebly_preview_v2_split_set){$("#FLSBcSuggestLogoStep2Canvas-BackDesignDlg").hide();$(".selector-dlg-wrapper").hide();$('#TB_overlay').remove();$('#TB_window').remove();$('.overlay').first().show();if(fls_show_logowebv2_lightbox()){return false;}}else{$('.overlay').first().show();}
if($('.products_lp_box').length>0&&!$('.logoweb_popup.initialized').length&&!Drupal.settings.weebly_preview_v2_split_set){PP_UL.init();}else{if(Drupal.settings.is_user_logged)
window.location=Drupal.settings.baseUrl+"/notice/"+Drupal.settings.saved_logo_id;else window.location=Drupal.settings.baseUrl+"/step4/";}}else{$('.overlay').first().show();$.post(Drupal.settings.baseUrl+"/color-matched-bc/",{logo_id:Drupal.settings.saved_logo_id,ajax_call:1,bc_svg:choice.bc_svg,bc_parent_id:choice.bc_parent_id,bc_layout:choice.bc_layout,bc_raster:choice.bc_raster},function result(res){fls_events_add('accepted_bc_upsell');lang="";if(Drupal.settings.lang!="")lang="/"+Drupal.settings.lang;window.location=Drupal.settings.baseUrl+lang+"/business-cards/step3/logo/"+res+"?suggest=1";},"json");}},load_complete_callback:function(){if($("body[class*='page-body-step2']").length){if(typeof Drupal.settings.save_logo_timer_obj['bc_editor_end']=='undefined')Drupal.settings.save_logo_timer_obj['bc_editor_end']=Date.now();fls_events_add('bc_suggest_step2_timer',(Drupal.settings.save_logo_timer_obj['bc_editor_end']-Drupal.settings.save_logo_timer_obj['bc_editor_start']));}
Drupal.settings.bc_suggestions_html5_loaded=true;$('#FLSBcSuggestLogoStep2Canvas-BackDesignDlg .fls-button.fls-orangebutton.selector-action').click(function(e){fls_events_add('lightbox_step2bc_negativecta');});$('#FLSBcSuggestLogoStep2Canvas-BackDesignDlg .close-suggest-dlg').click(function(e){fls_events_add('lightbox_step2bc_close');});},before_dlg_show_callback:function(){Drupal.settings.bc_suggestions_html5_completed_loaded=true;console.log('completed loaded');show_loaded_color_bc_suggestion_lightbox();$('.TB_overlayBG').remove();$(".selector-dlg-wrapper .selector-slider .design-item span").addClass("orangeButton");},load_fonts:['Helvetica'],dummy:1};Drupal.settings.bc_suggestions_html5_start_loaded=true;LogoStep2BcSuggest.Init(suggest_cfg);}
function show_loaded_color_bc_suggestion_lightbox(){if(Drupal.settings.bc_suggestions_html5_completed_loaded!=undefined&&$('.thankYouBox.thankYouBoxVisible').length==0){$('.overlay').hide();$('.overlay').first().show();console.log('show overlay');console.log(Drupal.settings.websites_add_to_cart_status);if(Drupal.settings.websites_add_to_cart_status!=undefined&&!Drupal.settings.websites_add_to_cart_status){setTimeout(function(){show_loaded_color_bc_suggestion_lightbox()},400);return false;}
console.log('Show BC suggest!!!');$('#FLS_PageLoadingOverlay').hide();$("#FLSBcSuggestLogoStep2Canvas-BackDesignDlg").show().css('visibility','visible');$(".selector-dlg-wrapper").show();$('.overlay').hide();}else{console.log('Hide BC suggest!!!');$("#FLSBcSuggestLogoStep2Canvas-BackDesignDlg").hide().css('visibility','hidden');$(".selector-dlg-wrapper").hide();}}
function color_bc_suggestion_lightbox(logo_id,fonts){console.log("color_bc_suggestion_lightbox");var myfonts=[];if(fonts!=""){temp=fonts.split(",");if(temp.length>0)
for(i=0;i<temp.length;i++)
myfonts[i]=temp[i];}
console.log("check_logo_direct_save: "+Drupal.settings.step3_save_result);if($("body[class*='page-body-step2']").length&&Drupal.settings.weebly_preview_v2_split_set){fls_show_logowebv2_lightbox();}
interval=setInterval(function(){if(Drupal.settings.bc_suggestions_html5_loaded!=undefined){$('#TB_window').remove();LogoStep2BcSuggest.setLogoId(logo_id,myfonts);clearInterval(interval);}},1000);}
$(document).ready(function(){fls_events_add('screen_size',get_screen_size());if($("#new_logos_nr").length>0){fls_events_add('new_logos_nr',$("#new_logos_nr").val());}
$(".box2 .customize_logos").click(function(){fls_events_add('click_step2_customize_cta');});$(".customize_logo_step2_banner .customize_logos").click(function(){fls_events_add('click_step2_banner_customize_cta');});$(".step2Edit").click(function(){fls_events_add('clicked_edit_logo_text');});$('.deluxeStartNow').click(function(e){e.preventDefault();fls_events_add('deluxeaffiliate_start_now');window.location=$(this).attr('href');return false;});if($('#step2_filters').length>0){step2_filters_init();}
if(Drupal.settings.show_popup_logomix==1)
{tb_show('',Drupal.settings.popup_logomix_url+'?TB_iframe=true&width=571&height=350&modal=true','');}
if(Drupal.settings.show_snap_chat!=undefined&&Drupal.settings.show_snap_chat>0)
{setTimeout(function(){fls_snap_online_chat()},3000);}
if(Drupal.settings.show_popup_cantfind==1)
{}
$('.logoselect_step2_banner a').click(function(e){e.preventDefault();fls_events_add('logoselect_step2_banner_click');window.location=$(this).attr('href');return false;});if($('.pager .step2_pagination_next_only .next').length){$('.pager .step2_pagination_next_only .next').click(function(e){e.preventDefault();ls2s_next_split_click()});}else{$('.pager_step2.ptop li a').click(function(){fls_events_add('clicks_step2_top_pagination')});$('.pager_step2.pbottom li a').click(function(){fls_events_add('clicks_step2_bottom_pagination')});}
if(Drupal.settings.show_ad_logomix==1)
{$('#logomix_ad_step2').addClass(Drupal.settings.ad_logomix_classes);$('#logomix_ad_step2').append('<a href="'+Drupal.settings.ad_logomix_url+'" target="_blank"><img src="'+Drupal.settings.ad_logomix_img+'" alt="logomixad" /></a>')}
var right_click=new right_click_disabled();right_click.apply($('.logo_thumb, .logo_thumb_placeholder, .bcweb_preview img, #page_options #product_image img, #bc_options .product_image img, .websites_domain_page img, .checkout_element_image, #notice_right_container img, .option_steps_form .option img, .businesscards_upsell_page .upsell_info'));$('.thumbs_list1 ul li').click(function(){var ahref=$(this).find('a');if($(ahref).hasClass('multiversion')){tb_show(Drupal.t('Select position for your logo and text'),$(ahref).attr('href'),'');return false;}else{show_loading_overlay();setTimeout(function(){window.location=$(ahref).attr('href');},500);return false;}});$('.select_over_effect').click(function(){$(this).addClass('highlight_field');}).bind('mouseout',function(){$(this).removeClass('highlight_field');});$('.select_over_effect option').bind('mouseover',function(){$(this).parent().addClass('highlight_field');});$('.input_click_effect').click(function(){$(this).addClass('highlight_field');}).bind('blur',function(){$(this).removeClass('highlight_field');});$('.thumbs_list1 ul.ajax-customize li').bind('mouseover click',function(event){if($('.thumbs_list1 ul.ajax-customize li.step2-elem-hover').length){var o=$('.thumbs_list1 ul.ajax-customize li.step2-elem-hover');if(Drupal.settings.step2_save==2){$('#placetoremove').remove();$(o).css('position','relative');$(o).css('left','auto');$(o).css('top','auto');$(o).find('a').css('border-width','1px');$(o).find('a .step2-hover-btns').hide();$(o).find('.favorites-btns .favoriteStatus').hide();$(o).find('.favorites-btns').removeClass('grey-arrow');$(o).find('.favorites-btns').css('zIndex','0');$(o).removeClass('step2-elem-hover');}else{$('.logo_notice1').remove();}}
if(Drupal.settings.step2_save==2){var position=$(this).position();$(this).css('position','absolute');$(this).css('left',position.left);$(this).css('top',position.top);$(this).before("<li id='placetoremove' class='placeHolder' style='width: 200px; float:left;'></li>");if($('.thumbs_list1 ul.ajax-customize li:nth-child(4n)').hasClass('placeHolder')){$('.thumbs_list1 ul.ajax-customize #placetoremove').css('height','154px');}
$(this).find('a').css('border-width','1px');$(this).addClass('step2-elem-hover');console.log("CLICK MOBILE: "+event.type);if(Drupal.settings.step2_split_set==0)$(this).find('a .step2-hover-btns').show();if(Drupal.settings.step2_split_set==1){$(this).addClass('step2-v1-hover');if($(".window_size_mobile").length){$(this).find('a .step2-hover-btns .step2-customize-logo').addClass('dont_count_edit').trigger('click');}}
if(Drupal.settings.step2_split_set==2){$(this).find('a .step2-hover-btns span.step2-save-button').hide();$(this).find('a .step2-hover-btns .step2-v2-hover').show();$(this).find('a .step2-hover-btns').show();};$(this).find('.favorites-btns .favoriteStatus').show();$(this).find('.favorites-btns').addClass('grey-arrow');$(this).find('.favorites-btns').css('zIndex','100000');}else{var offset=$(this).offset();if($('.logo_notice1').length<=0&&!$(this).parent().parent().hasClass('step2b')){$('body').append('<div class="logo_notice1">'+Drupal.settings.step2_texttojs.text1+'</div>');}
$('.logo_notice1').css('position','absolute').css('top',offset.top-35+'px').css('left',offset.left+15+'px').css('display','');}}).bind('mouseout',function(){if(window.navigator.msPointerEnabled){return;}
if(Drupal.settings.step2_save==2){$('#placetoremove').remove();$(this).css('position','relative');$(this).css('left','auto');$(this).css('top','auto');$(this).find('a').css('border-width','1px');$(this).find('a .step2-hover-btns').hide();$(this).find('.favorites-btns .favoriteStatus').hide();$(this).find('.favorites-btns').removeClass('grey-arrow');$(this).find('.favorites-btns').css('zIndex','0');$(this).removeClass('step2-elem-hover');}else{$('.logo_notice1').remove();}}).find('a').click(function(){if(Drupal.settings.step2_save==2){return false;}else{var url=$(this).attr('rel');if(!$(this).hasClass('multiversion')){show_loading_overlay();$.ajax({url:url,type:'post',data:'json=1&action=customize',dataType:'json',success:function(result){if(result['status']=='1'){var query='';if(has_query_url('dev_force_tablet')){query='?dev_force_tablet=1';}
window.location=result['url']+query;}}});return false;}else{tb_show('',url);return false;}}});$('.thickbox-inner .thumbs_list1 li a').click(function(){if(Drupal.settings.step2_save==2){return false;}else{if(!$(this).hasClass('multiversion')){parent.show_loading_overlay();var url=$(this).attr('rel');$.ajax({url:url,type:'post',data:'json=1&action=customize',dataType:'json',success:function(result){if(result['status']=='1'){var query='';if(has_query_url('dev_force_tablet')){query='?dev_force_tablet=1';}
parent.window.location=result['url']+query;}}});return false;}}});$('.step2-save-button, .step2-v2-hover').bind('touchend click',function(){step2_save_button_click(this);return false;});$('.customize_logos').bind('click',function(){STEP2CUSTOMIZELOGOS.init();});$('#edit-logo-type').change(function(){if($(this.form).attr('id')=='step2-categories-form')
$('#step2-categories-form').submit();else
return false;});if($('div#admin-menu ul').length>0){var height=$('div#admin-menu').height();if(height){var dif=height-20;$('body').css('padding-top',dif);}}
if(typeof(pageTracker)!='undefined'){$('.thumbs_list1 a').click(function(){pageTracker._trackPageview($(this).attr('href'));});}
$('.search-logos-btn').click(function(){$('#step2-search-form').submit();return false;});$('#cantfind_button').click(function(){$.ajax({type:'post',url:Drupal.settings.baseUrl+'/cantfindlogo',dataType:'json',data:{message:$("#cantfind_message").val()},success:function(result){PO_step2.hidePopUp();}});});$('#step2_search_text_input').focus(function(){$('#step2_search_text_input').val('');});$('#step2_search_text_input').blur(function(){if($('#step2_search_text_input').val().length<1)
$('#step2_search_text_input').val(Drupal.settings.sphinxDefaultSearch);});if($('.sphinxsearch_popup').length>0)
PO_step2_search.init();$('#step2_search_button, #step2_search_button_icon').click(function(){$('#step2-sphinx-search-form').submit();});$('.SnapABug_Button').attr('click','').bind('click',function(){snapengage_init();SnapABug.startLink();});$('.logos_list .logo_thumb').click(function(){if(Drupal.settings.is_flstheme){if($('.mobile_view').length==0&&$('.tablet_view').length==0){if(typeof Drupal.settings.editbtn_split!='undefined'){if(Drupal.settings.editbtn_split){if($(this).parents('li').find('.step2-save-button.step2-save-logo').length>0){$(this).parents('li').find('.step2-save-button.step2-save-logo').trigger('click');return false;}}}
$(this).parent().find('.step2-customize-logo').addClass('dont_count_edit');var url=$(this).parent().find('.step2-customize-logo').trigger('click');}}});step2_search_design_add_triggers();});function step2_search_design_add_triggers(){console.log('_INITlogo',$('.step2_search_logos_input_submit').length);console.log('_INITbc',$('.step2_search_bcards_input_submit').length);$('.step2_search_logos_input_submit, .step2_search_bcards_input_submit').click(function(e){e.preventDefault();step2_search_logos_input_submit(this);return false;});$('.step2_search_logos_input').bind('keypress',function(e){console.log(e.keyCode);if(e.keyCode==13){$('.step2_search_logos_input_submit').trigger('click');$('.step2_search_bcards_input_submit').trigger('click');return false;}});}
function step2_search_logos_input_submit(o){if(typeof step2_search_logos_input_submit_status!='undefined')return;step2_search_logos_input_submit_status=1;console.log('step2_search_logos_input_submit');var container=$(o).closest('.step2_search_form');console.log(container);var input=container.find('.step2_search_logos_input');var url=new URL(window.location.href);url.searchParams.append('search',input.val());window.location=url.href;}
function fls_show_logowebv2_lightbox(){if(Drupal.settings.weebly_preview_v2_split_set&&$("body[class*='page-body-step3']").length){color_bc_suggestion_lightbox(Drupal.settings.step3_save_result["new_logo_id"],Drupal.settings.var_fonts);}
if(Drupal.settings.logoweb_split_set||Drupal.settings.bc_logoweb_split_set||Drupal.settings.tlds_split_set){if($('.bcweb_popup').length){if(!$('.bcweb_popup.initialized').length){if(Drupal.settings.diy_website_pickyourplan_split_set&&typeof Drupal.settings.weebly_preview_split_set!='undefined'){if(typeof Drupal.settings.logowebv2_ajax!='undefined'&&Drupal.settings.logowebv2_ajax){logowebv2_ajax();Drupal.settings.logowebv2_ajax=false;}
WEEBLYPREVIEW.init('');return true;}else{LOGOWEBV2.init();ga('send','event','Domain LB Logo Flow','Fired','Domain_LB_fired_logo');return true;}}}
ga('send','event','Domain LB Logo Flow','Not_Fired','Domain_LB_not_fired_logo');}
return false;}
function logowebv2_lightbox_show(){if($('.bcweb_popup').length){if(!$('.bcweb_popup.initialized').length){LOGOWEBV2.init();ga('send','event','Domain LB Logo Flow','Fired','Domain_LB_fired_logo');return true;}}
ga('send','event','Domain LB Logo Flow','Not_Fired','Domain_LB_not_fired_logo');}
function ls2s_next_split_click(){fls_events_add('clicks_step2_next');var page=$('.jscroll-added:last').attr('id');if(!page){page=2;}else{page=page.split('-');page=parseInt(page[2])+2;}
if(page>Drupal.settings.total_count_pages){$('.pager .step2_pagination_next_only .next').hide();return false;}
window.location='/step2/page/'+page;return false;}
function loadPageAfterChanges(){var url=window.location;window.location=url;}
function fls_goto(url){alert('a');$('#TB_window').html('<div id="TB_load" class="custom_tb_overlay"><p align="center"><img src="https://freelogo-assets.s3.amazonaws.com/sites/all/themes/freelogoservices/images/loading_animation.gif" /><br />'+Drupal.settings.step2_texttojs.text2+'</p></div>');setTimeout(function(){window.location=url;},500);return false;}
function show_saving_overlay(){$('#TB_overlay').css('opacity','0.94');}
function hide_loading_overlay(){$('#TB_overlay').remove();$('#TB_window').remove();}
function show_loading_overlay(msg,clear,autozindex)
{var message='';if(msg===undefined){message=Drupal.settings.step2_texttojs.text2;}else{message=msg;}
var zindex=102;if(autozindex===undefined)autozindex=0;if(autozindex){$('.thankYouBox, .overlay').each(function(){var zidx=parseInt($(this).css('z-index'));if(zidx>zindex)zindex=zidx+1;});}
if(clear===undefined){clear=0;}
if($('#flash_container').length>0){}
var is_safari=navigator.userAgent.toLowerCase().indexOf('safari')>-1;if(clear){$('#TB_overlay').remove();$('#TB_window').remove();}
if(is_safari&&$('#flash_container').length>0)return;$('body').append('<div id="TB_overlay" class="TB_overlayBG" style="z-index:'+zindex+'"></div>');$('body').append('<div id="TB_window" style="display:block;z-index:'+(zindex+1)+'"><div id="TB_load" class="custom_tb_overlay"><p align="center"><img src="https://freelogo-assets.s3.amazonaws.com/sites/all/themes/freelogoservices/images/loading_animation.gif" /><br /><span>'+message+'</span></p></div></div>');$('#TB_window').show();}
function rand(from,to){return Math.floor(Math.random()*(to-from+1)+from);}
function rand_values(from,to,count){var nr;var pos;var i=0;var status=new Array();if(to-from<count)return status;while(i<=count){nr=rand(from,to);pos=jQuery.inArray(nr,status);if(pos==-1){status.push(parseInt(nr));i++;}}
return status;}
function step2_save_preloader(){if(step2_save_interval_coutner_pos<=10){$('#TB_load span#status').text(step2_save_interval_array[step2_save_interval_coutner_pos]);step2_save_interval_coutner_pos++;}else{clearInterval(step2_save_interval_coutner);}}
function step2_save_start_process(obj){Drupal.settings.save_logo_timer_obj={};Drupal.settings.save_logo_timer_obj['save_logo_and_domain_check_start']=Date.now();if(obj===undefined){obj=this;}
$('#step2_save_logo_preview').remove();if($('#myFavoritesBtn').length&&$('#myFavoritesBtn').css('left')!='0px'){$('#myFavoritesBtn').click();}
var id=$(obj).hasClass('step2-save-logo');if(id){if($(obj).parent().parent().parent().parent().parent().hasClass('step2b')){obj=$(obj).clone();obj.hide();parent.tb_remove();parent.step2_save_start_process(obj);return false;}
show_loading_overlay(Drupal.settings.step2_save_logo_text);var status=new Array();status=rand_values(1,99,10);status.sort(function(a,b){return a-b});step2_save_interval_array=status;step2_save_interval_coutner_pos=0;step2_save_interval_coutner=setInterval(step2_save_preloader,1500);$.ajax({url:$(obj).attr('rel'),type:'post',data:'json=1&action=save',dataType:'json',success:function(result){Drupal.settings.save_logo_timer_obj['save_logo_and_domain_check_end']=Date.now();fls_events_add('save_logo_step2_timer',(Drupal.settings.save_logo_timer_obj['save_logo_and_domain_check_end']-Drupal.settings.save_logo_timer_obj['save_logo_and_domain_check_start']))
Drupal.settings.save_logo_timer_obj['bc_editor_start']=Date.now();if(result['status']=='1'){Drupal.settings.step2_save_result=result;Drupal.settings.skip_domain_result_population=0;if(typeof result['step2_direct_save']!='undefined'){if(result['step2_direct_save']){Drupal.settings.saved_logo_id=result['step2_direct_save'];}}
clearInterval(step2_save_interval_coutner);$('#TB_load span#status').text('100').attr('id','status-done');if(Drupal.settings.force_bc==1){var sep='?';if(result['url'].indexOf('?')>-1){sep='&';}
var query='';var workflow=has_query_url('workflow');if(workflow){query+=sep+'workflow='+workflow;}else{query='';}
window.location=result['url']+query;return false;}
if(typeof result['website_popup']!='undefined'){if(result['website_popup']&&$('.logoweb_popup').length){$('.logoweb_popup .logoweb_images').html($(result['website_popup']).find('.logoweb_images'));}
$('.orangeButton, .bcweb_popup .close').attr('href',result['url']);if(Drupal.settings.diy_website_pickyourplan_split_set){$('.weeblypreview_popup .close, .weeblypreview_popup  .noThankYou,  .diywebsite_popup .close, .diywebsite_popup .noThankYou').attr('href',result['url']);}}
if(typeof result['website_popup_img']!='undefined'){$('.websites_domain_page .left img').attr('src',result['website_popup_img']);$('.thankYouBox.weeblypreview_popup .popup_content').css('background-image','url('+result['weebly_preview_popup_img']+')');$('.thankYouBox.weeblypreview_popup .popup_content .preview ').attr('logo_id',result['website_logo_id']);$('#website_logo_id, .website_logo_id').val(result['website_logo_id']);$('#w_logo_id').val(result['website_logo_id']);Drupal.settings.onelinesearch=result['website_onelinesearch'];$('#websites_domain_search_input').val(result['website_onelinesearch']);$('#websites_domain_search_input_hidden').val(result['website_onelinesearch']);if(typeof result['website_twolinesearch']!='undefined'){Drupal.settings.twolinesearch=result['website_twolinesearch'];}
if(typeof result['website_multisearch']!='undefined')
Drupal.settings.multisearch=result['website_multisearch'];if(typeof result['website_response']!='undefined'){Drupal.settings.websites_populate_data=result['website_response'];}
$('.orangeButton, .bcweb_popup .close').attr('href',result['url']);if(Drupal.settings.diy_website_pickyourplan_split_set){$('.weeblypreview_popup .close, .weeblypreview_popup  .noThankYou,  .diywebsite_popup .close, .diywebsite_popup .noThankYou').attr('href',result['url']);}}
else{$('.bcweb_popup').remove();$('.overlay_bcweb_popup').remove();}
if(result['business_content']&&result['promo_content']){if(result['business_content']){if(Drupal.settings.display_color_matched_bc)
{color_bc_suggestion_lightbox(result['step2_direct_save'],result['logo_fonts']);fls_events_add('logoweb_bc_init');fls_events_add('lightbox_step2bc_views');fls_events_add("fired_color_matched_bc_lightbox");if(!Drupal.settings.weebly_preview_v2_split_set){}}else{$('#business_card_lightbox_content').html(result['business_content']);$('.medium-blue-btn-close').attr('href',result['url']);$('#TB_overlay').remove();$('#TB_window').remove();BC_UL.init();}}
if(result['promo_content']){$('#fls_products_lp').html(result['promo_content']);if(result['bc_50_free']){$('#TB_overlay').remove();$('#TB_window').remove();}
$('.medium-blue-btn-close').attr('href',result['url']);}}else if(result['business_content']&&!result['promo_content']){$('#business_card_lightbox_content').html(result['business_content']);$('.medium-blue-btn-close').attr('href',result['url']);$('#TB_overlay').remove();$('#TB_window').remove();BC_UL.init();}
else{var sep='?';if(result['url'].indexOf('?')>-1){sep='&';}
var query='';var workflow=has_query_url('workflow');if(workflow){query+=sep+'workflow='+workflow;}else{query='';}
window.location=result['url']+query;}}}});}else{var url=$(obj).attr('rel');if($(obj).parent().parent().hasClass('multiversion')){tb_show('',url);}else{if($(obj).parent().parent().parent().parent().parent().hasClass('step2b')){parent.show_loading_overlay();$.ajax({url:$(obj).attr('rel'),type:'post',data:'json=1&action=customize',dataType:'json',success:function(result){if(result['status']=='1'){var sep='?';if(result['url'].indexOf('?')>-1){sep='&';}
var query='';var workflow=has_query_url('workflow');if(workflow){query+=sep+'workflow='+workflow;}else{query='';}
parent.window.location=result['url']+query;}}});return false;}else{show_loading_overlay();$.ajax({url:$(obj).attr('rel'),type:'post',data:'json=1&action=customize',dataType:'json',success:function(result){if(result['status']=='1'){var sep='?';if(result['url'].indexOf('?')>-1){sep='&';}
var query='';var workflow=has_query_url('workflow');if(workflow){query+=sep+'workflow='+workflow;}else{query='';}
window.location=result['url']+query;}}});return false;}}}}
var PO_step2={init:function(){if($('.cantfind_popup').length>0&&$('.overlay').length>0){PO.placePopUp();$('.cantfind_popup .close, .cantfind_popup .noThankYou').click(PO.hidePopUp)}},placePopUp:function(){var overlay=$('.overlay:first');var thankYouBox=$('.cantfind_popup');$('.overlay, .cantfind_popup').remove();var docH=$(document).height();var docW=$(document).width();overlay.css({"width":docW+"px","height":docH+"px"});thankYouBox.prependTo('body');overlay.prependTo('body');overlay.show();thankYouBox.show();var bW=$('.cantfind_popup').width();var bH=$('.cantfind_popup').height();var wW=$(window).width();var wH=$(window).height();bW=wW/2-bW/2;bH=wH/2-bH/2;$('.cantfind_popup').css({left:bW,top:bH>40?bH:40});},hidePopUp:function(){$('.cantfind_popup').fadeOut();$('.overlay').fadeOut();$('.cantfind_popup').remove();$('.overlay').hide();return false;}}
var PO_step2_search={init:function(){if($('.sphinxsearch_popup').length>0&&$('.overlay').length>0){PO_step2_search.placePopUp();$('.sphinxsearch_popup .close, .sphinxsearch_popup .noThankYou').click(PO_step2_search.hidePopUp);$('#step2_search_p_text_input').focus(function(){$('#step2_search_p_text_input').val('');});$('#step2_search_p_text_input').blur(function(){if($('#step2_search_p_text_input').val().length<1)
$('#step2_search_p_text_input').val(Drupal.settings.sphinxDefaultSearch);});$('.sphinxsearch_popup .popup_sphinx_button_search').click(function(){$('#step2-sphinx-search-popup-form').submit();});$('.sphinxsearch_popup .popup_sphinx_button_browse').click(function(){$('#step2-sphinx-search-popup2-form').submit();});var fls_browser=$.browser;if(fls_browser.msie||navigator.userAgent.indexOf("Trident")>=0){$('#edit-logo-type').each(function(index,item){$(item).mouseup(function(){var open=$(item).data("isopen"+index)
if(open)setTimeout(function(){$(item).blur()},10);$(item).data("isopen"+index,!open);});});}}},placePopUp:function(){var overlay=$('.overlay:first');var thankYouBox=$('.sphinxsearch_popup');$('.overlay, .sphinxsearch_popup').remove();var docH=$(document).height();var docW=$(document).width();overlay.css({"width":docW+"px","height":docH+"px"});thankYouBox.prependTo('body');overlay.prependTo('body');overlay.show();thankYouBox.show();var bW=$('.sphinxsearch_popup').width();var bH=$('.sphinxsearch_popup').height();var wW=$(window).width();var wH=$(window).height();bW=wW/2-bW/2;bH=wH/2-bH/2;$('.sphinxsearch_popup').css({left:bW,top:bH>40?bH:40});},hidePopUp:function(){$('.sphinxsearch_popup').fadeOut();$('.overlay').fadeOut();$('.sphinxsearch_popup').remove();$('.overlay').hide();return false;}}
function step2_detect_ie_flash(){var is_ie=navigator.appVersion.indexOf("MSIE")!=-1;var flash=swfobject.getFlashPlayerVersion();var has_flash=true;var pluginData='';for(var i=0,l=navigator.plugins.length;i<l;i++){pluginData+=navigator.plugins[i]['name']+',';}
if(flash.major===undefined||flash.major<10||!isFlashEnabled())
has_flash=false;$.ajax({type:"POST",url:Drupal.settings.baseUrl+'/save-user-data',dataType:'post',data:{is_ie:is_ie,has_flash:has_flash,browser:BrowserDetect.browser+' '+BrowserDetect.version,useragent:navigator.userAgent,os:BrowserDetect.OS,flashVers:flash.major?flash.major+'.'+flash.minor:'0',has_cookie:navigator.cookieEnabled,donottrack:navigator.doNotTrack,language:navigator.language,pluginsd:pluginData}});}
function has_query_url(key){var queries={};$.each(document.location.search.substr(1).split('&'),function(c,q){var i=q.split('=');if(i[1]!==undefined){queries[i[0].toString()]=i[1].toString();}});if(key===undefined){return queries;}else{if(queries[key]!==undefined){return queries[key];}else{return false;}}}
var BrowserDetect={init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser";this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version";this.OS=this.searchString(this.dataOS)||"an unknown OS";},searchString:function(data){for(var i=0;i<data.length;i++){var dataString=data[i].string;var dataProp=data[i].prop;this.versionSearchString=data[i].versionSearch||data[i].identity;if(dataString){if(dataString.indexOf(data[i].subString)!=-1)
return data[i].identity;}
else if(dataProp)
return data[i].identity;}},searchVersion:function(dataString){var index=dataString.indexOf(this.versionSearchString);if(index==-1)return;return parseFloat(dataString.substring(index+this.versionSearchString.length+1));},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.userAgent,subString:"Macintosh",identity:"Mac"},{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]};BrowserDetect.init();function isFlashEnabled()
{var hasFlash=false;try
{var fo=new ActiveXObject('ShockwaveFlash.ShockwaveFlash');if(fo)hasFlash=true;}
catch(e)
{if(navigator.mimeTypes["application/x-shockwave-flash"]!=undefined)hasFlash=true;}
return hasFlash;}
function fls_snap_online_chat(){if(Drupal.settings.show_snap_chat!=2){setTimeout(function(){fls_snap_online_chat()},5*1000);return false;}
SnapABug.getAgentStatusAsync(function(online){if(online&&$('#SnapABug_WP').css('display')=='none'){SnapEngage.openProactiveChat(true,false);}});return true;}
function snapengage_init(){SnapEngage.setWidgetId('d9a5fcca-2d61-4e11-ad2c-68a909ef41ac');if(typeof(SnapFLS)!='undefined')
SnapABug=SnapFLS;snapengage_init_process();}
function snapengage_init_process(){SnapEngage.clearAllCookies();if(Drupal.settings.snapengage_init_name){SnapABug.setUserEmail(Drupal.settings.snapengage_init_name);SnapABug.setCallback('MessageSubmit',function(){SnapEngage.clearAllCookies();SnapABug.setUserEmail(Drupal.settings.snapengage_init_name);});}
SnapABug.setCallback('Open',function(status){if($('#flash_container').length>0){$('#flash_container').css('visibility','hidden');$('#flash_container').css('height','0px');Drupal.settings.inner_padding=$('.inner_step3').css('padding');$('.inner_step3').css('padding','0px');}});SnapABug.setCallback('Close',function(type,status){if($('#flash_container').length>0){var vis='visible';var height='';var pad=Drupal.settings.inner_padding;if($('#flash_promo_products_popup').length>0&&$('#flash_promo_products_popup').css('display')=='block')
{vis='hidden';height='0px';pad='0px';}
$('#flash_container').css('visibility',vis);$('#flash_container').css('height',height);$('.inner_step3').css('padding',pad);}});SnapABug.setLocale(Drupal.settings.snapengage_init_data.language_code);SnapABug.initDropdown(Drupal.settings.snapengage_init_data.initDropdown);for(var key in Drupal.settings.snapengage_init_data.questions){SnapABug.addDropdownItem(key,Drupal.settings.snapengage_init_data.questions[key]);}
if(Drupal.settings.snapengage_init_data.page_is_contact_us)
SnapABug.showScreenshotOption(false);}
var PP_UL={init:function(element){if($('.logo_promo_product_lightbox').length>0&&$('.overlay').length>0){PP_UL.placePopUp(element);$('html, body').animate({scrollTop:0},'fast');$("body[class*='body-step2'] .logo_promo_product_lightbox .close, body[class*='body-step2'] .logo_promo_product_lightbox .medium-blue-btn-close").click(function(){fls_events_add("close_promo_upsell_from_step2");});$('.product_buynow').click(function(){fls_events_add("took_promo_upsell_from_step2");var id=$(this).attr('id');if(id){id=id.split('_');if(!(id[1]>0))
return true;}
fls_store_promo_product_click_direct_save(this);if(id)return false;});$('#fls_products_lp .products_lp_title').each(function(){var height=$(this).height();if(height>30){var text=$(this).text();var html='<div class="products_title_narrow">'+text+'</div>';$(this).html(html);}});if(Drupal.settings.show_step4_offer!=undefined&&Drupal.settings.browser_details_name!='ie'){$('#popunder_click, #popunder_click_close').css('display','block');}
$('.logo_promo_product_lightbox .close, .logo_promo_product_lightbox .noThankYou, .logo_promo_product_lightbox #continue_button ').click(function(){$(this).attr('href',$('.logo_promo_product_lightbox .medium-blue-btn-close').attr('href'));});$('#logo_promo_product_lightbox_content .store_checkout_logo_footer a, .logo_promo_product_lightbox .close').click(function(){var url=$(this).attr('href');if(url.indexOf('step4')>-1&&Drupal.settings.show_step4_offer!=undefined&&Drupal.settings.show_step4_offer){if(typeof Drupal.settings.offer_flash_submited=='undefined'&&Drupal.settings.browser_details_name!=='op'&&Drupal.settings.browser_details_name!=='chrome')
fls_new_page(url+'?offer=1','width=1000, height=690,scrollbars=yes,resizable=yes, location=yes, toolbar=yes, menubar=yes','step4');}});}},placePopUp:function(element){fls_events_add("hit_promo_upsell_from_step2");var overlay=$('.overlay:first');var thankYouBox=$('.logo_promo_product_lightbox');$('.overlay, .logo_promo_product_lightbox').remove();var docH=$(document).height();var docW=$(document).width();overlay.css({"width":docW+"px","height":docH+"px"});thankYouBox.prependTo('body');overlay.prependTo('body');thankYouBox.show();var bW=$('.logo_promo_product_lightbox').width();var bH=$('.logo_promo_product_lightbox').height();var wW=$(window).width();var wH=$(window).height();bW=wW/2-bW/2;bH=wH/2-bH/2;$('.logo_promo_product_lightbox').css({left:bW,top:bH>40?bH:40});$('.overlay:first').show();},hidePopUp:function(){$('.logo_promo_product_lightbox').hide();$('.overlay').hide();return false;}}
var BC_UL={init:function(element){if(Drupal.settings.logoweb_split_set){if($('.logoweb_popup').length){if(!$('.logoweb_popup.initialized').length){LOGOWEB.init();return;}}}
if($('.logo_business_card_lightbox').length>0&&$('.overlay').length>0){fls_events_add('logoweb_bc_init');fls_events_add('fired_color_matched_bc_lightbox');BC_UL.placePopUp(element);$('html, body').animate({scrollTop:0},'fast');if(self!=top){var max_height=parseInt($('.logo_business_card_lightbox').outerHeight())+parseInt($('.logo_business_card_lightbox').position().top)*2;if(max_height<682){max_height=682;}
$('.body_container').css('max-height',max_height+'px').css('overflow','hidden');$('.overlay').css('height','100% !important');}
$('.logo_business_card_lightbox .close, .logo_business_card_lightbox .noThankYou, .logo_business_card_lightbox .medium-blue-btn-close ').click(function(){fls_events_add('close_bc_upsell');console.log('close_bc_upsell');BC_UL.hidePopUp()
if($(this).parents('.page-body-return-product').length)
return false;if(fls_show_logowebv2_lightbox()){return false;}
if($('.products_lp_box').length>0&&!$('.logoweb_popup.initialized').length){PP_UL.init();}else{if($('.overlay').length>0){$('.overlay:first').show();}
window.location=$('.logo_business_card_lightbox .medium-blue-btn-close').attr('href');}
return false;});$('body').on('click','#business_card_lightbox_content .bc_action .medium-orange-btn',function(event){show_loading_overlay(undefined,0,1);event.preventDefault();fls_events_add('bc_upsell_direct_save');$('.overlay').first().show();$.post(Drupal.settings.baseUrl+"/color-matched-bc/",{url_hash:$(this).attr('hash')},function result(res){fls_events_add('accepted_bc_upsell');lang="";if(Drupal.settings.lang!="")lang="/"+Drupal.settings.lang;window.location=Drupal.settings.baseUrl+lang+"/business-cards/step3/logo/"+res+"?suggest=1";},"json");});var right_click=new right_click_disabled();right_click.apply($('#business_card_lightbox_content img'));if($('body.mobile_view .bc_fix_container .bc_image').length>0){$('body.mobile_view .bc_fix_container .bc_image').click(function(e){e.preventDefault();$.post(Drupal.settings.baseUrl+"/color-matched-bc/",{url_hash:$(this).parent().find('.bc_action a').attr('hash')},function result(res){fls_events_add('accepted_bc_upsell');lang="";if(Drupal.settings.lang!="")lang="/"+Drupal.settings.lang;window.location=Drupal.settings.baseUrl+lang+"/business-cards/step3/logo/"+res+"?suggest=1";},"json");});}
$('.thankYouBox.logo_business_card_lightbox_logoweb .orangeButton').click(function(){flash_promo_products_finish();});$('.thankYouBox.logo_business_card_lightbox_logoweb .bc_container').click(function(){fls_events_add('bc_upsell_direct_save');window.location=$(this).find('.bc_action a').attr('href')});}else{}},placePopUp:function(element){if(typeof Drupal.settings.save_logo_timer_obj!='undefined'){if(typeof Drupal.settings.save_logo_timer_obj['bc_editor_end']=='undefined')Drupal.settings.save_logo_timer_obj['bc_editor_end']=Date.now();fls_events_add('bc_suggest_step2_timer',(Drupal.settings.save_logo_timer_obj['bc_editor_end']-Drupal.settings.save_logo_timer_obj['bc_editor_start']))}
var overlay=$('.overlay:first');var thankYouBox=$('.logo_business_card_lightbox');$('.overlay, .logo_business_card_lightbox, .TB_overlayBG').remove();var docH=$(document).height();var docW=$(document).width();overlay.css({"width":docW+"px","height":docH+"px"});thankYouBox.prependTo('body');overlay.prependTo('body');thankYouBox.show();var bW=$('.logo_business_card_lightbox').width();var bH=$('.logo_business_card_lightbox').height();var wW=$(window).width();var wH=$(window).height();bW=wW/2-bW/2;bH=wH/2-bH/2;$('.logo_business_card_lightbox').css({left:bW,top:bH>40?bH:40});$('.overlay:first').show();},hidePopUp:function(){$('.logo_business_card_lightbox').hide();$('.overlay').hide();return false;}}
var BC_FREE_UL={init:function(element){if($('.bc50v5_popup').length>0&&$('.overlay').length>0){BC_FREE_UL.placePopUp(element);$('html, body').animate({scrollTop:0},'fast');$('.bc50v5_popup .close, .bc50v5_popup .medium-blue-btn-close').click(function(){BC_FREE_UL.hidePopUp();PP_UL.init();return false;});$('.bc50v5_popup .medium-orange-btn').unbind('click');$('.bc50v5_popup .medium-orange-btn').click(function(){fls_events_add('bc_upsell_direct_save');});}},placePopUp:function(element){var overlay=$('.overlay:first');var thankYouBox=$('.bc50v5_popup');$('.overlay, .bc50v5_popup').remove();var docH=$(document).height();var docW=$(document).width();overlay.css({"width":docW+"px","height":docH+"px"});thankYouBox.prependTo('body');overlay.prependTo('body');thankYouBox.show();var bW=$('.bc50v5_popup').width();var bH=$('.bc50v5_popup').height();var wW=$(window).width();var wH=$(window).height();bW=wW/2-bW/2;bH=wH/2-bH/2;$('.bc50v5_popup').css({left:bW,top:bH>40?bH:40});$('.overlay:first').show();},hidePopUp:function(){$('.bc50v5_popup').remove();$('.overlay').hide();return false;}}
function flash_bc50v5_daisy_process_images(lid){var src=$('.bc50v5_popup #daisyImg img').attr('rel');src=src.replace('logoId',lid);$('.bc50v5_popup #daisyImg img').attr('src',src);}
function step2_save_button_click(o){if(typeof o=='undefined'){o=this;}
if($(o).hasClass("save-new-type-logo")){fls_events_add('click_save_new_logo');}
if($(o).hasClass("edit-new-type-logo")){fls_events_add('click_edit_new_logo');}
if(typeof Drupal.settings.step2_has_logosteps_logo!='undefined'){fls_events_add('logosteps_saved_logo_new');}else{fls_events_add('logosteps_saved_logo_old');}
if(typeof Drupal.settings.logosteps_step2_current_page!='undefined'){fls_events_add('logosteps_page_logo_saved_from',Drupal.settings.logosteps_step2_current_page);}
var workflow=has_query_url('workflow');if($(o).hasClass("step2-save-logo")){if(Drupal.settings.is_flstheme&&$('.mobile_view').length==0){ga('send','event','Step2','Click','Save Logo');}
fls_events_add('logo_step2_save');if(!workflow)fls_events_add('logo_step2_save_logo_flow');}
else if($(o).hasClass("dont_count_edit")){fls_events_add('logoimage_step2_click');}else{if(Drupal.settings.is_flstheme&&$('.mobile_view').length==0){ga('send','event','Step2','Click','Edit Logo');}
fls_events_add('logo_step2_edit');if(!workflow)fls_events_add('logo_step2_edit_logo_flow');}
if(Drupal.settings.display_color_matched_bc){config_bc_suggestion_lightbox();}
step2_save_start_process(o);}
function step2_filters_init(){$('.step2_filter_entry').click(function(e){e.preventDefault();step2_filters_select(this);return false;});$('.apply_filters').click(function(e){e.preventDefault();step2_filters_submit();return false;});$('.clear_filters').click(function(e){e.preventDefault();step2_filters_clear();return false;});step2_filters_initialize();}
function step2_filters_select(o){if(!$(o).hasClass('step2_filter_entry')){o=$(o).parents('.step2_filter_entry');}
var filter_type=$(o).attr('data-filter-type');var filter_name=$(o).attr('data-filter');if(filter_type=='fonts'&&step2_filters_condition_text()){return false;}
if(filter_type=='layout'&&step2_filters_condition_text()){return false;}
if(filter_type=='layout'&&step2_filters_condition_icon()){return false;}
var checkbox=$(o).find('input');checkbox_toggle(checkbox);step2_filters_set_classes();}
function checkbox_is_checked(checkbox){return $(checkbox).prop('checked');}
function checkbox_toggle(checkbox){if(checkbox_is_checked(checkbox)){checkbox_toggle_disable(checkbox);}else{checkbox_toggle_enable(checkbox);}}
function checkbox_toggle_enable(checkbox){$(checkbox).prop('checked',true);}
function checkbox_toggle_disable(checkbox){$(checkbox).prop('checked',false);}
function filter_is_selected(o){return checkbox_is_checked($(o).find('input'));}
function filter_selected_count(filter_name){var count=0;$('.step2_filter_entry_'+filter_name).each(function(){if(filter_is_selected(this))count++;});return count;}
function filter_clear_filter(filter_name){$('.step2_filter_entry_'+filter_name).each(function(){var checkbox=$(this).find('input');checkbox_toggle_disable(checkbox);});}
function step2_filters_condition_text(){return filter_is_selected($('.step2_filter_entry_style_text'))&&filter_selected_count('style')<2;}
function step2_filters_condition_icon(){return!filter_is_selected($('.step2_filter_entry_style_icon'));}
function step2_filters_set_classes(){if(step2_filters_condition_text()){$('#step2_filters').addClass('filters_text_only');$('.design_filter_form').addClass('filters_text_only');filter_clear_filter('layout');filter_clear_filter('fonts');step2_filters_disable_checkboxes('layout');step2_filters_disable_checkboxes('fonts');}else{$('#step2_filters').removeClass('filters_text_only');$('.design_filter_form').removeClass('filters_text_only');step2_filters_enable_checkboxes('layout');step2_filters_enable_checkboxes('fonts');}
if(step2_filters_condition_icon()){$('#step2_filters').addClass('filters_noicons');$('.design_filter_form').addClass('filters_noicons');filter_clear_filter('layout');step2_filters_disable_checkboxes('layout');}else{$('#step2_filters').removeClass('filters_noicons');$('.design_filter_form').removeClass('filters_noicons');step2_filters_enable_checkboxes('layout');}}
function step2_filters_enable_checkboxes(filter_name){$('.step2_filter_entry_'+filter_name).each(function(){var checkbox=$(this).find('input');$(checkbox).prop('disabled',false);});}
function step2_filters_enable_checkboxes_array(filter_name,arr){$.each(arr,function(k,v){var o=$('.step2_filter_entry_'+filter_name+'_'+v);var checkbox=$(o).find('input');checkbox_toggle_enable(checkbox);});}
function step2_filters_disable_checkboxes(filter_name){$('.step2_filter_entry_'+filter_name).each(function(){var checkbox=$(this).find('input');$(checkbox).prop('disabled',true);});}
function step2_filter_get_values(filter_name,attr_name){attr_name=attr_name?attr_name:'data-filter';var response=[];$('.step2_filter_entry_'+filter_name).each(function(){if(filter_is_selected(this)){response.push($(this).attr(attr_name));}});return response.join(',');}
function step2_filters_submit(){fls_events_add('clicked_apply_filters');$('#edit-logosteps-logo-type').val(step2_filter_get_values('style'));$('#edit-logosteps-logo-font-types').val(step2_filter_get_values('fonts'));$('#edit-logosteps-logo-font').val(step2_filter_get_values('fonts','data-fonts'));$('#edit-logosteps-logo-layout').val(step2_filter_get_values('layout'));$('#logosteps-form').submit();}
function step2_filters_clear(){filter_clear_filter('style');filter_clear_filter('fonts');filter_clear_filter('layout');step2_filters_set_classes();}
function step2_filters_set_initial(filter_name,data){step2_filters_enable_checkboxes_array(filter_name,data);}
function step2_filters_initialize(){step2_filters_set_classes();if($('#whitelabels_lp1_step2').length==0){if($('body').hasClass('mobile_view')&&!$('body').hasClass('step2_gallery_mobile'))return;if(!$('body').hasClass('step2_gallery_mobile'))$('body').addClass('min1280');}
if(typeof Drupal.settings.logosteps=='undefined')return;if(typeof Drupal.settings.logosteps.logo_type!='undefined'){if(Drupal.settings.logosteps.logo_type.length>0){step2_filters_set_initial('style',Drupal.settings.logosteps.logo_type);}}
if(typeof Drupal.settings.logosteps.logo_layout!='undefined'){if(Drupal.settings.logosteps.logo_layout.length>0){step2_filters_set_initial('layout',Drupal.settings.logosteps.logo_layout);}}
if(typeof Drupal.settings.logosteps.logo_fonts_type!='undefined'){if(Drupal.settings.logosteps.logo_fonts_type.length>0){step2_filters_set_initial('fonts',Drupal.settings.logosteps.logo_fonts_type);}}
step2_filters_set_classes();}
function add_domain_to_cart(domain,gotopage){lang="";if(Drupal.settings.lang!=''){lang=Drupal.settings.lang+"/";}
var fields={pid:463,reduce_flow:"1",final_destination:gotopage,website_searched:domain,websites_domain_suggestion:domain};var fields_str='';for(var i in fields){fields_str+='<input type="hidden" name="'+i+'" value="'+fields[i]+'" />';}
fields_str+='<input type="hidden" name="allow_multi_domains_in_cart" value="1" />';$('body').append('<form id="checkoutwebsitebundle_form" style="display:none;" action="'+Drupal.settings.baseUrl+'/'+lang+'websites/domain" method="post">'+fields_str+'</form>');$('#checkoutwebsitebundle_form').submit();return false;}
function add_upsell_to_cart(domain,gotopage){lang="";if(Drupal.settings.lang!=''){lang=Drupal.settings.lang+"/";}
var fields={pid:463,reduce_flow:"1",final_destination:gotopage,website_searched:domain,websites_domain_suggestion:domain,website_upsells:523};var fields_str='';for(var i in fields){fields_str+='<input type="hidden" name="'+i+'" value="'+fields[i]+'" />';}
if(typeof Drupal.settings.add_sel_package!=undefined){fields_str+='<input type="hidden" name="sel_package" value="'+Drupal.settings.add_sel_package+'" />';}
$('body').append('<form id="checkoutwebsitebundle_form" style="display:none;" action="'+Drupal.settings.baseUrl+'/'+lang+'websites/domain" method="post">'+fields_str+'</form>');$('#checkoutwebsitebundle_form').submit();return false;};$(document).ready(function(){setUrlforGuestUsers();Drupal.settings.step4_timer_obj={};Drupal.settings.step4_timer_obj['on_step4_page_start']=Date.now();$(".guestLink").click(function(){fls_events_add('click_continue_as_guest');fls_replace_cookie_with_session("clicked_continue_as_guest",1);});$("#edit-subscribe-newsletters").click(function(){Drupal.settings.email_optin_user_interect=1;if($(this).is(':checked')){fls_events_add('step4_opt_ins');}});if(!Drupal.settings.is_country_gdpr){$("#step4 .non_gdpr_row").show();$("#step4 .gdpr_row").hide();}else{$("#step4 .non_gdpr_row").hide();$("#step4 .gdpr_row").show();}
if($('#user-pass').length&&$('#edit-name').length&&$('#edit-confirm-email').length){if(!$('#edit-name').val()){$('input[name^="confirm_email"]').attr("disabled","disabled");}
$('input[name^="name"]').keyup(function(){if($('input[name^="confirm_email"]').length){if($(this).val()){$('input[name^="confirm_email"]').removeAttr("disabled");}else{$('input[name^="confirm_email"]').attr("disabled","disabled");}}});}
if($('#edit-email').length&&$('#edit-confirm-email').length){if(!$('#edit-email').val()){$('input[name^="confirm_email"]').attr("disabled","disabled");}}
$('input[name^="email"]').keyup(function(){if($('input[name^="confirm_email"]').length){if($(this).val()){$('input[name^="confirm_email"]').removeAttr("disabled");}else{$('input[name^="confirm_email"]').attr("disabled","disabled");}}});$('input[id^="edit-password"]').focus(function(){$('.pass_label').hide();});$('input[id^="edit-password"]').change(function(){$('.pass_label').hide();});$('.pass_label').click(function(){$(this).hide();$(this).prev('div').find('input[id^="edit-password"]').trigger('focus');});$('input[id^="edit-password"]').blur(function(){if($(this).val()===""){$(this).parent().next(".pass_label").show();}});if(Drupal.settings.recomlogoparent!=undefined&&Drupal.settings.recomlogoparent){show_loading_overlay();$("#preview_logo2").hide();recom_start_saving_process();}
var eventFree=0;var eventCoupon=0;if(Drupal.settings.step4_offer_focus!=undefined&&Drupal.settings.step4_offer_focus==1){if(!$.cookie("has_logo"))ga('send','event','Leave Behind Upper Funnel','Open','Popup Opened');else ga('send','event','Leave Behind Logos','Open','Popup Opened');step4_offer_refresh_counter=0;step4_offer_refresh_interval=setInterval(function(){step4_offer_refresh_counter++;var logo_details=$.cookie("leavebehind_logodetails");if(logo_details!==null){clearInterval(step4_offer_refresh_interval);$.cookie('leavebehind_logodetails',null,{path:'/'});if(step4_offer_refresh_counter>1){setTimeout(function(){window.location=window.location},1000);}}},500);$(window).focus(function(){var status=fls_new_page_get_status('step4');if(status!=0){$('#step4_special_offer1').hide();$('#step4_special_offer3').hide();$('#step4_special_offer2').show();if(!eventCoupon){ga('send','event','Leave Behind Logos','Open','10% Off Promo Leave Behind Triggered');fls_events_add('leavebehind_coupon_trigger');eventCoupon=1;}}else{if(!$.cookie("has_logo")){$('#step4_special_offer2').hide();$('#step4_special_offer3').show();$('#step4_special_offer1').hide();fls_events_add('leavebehind_upper_trigger');var temp;temp=$("#step4_special_offer1 #edit-submit");temp.attr("id","other-edit-submit");temp1=$("#step4_special_offer3 #other-edit-submit");temp1.attr("id","edit-submit");}
else{$('#step4_special_offer2').hide();$('#step4_special_offer3').hide();$('#step4_special_offer1').show();fls_events_add('leavebehind_account_trigger');var temp;temp=$("#step4_special_offer3 #edit-submit");temp.attr("id","other-edit-submit");temp1=$("#step4_special_offer1 #other-edit-submit");temp1.attr("id","edit-submit");if(!eventFree){ga('send','event','Leave Behind Logos','Open','Free FB Leave Behind Triggered');eventFree=1;}}}});}
$('.tooltip').tooltip({track:true,delay:0,showURL:false,showBody:" - ",fade:250});if(Drupal.settings.step4_page)
{window.onbeforeunload=function(){return Drupal.settings.leave_page_message_step4};$("a").click(function(){window.onbeforeunload=null;});}
if($('#step4').length>0||Drupal.settings.on_buscards_step4){if(Drupal.settings.step2save_url){$.ajax({url:Drupal.settings.step2save_url,type:'post',data:'json=1&action=save',dataType:'json',success:function(result){if(result['status']=='1'){var lid=result.step2_direct_save||0;}}});}}
$('#step4-savelogo-form #edit-submit').click(function(){additionalErrorHTML="";var emailValid=1;$("#rsvErrors").html("").css('display','none');var errorHTML=Drupal.settings.step4_savelogo_form.form_header_error;if($('#step4-savelogo-form input[name="email"]').val()==""){emailValid=0;additionalErrorHTML+=Drupal.settings.step4_savelogo_form.email.required;$('#step4-savelogo-form input[name="email"]').addClass('errorFieldDemo5');$('#step4-savelogo-form #edit-email-label').addClass('signup_error_label');$('#step4-savelogo-form #edit-email-label-icon').show();fls_events_add('empty_email_from_step4');}else if(!isValidEmail($('#step4-savelogo-form input[name="email"]').val())){emailValid=0;additionalErrorHTML+=Drupal.settings.step4_savelogo_form.email.invalid;$('#step4-savelogo-form input[name="email"]').addClass('errorFieldDemo5');$('#step4-savelogo-form #edit-email-label').addClass('signup_error_label');$('#step4-savelogo-form #edit-email-label-icon').show();fls_events_add('invalid_email_from_step4');}else{$('#step4-savelogo-form input[name="email"]').removeClass('errorFieldDemo5');$('#step4-savelogo-form #edit-email-label').removeClass('signup_error_label');$('#step4-savelogo-form #edit-email-label-icon').hide();}
if($('#step4-savelogo-form input[name="confirm_email"]').val()==""){emailValid=0;additionalErrorHTML+=Drupal.settings.step4_savelogo_form.confirm_email.required;$('#step4-savelogo-form input[name="confirm_email"]').addClass('errorFieldDemo5');$('#step4-savelogo-form #edit-confirm-email-label').addClass('signup_error_label');$('#step4-savelogo-form #edit-confirm-email-label-icon').show();}else if($.trim($('#step4-savelogo-form input[name="confirm_email"]').val().toLowerCase())!=$.trim($('#step4-savelogo-form input[name="email"]').val().toLowerCase())){emailValid=0;additionalErrorHTML+=Drupal.settings.step4_savelogo_form.confirm_email.not_confirm;$('#step4-savelogo-form input[name="confirm_email"]').addClass('errorFieldDemo5');$('#step4-savelogo-form #edit-confirm-email-label').addClass('signup_error_label');$('#step4-savelogo-form #edit-confirm-email-label-icon').show();}else{$('#step4-savelogo-form input[name="confirm_email"]').removeClass('errorFieldDemo5');$('#step4-savelogo-form #edit-confirm-email-label').removeClass('signup_error_label');$('#step4-savelogo-form #edit-confirm-email-label-icon').hide();}
if($('#step4-savelogo-form input[name="password"]').val()==""){additionalErrorHTML+=Drupal.settings.step4_savelogo_form.password.required;$('#step4-savelogo-form input[name="password"]').addClass('errorFieldDemo5');$('#step4-savelogo-form #edit-password-label').addClass('signup_error_label');$('#step4-savelogo-form #edit-password-label-icon').show();fls_events_add('empty_password_from_step4');}else{$('#step4-savelogo-form input[name="password"]').removeClass('errorFieldDemo5');$('#step4-savelogo-form #edit-password-label').removeClass('signup_error_label');$('#step4-savelogo-form #edit-password-label-icon').hide();}
if(Drupal.settings.is_country_gdpr&&!$('#step4-savelogo-form input[name="agree_terms_and_privacy"]').is(':checked')){additionalErrorHTML+=Drupal.settings.step4_savelogo_form.agree_terms_and_privacy.required;$('#step4-savelogo-form input[name="agree_terms_and_privacy"]').addClass('errorFieldDemo5');$('#step4-savelogo-form #edit-agree-terms-and-privacy-wrapper label').addClass('signup_error_label');$('#step4-savelogo-form #terms_and_privacy_error_icon').show();}else{$('#step4-savelogo-form input[name="agree_terms_and_privacy"]').removeClass('errorFieldDemo5');$('#step4-savelogo-form #edit-agree-terms-and-privacy-wrapper label').removeClass('signup_error_label');$('#step4-savelogo-form #terms_and_privacy_error_icon').hide();}
if(additionalErrorHTML||!emailValid){errorHTML+=additionalErrorHTML;$("#rsvErrors").css("display","block");$("#rsvErrors").html(errorHTML);if(!Drupal.settings.is_country_gdpr){$("#step4 .non_gdpr_row").show();$("#step4 .gdpr_row").hide();}else{$("#step4 .gdpr_row").show();$("#step4 .non_gdpr_row").hide();}
return false;}else if(emailValid){$('#step4-savelogo-form').submit();}
return false;});$('#step4-signup-form #edit-submit').click(function(){$('.pass_label').hide();additionalErrorHTML="";$("#rsvErrors").html("").css('display','none');var errorHTML=Drupal.settings.step4_signup_form.form_header_error;var langvs=Drupal.settings.lang;var allowedLang=[];var simple_version=($.inArray(langvs,allowedLang)!=-1)?1:0;if(!simple_version){if(typeof Drupal.settings.notallowedIDs!='undefined'){var notallowedIDs=Drupal.settings.notallowedIDs;}else{var notallowedIDs=["088","88","80"];}
var simple_version=($.inArray($('#edit-country').val(),notallowedIDs)==-1)?1:0;simple_version=($.inArray('all',notallowedIDs)==-1)?simple_version:0;}
if(!simple_version){if(Drupal.settings.simple_version)
simple_version=1;}
if(!simple_version){if($('#step4-signup-form input[name="first_name"]').val()==""||($('#step4-signup-form input[name="first_name"]').val()==$('#step4-signup-form input[name="first_name"]').attr('rel'))){additionalErrorHTML+=Drupal.settings.step4_signup_form.first_name.required;$('#step4-signup-form input[name="first_name"]').addClass('errorFieldDemo5');$('#step4-signup-form #logo_first_name_label').addClass('signup_error_label');$('#step4-signup-form #logo_first_name_error_icon').show();}else{$('#step4-signup-form input[name="first_name"]').removeClass('errorFieldDemo5');$('#step4-signup-form #logo_first_name_label').removeClass('signup_error_label');$('#step4-signup-form #logo_first_name_error_icon').hide();}
if($('#step4-signup-form input[name="last_name"]').val()==""||($('#step4-signup-form input[name="last_name"]').val()==$('#step4-signup-form input[name="last_name"]').attr('rel'))){additionalErrorHTML+=Drupal.settings.step4_signup_form.last_name.required;$('#step4-signup-form input[name="last_name"]').addClass('errorFieldDemo5');$('#step4-signup-form #logo_last_name_label').addClass('signup_error_label');$('#step4-signup-form #logo_last_name_error_icon').show();}else{$('#step4-signup-form input[name="last_name"]').removeClass('errorFieldDemo5');$('#step4-signup-form #logo_last_name_label').removeClass('signup_error_label');$('#step4-signup-form #logo_last_name_error_icon').hide();}}
if(Drupal.settings.is_country_gdpr&&!$('#step4-signup-form input[name="agree_terms_and_privacy"]').is(':checked')){additionalErrorHTML+=Drupal.settings.step4_signup_form.agree_terms_and_privacy.required;$('#step4-signup-form input[name="agree_terms_and_privacy"]').addClass('errorFieldDemo5');$('#step4-signup-form #edit-agree-terms-and-privacy-wrapper label').addClass('signup_error_label');$('#step4-signup-form #terms_and_privacy_error_icon').show();}else{$('#step4-signup-form input[name="agree_terms_and_privacy"]').removeClass('errorFieldDemo5');$('#step4-signup-form #edit-agree-terms-and-privacy-wrapper label').removeClass('signup_error_label');$('#step4-signup-form #terms_and_privacy_error_icon').hide();}
var emailValid=1;if($('#step4-signup-form input[name="email"]').val()==""){emailValid=0;additionalErrorHTML+=Drupal.settings.step4_signup_form.email.required;$('#step4-signup-form input[name="email"]').addClass('errorFieldDemo5');$('#step4-signup-form #edit-email-label').addClass('signup_error_label');$('#step4-signup-form #edit-email-label-icon').show();fls_events_add('empty_email_from_step4');}else if(!isValidEmail($('#step4-signup-form input[name="email"]').val())){emailValid=0;additionalErrorHTML+=Drupal.settings.step4_signup_form.email.invalid;$('#step4-signup-form input[name="email"]').addClass('errorFieldDemo5');$('#step4-signup-form #edit-email-label').addClass('signup_error_label');$('#step4-signup-form #edit-email-label-icon').show();fls_events_add('invalid_email_from_step4');}else if(emailValid){$('#step4-signup-form input[name="email"]').removeClass('errorFieldDemo5');$('#step4-signup-form #edit-email-label').removeClass('signup_error_label');$('#step4-signup-form #edit-email-label-icon').hide();}
if($('#step4-signup-form input[name="confirm_email"]').val()==""){emailValid=0;additionalErrorHTML+=Drupal.settings.step4_signup_form.confirm_email.required;$('#step4-signup-form input[name="confirm_email"]').addClass('errorFieldDemo5');$('#step4-signup-form #edit-confirm-email-label').addClass('signup_error_label');$('#step4-signup-form #edit-confirm-email-label-icon').show();}else if($.trim($('#step4-signup-form input[name="confirm_email"]').val().toLowerCase())!=$.trim($('#step4-signup-form input[name="email"]').val().toLowerCase())){emailValid=0;additionalErrorHTML+=Drupal.settings.step4_signup_form.confirm_email.not_confirm;$('#step4-signup-form input[name="confirm_email"]').addClass('errorFieldDemo5');$('#step4-signup-form #edit-confirm-email-label').addClass('signup_error_label');$('#step4-signup-form #edit-confirm-email-label-icon').show();}else{$('#step4-signup-form input[name="confirm_email"]').removeClass('errorFieldDemo5');$('#step4-signup-form #edit-confirm-email-label').removeClass('signup_error_label');$('#step4-signup-form #edit-confirm-email-label-icon').hide();}
if($('#step4-signup-form input[name="password"]').val()==""){additionalErrorHTML+=Drupal.settings.step4_signup_form.password.required;$('#step4-signup-form input[name="password"]').addClass('errorFieldDemo5');$('#step4-signup-form #edit-password-label').addClass('signup_error_label');$('#step4-signup-form #edit-password-label-icon').show();fls_events_add('empty_password_from_step4');}else{$('#step4-signup-form input[name="password"]').removeClass('errorFieldDemo5');$('#step4-signup-form #edit-password-label').removeClass('signup_error_label');$('#step4-signup-form #edit-password-label-icon').hide();}
if(!simple_version){if($('#step4-signup-form input[name="phone"]').val()==""){additionalErrorHTML+=Drupal.settings.step4_signup_form.phone.required;$('#step4-signup-form input[name="phone"]').addClass('errorFieldDemo5');$('#step4-signup-form #phone_label').addClass('signup_error_label');$('#step4-signup-form #phone_error_icon').show();}else if(!validate_phone_function($('input[name="phone"]').val())){additionalErrorHTML+=Drupal.settings.step4_signup_form.phone.invalid;$('#step4-signup-form input[name="phone"]').addClass('errorFieldDemo5');$('#step4-signup-form #phone_label').addClass('signup_error_label');$('#step4-signup-form #phone_error_icon').show();}else{$('#step4-signup-form input[name="phone"]').removeClass('errorFieldDemo5');$('#step4-signup-form #phone_label').removeClass('signup_error_label');$('#step4-signup-form #phone_error_icon').hide();}}
if(additionalErrorHTML||!emailValid){fls_events_add('error_on_step4');errorHTML+=additionalErrorHTML;$("#rsvErrors").css("display","block");$("#rsvErrors").html(errorHTML);return false;}else if(emailValid){if(typeof(Drupal.settings.step4_timer_obj)!="undefined"){Drupal.settings.step4_timer_obj['on_step4_page_end']=Date.now();fls_events_add('time_spent_on_step4',Math.round((Drupal.settings.step4_timer_obj['on_step4_page_end']-Drupal.settings.step4_timer_obj['on_step4_page_start'])/1000));}
$('#step4-signup-form').submit();}
return false;});$('#step4-savelogo-form,#step4-signup-form').each(function(){if($('#edit-email').val()==""){$('#edit-confirm-email').attr('disabled','disabled');}
var langvs=Drupal.settings.lang;var allowedLang=[];var notallowedCountriesEN=Drupal.settings.notallowedCountriesEN;var simple_version=($.inArray(langvs,allowedLang)!=-1)?1:0;if(!simple_version)
simple_version=Drupal.settings.simple_version;if(!simple_version){simple_version=($.inArray(Drupal.settings.country_geoip,notallowedCountriesEN)==-1)?1:0;simple_version=($.inArray('all',notallowedCountriesEN)==-1)?simple_version:0;if(!simple_version){$('.optionalField').show();}else{$('.optionalField').hide();}}else{$('.optionalField').hide();if(langvs=="cn"){$('.optionalField-zh-hans').show();}}
$('#edit-country').change(function(){var notallowedIDs=Drupal.settings.notallowedIDs;var country_id=parseInt($(this).val());if(Drupal.settings.email_optin_user_interect==undefined){if(country_id==1){$('#edit-subscribe-newsletters').attr('checked',true);}else{$('#edit-subscribe-newsletters').attr('checked',false);}}
$.post(Drupal.settings.baseUrl+"/is-country-gdpr",{country_id:$(this).val(),ajax:1},function(){}).done(function(result){result=JSON.parse(result);if(result){Drupal.settings.is_country_gdpr=1;}else Drupal.settings.is_country_gdpr=0;if(!Drupal.settings.is_country_gdpr){$("#step4 .gdpr_row").hide();$("#step4 .non_gdpr_row").show();}else{$("#step4 .gdpr_row").show();$("#step4 .non_gdpr_row").hide();}});var simple_version=($.inArray($(this).val(),notallowedIDs)==-1)?1:0;simple_version=($.inArray('all',notallowedIDs)==-1)?simple_version:0;if(!simple_version)
simple_version=Drupal.settings.simple_version;if(!simple_version){$('.optionalField').show();}else{$('.optionalField').hide();if($(this).val()=="50"){$('.optionalField-zh-hans').show();}}});});});function switchOfferPages(){var status=fls_new_page_get_status('step4');if(status!=0){$('#step4_special_offer1').hide();$('#step4_special_offer3').hide();$('#step4_special_offer2').show();}else{if(!$.cookie("has_logo")){$('#step4_special_offer2').hide();$('#step4_special_offer3').show();$('#step4_special_offer1').hide();}
else{if($.cookie("signup_begin")){$("#step4_special_offer1 .form_signup_end").hide();$("#step4_special_offer1 .form_signup_begin").show();$("#step4_special_offer1 .form_signup_begin .signupBtn").show();}
else if($.cookie("signup_end")){$("#step4_special_offer1 .form_signup_begin").hide();$("#step4_special_offer1 .form_signup_end").show();$("#step4_special_offer1 .form_signup_end .signupBtn").show();}
$('#step4_special_offer2').hide();$('#step4_special_offer3').hide();$('#step4_special_offer1').show();}}}
function setUrlforGuestUsers(){var getValue=$('#guestLink_url').attr('href');if((typeof getValue=="undefined")||(getValue=='')){$('.continue_as_guest').hide();}else{$('.continue_as_guest_btn').attr('href',getValue);}};;function load(obj){};var HostingMoreInfoPopup={init:function(obj){fls_events_add('fired_473moreinfo_lightbox');showPopup(obj,'hosting_more_info_popup');$(".hosting_more_info_popup .remove_btn").attr("href",obj.attr("href"));HostingMoreInfoPopup.load(obj);fls_events_add('fired_473moreinfo_lightbox');},load:function(obj){$(".hosting_more_info_popup .close_popup").click(function(){hidePopup('hosting_more_info_popup');return false;});}};var DiyMoreInfoPopup={init:function(obj,element_id){showPopup(obj,'diy_more_info_popup');DiyMoreInfoPopup.load(obj,element_id);},load:function(obj,element_id){$(".diy_more_info_popup .close_popup").click(function(){hidePopup('diy_more_info_popup');return false;});}};function load(obj){};var GmailAccountPopup={init:function(obj){showPopup(obj,'gmail_account_popup');GmailAccountPopup.load(obj);},load:function(obj){$(".gmail_account_popup .inc").click(function(){val=parseInt($(".gmail_account_popup .number").html())+1;if(val>10)return false;$(".gmail_account_popup .number").html(val);return false;});$(".gmail_account_popup .dec").click(function(){val=parseInt($(".gmail_account_popup .number").html())-1;if(val<1)return false;$(".gmail_account_popup .number").html(val);});$(".gmail_account_popup .close_popup").click(function(){var seatNr=parseInt($(".google_acount_nr").html());$(".gmail_account_popup .number").html(seatNr);hidePopup('gmail_account_popup');return false;});$(".gmail_account_popup .submit_popup").click(function(){account_nr=$(".gmail_account_popup .number").html();console.log("SEAT: "+account_nr);var google_product_id=$("#seatProdId").val();$("#edit-google-seats-"+google_product_id).val(account_nr);var google_prod_main_price=$("#google_prod_orig_price_"+google_product_id).val();google_prod_main_price=google_prod_main_price*1+Drupal.settings.google_seat_prices[google_product_id]*(account_nr-1);console.log("google_prod_main_price:"+google_prod_main_price);$(".google_prod_total").html(google_prod_main_price.toFixed(2));$.post(Drupal.settings.baseUrl+"/update-google-seat",{site_id:$("#site_id").val(),seat_nr:account_nr},function(){var shipping_obj_dropdown=$('#shipping-up-js');fls_store_update_price(shipping_obj_dropdown);});$(".google_acount_nr").html(account_nr);hidePopup('gmail_account_popup');});}};function load(obj){};var GSuiteMoreInfoPopup={init:function(obj){fls_events_add('triggered_moreinfo_googleapps_lightbox');showPopup(obj,'gsuite_more_info_popup');$(".gsuite_more_info_popup .remove_btn").attr("href",obj.attr("href"));GSuiteMoreInfoPopup.load(obj);},load:function(obj){$(".gsuite_more_info_popup .close_popup").click(function(){hidePopup('gsuite_more_info_popup');return false;});}};function load(obj){};var LogoWebV2Popup={init:function(obj){showPopup(obj,'logowebv2_popup');$(".logowebv2_popup .remove_btn").attr("href",obj.attr("href"));LogoWebV2Popup.load(obj);},load:function(obj){$(".logowebv2_popup .close_popup").click(function(){hidePopup('logowebv2_popup');return false;});}};function load(obj){};var PremiumLogoMoreInfoPopup={init:function(obj){showPopup(obj,'premium_logo_more_info_popup');$(".premium_logo_more_info_popup .remove_btn").attr("href",obj.attr("href"));fls_events_add('fired_premiumlogomoreinfo_lightbox');PremiumLogoMoreInfoPopup.load(obj);},load:function(obj){$(".premium_logo_more_info_popup .close_popup").click(function(){hidePopup('premium_logo_more_info_popup');return false;});}};function load(obj){};var ProductQuantityPopup={init:function(obj,element_id){Drupal.settings.quantites_updated=false;$(".edited_men").hide();showPopup(obj,'product_quantity_popup');ProductQuantityPopup.load(obj,element_id);load_product_quantity_functions(obj,element_id);},load:function(obj,element_id){$(".update_qunatities").click(function(){if($(".edited_women").is(":visible")){$(".edited_women input[id^='edited_size_']").each(function(){var tmp_id=$(this).attr("id");var qty=$(this).val();var size_id=tmp_id.replace("edited_size_","");$(".general #women_"+size_id).html(qty);});closeGenderQuantityPopup("women");}
if($(".edited_men").is(":visible")){$(".edited_men input[id^='edited_size_']").each(function(){var tmp_id=$(this).attr("id");var qty=$(this).val();var size_id=tmp_id.replace("edited_size_","");$(".general #men_"+size_id).html(qty);});closeGenderQuantityPopup("men");}
Drupal.settings.quantites_updated=true;});$(".close_popup, .noThankYou").click(function(){if($(".edited_women").is(":visible")){closeGenderQuantityPopup("women",true);}else if($(".edited_men").is(":visible")){closeGenderQuantityPopup("men",true);}else{if(typeof Drupal.settings.quantites_updated!='undefined'&&Drupal.settings.quantites_updated){var product_nr=0;$(".qty_popup_container .popup_item").each(function(){if($(this).is(":visible")){product_nr=$(this).attr("id");}});if(product_nr){product_nr=product_nr.replace("popup_item_","");console.log("product_nr: "+product_nr+"   "+Drupal.settings.product_default_sizes[product_nr]);if(Drupal.settings.product_default_sizes[product_nr])
for(const value in Drupal.settings.product_default_sizes[product_nr]){$("#"+value).html(Drupal.settings.product_default_sizes[product_nr][value]);}}}
$('.popup_sizes_warning').hide();hidePopup('product_quantity_popup');}
return false;});$('.popup_sizes_input input, .input_qty').change(function(){var section_name="original_";if($(".edited_women").is(":visible")||$(".edited_men").is(":visible")||$(".general").is(":visible"))section_name="edited_";var id=$(this).attr('id');console.log("ID: "+id+"   section_name: "+section_name);console.log("ID: "+id);id=id.replace(section_name,"");console.log("ID NEW: "+id);id=id.split("_");id=id[1];if(id!=undefined&&$.isNumeric(id)){fls_store_popup_set_price(id);fls_store_popup_check_quantity(id);fls_store_popup_validate_sizes_quantity(id);}});$(".inc_dec_size.inc").click(function(){var input_id=$(this).attr("href").replace("#","");var current_size=$("#"+input_id).val();$("#"+input_id).val((current_size*1)+1);$("#"+input_id).trigger("change");return false;});$(".inc_dec_size.dec").click(function(){var input_id=$(this).attr("href").replace("#","");var current_size=$("#"+input_id).val();if(current_size==0)return false;$("#"+input_id).val((current_size*1)-1);$("#"+input_id).trigger("change");return false;});$(".edit_men").click(function(){$(".general").hide();$("h2 .gender").html(Drupal.settings.translated_men_text);$(".edited_men").show();$(".main_button_container").hide();});$(".edit_women").click(function(){$(".general").hide();$("h2 .gender").html(Drupal.settings.translated_women_text);$(".edited_women").show();$(".main_button_container").hide();});}}
function resetEditedQuantities(){$(".general .quantity_values div[id^=men]").each(function(){var id=$(this).attr("id");console.log("id: "+id);id=id.replace("men_","");console.log("id: "+id);console.log(".edited_men #edited_size_"+id+"   "+$(this).html());$(".edited_men #edited_size_"+id).val($(this).html());});$(".general .quantity_values div[id^=women]").each(function(){var id=$(this).attr("id");console.log("id: "+id);id=id.replace("women_","");console.log("id: "+id);console.log(".edited_women #edited_size_"+id+"   "+$(this).html());$(".edited_women #edited_size_"+id).val($(this).html());});$(".mobile_edited.popup_sizes_warning").hide();}
function closeGenderQuantityPopup(gender,reset){if(reset==undefined)reset=false;$(".edited_"+gender).hide();$("h2 .gender").html("");if(reset)resetEditedQuantities();$(".main_button_container").show();$(".general").show();};function load(obj){};var RemoveDIYPopup={init:function(obj){showPopup(obj,'remove_diy_popup');$(".remove_diy_popup .remove_btn").attr("href",obj.attr("href"));RemoveDIYPopup.load(obj);fls_events_add('fired_remove_DIY_google_apps_lightbox');},load:function(obj){$(".remove_diy_popup .remove_btn").click(function(){fls_events_add('click_remove_google_apps');if(Drupal.settings.checkout_remove_diy!=undefined){fls_events_add('click_remove_google_apps_523');}});$(".remove_diy_popup .close_popup").click(function(){if($(this).hasClass("lmx_primary_button")){fls_events_add('click_keep_google_apps');if(Drupal.settings.checkout_remove_diy!=undefined){fls_events_add('click_keep_google_apps_523');}}else{if(Drupal.settings.checkout_remove_diy!=undefined){fls_events_add('click_close_google_apps_523');}}
hidePopup('remove_diy_popup');return false;});}};function load(obj){};var RemoveDomainPopup={init:function(obj){fls_events_add('triggered_remove_domain_lightbox');showPopup(obj,'remove_domain_popup');$(".remove_domain_popup .remove_btn").attr("href",obj.attr("href"));RemoveDomainPopup.load(obj);},load:function(obj){$(".remove_domain_popup .remove_btn").click(function(){fls_events_add('clicked_remove_domain');});$(".remove_domain_popup .close_popup").click(function(){if($(this).hasClass("lmx_primary_button")){fls_events_add('kept_domain_from_remove_lightbox');}
hidePopup('remove_domain_popup');return false;});}};function load(obj){};var RemoveFreeDomainPopup={init:function(obj){fls_events_add('triggered_remove_domain_lightbox');showPopup(obj,'remove_free_domain_popup');$(".remove_free_domain_popup .remove_btn").attr("href",obj.attr("href"));RemoveFreeDomainPopup.load(obj);},load:function(obj){$(".remove_free_domain_popup .remove_btn").click(function(){if($("#free_dom_lightbox_with_google_app").val()==0){fls_events_add('clicked_remove_domain');}else{fls_events_add('clicked_remove_free_domain');}});$(".remove_free_domain_popup .close_popup").click(function(){if($(this).hasClass("keep_domain_gfwork")&&$("#keep_domain_gfwork_url").val()&&$("#keep_domain_gfwork_url").val().length){fls_events_add('kept_domain_from_remove_free_lightbox');window.location=$("#keep_domain_gfwork_url").val();return false;}
if($(this).hasClass("lmx_primary_button")){if($("#free_dom_lightbox_with_google_app").val()==0)fls_events_add('kept_domain_from_remove_lightbox');else fls_events_add('kept_domain_from_remove_free_lightbox');}
hidePopup('remove_free_domain_popup');return false;});}};function load(obj){};var RemoveGSuitePopup={init:function(obj){showPopup(obj,'remove_gsuite_popup');$(".remove_gsuite_popup .remove_btn").attr("href",obj.attr("href"));RemoveGSuitePopup.load(obj);fls_events_add('fired_remove_DIY_google_apps_lightbox');},load:function(obj){$(".remove_gsuite_popup .remove_btn").click(function(){fls_events_add('click_remove_google_apps');});$(".remove_gsuite_popup .close_popup").click(function(){if($(this).hasClass("lmx_primary_button")){fls_events_add('click_keep_google_apps');}
hidePopup('remove_gsuite_popup');return false;});}};var RemoveProdPopup={init:function(obj){showPopup(obj,'remove_prod_popup');RemoveProdPopup.load(obj);},load:function(obj){var prod_order=obj.attr("href").split("=")[1];$(".prod_name").html($("#product_name_"+prod_order).html());$(".remove_prod_popup .close_popup").click(function(){hidePopup('remove_prod_popup');return false;});$(".remove_prod_popup .submit_popup").click(function(){window.location=Drupal.settings.baseUrl+"/"+obj.attr("href");hidePopup('remove_prod_popup');show_loading_overlay();return true;});}};function load(obj){};var UberallMoreInfoPopup={init:function(obj){fls_events_add('fired_uberallmoreinfo_lightbox');showPopup(obj,'uberall_more_info_popup');$(".uberall_more_info_popup .remove_btn").attr("href",obj.attr("href"));UberallMoreInfoPopup.load(obj);},load:function(obj){$(".uberall_more_info_popup .close_popup").click(function(){hidePopup('uberall_more_info_popup');return false;});}};$(document).ready(function(){});var EUCARD={init:function(element){console.log("init");if($('.eucard_popup').length>0&&($('.overlay').length>0||$('#FLSPreviewOverlay').length)){if($(".page-body-whatsnextuk").length){$(".eucard_popup .continueBtn").attr("href","/whatsnextuk");}
$('#FLSPreviewOverlay, #FLS_PageLoadingOverlay').hide();$('.eucard_popup').addClass('initialized');EUCARD.placePopUp(element);$('body').on('click','.eucard_popup a.eucard_image',function(event){eucard_delayed_click(this,event,'eucard_web_click');});$('html, body').animate({scrollTop:0},'fast');return false;}},placePopUp:function(element){var overlay=$('.overlay:first');var thankYouBox=$('.eucard_popup');$('.overlay, .eucard_popup').remove();var docH=$(document).height();var docW=$(document).width();overlay.css({"width":docW+"px","height":docH+"px"});thankYouBox.prependTo('body');overlay.prependTo('body');if($('#FLS_PageLoadingOverlay').length){$('#FLS_PageLoadingOverlay').show();$('.overlay').hide();}else{$('.overlay').show();}
thankYouBox.show();var bW=$('.eucard_popup').width();var bH=$('.eucard_popup').height();var wW=$(window).width();var wH=$(window).height();bW=wW/2-bW/2;bH=wH/2-bH/2;$('.eucard_popup').css({left:bW,top:bH>40?bH:40});setTimeout(function(){$('.thankYouBox.eucard_popup').css('visibility','visible')},1500);},hidePopUp:function(){$('.eucard_popup').hide();$('.overlay').hide();return false;}}
function eucard_delayed_click(o,event,track){event.preventDefault();fls_events_add(track);setTimeout(function(){window.location=$(o).attr('href')},500);return false;}
function eucard_ajax(card_id){$.ajax({type:"POST",url:Drupal.settings.eucard_ajax,data:{card_id:card_id},cache:false,dataType:"json",success:function(response)
{if(typeof response['card_image']!='undefined'){console.log("in if");$('.popup_content .eucard_images>img').attr("src",response['card_image']);$(".editCardBtn").attr("href","/business-cards/step3/logo/"+card_id);$(".buyNowBtn").attr("href","/business-cards/options/"+card_id);}}});};function md5cycle(x,k){var a=x[0],b=x[1],c=x[2],d=x[3];a=ff(a,b,c,d,k[0],7,-680876936);d=ff(d,a,b,c,k[1],12,-389564586);c=ff(c,d,a,b,k[2],17,606105819);b=ff(b,c,d,a,k[3],22,-1044525330);a=ff(a,b,c,d,k[4],7,-176418897);d=ff(d,a,b,c,k[5],12,1200080426);c=ff(c,d,a,b,k[6],17,-1473231341);b=ff(b,c,d,a,k[7],22,-45705983);a=ff(a,b,c,d,k[8],7,1770035416);d=ff(d,a,b,c,k[9],12,-1958414417);c=ff(c,d,a,b,k[10],17,-42063);b=ff(b,c,d,a,k[11],22,-1990404162);a=ff(a,b,c,d,k[12],7,1804603682);d=ff(d,a,b,c,k[13],12,-40341101);c=ff(c,d,a,b,k[14],17,-1502002290);b=ff(b,c,d,a,k[15],22,1236535329);a=gg(a,b,c,d,k[1],5,-165796510);d=gg(d,a,b,c,k[6],9,-1069501632);c=gg(c,d,a,b,k[11],14,643717713);b=gg(b,c,d,a,k[0],20,-373897302);a=gg(a,b,c,d,k[5],5,-701558691);d=gg(d,a,b,c,k[10],9,38016083);c=gg(c,d,a,b,k[15],14,-660478335);b=gg(b,c,d,a,k[4],20,-405537848);a=gg(a,b,c,d,k[9],5,568446438);d=gg(d,a,b,c,k[14],9,-1019803690);c=gg(c,d,a,b,k[3],14,-187363961);b=gg(b,c,d,a,k[8],20,1163531501);a=gg(a,b,c,d,k[13],5,-1444681467);d=gg(d,a,b,c,k[2],9,-51403784);c=gg(c,d,a,b,k[7],14,1735328473);b=gg(b,c,d,a,k[12],20,-1926607734);a=hh(a,b,c,d,k[5],4,-378558);d=hh(d,a,b,c,k[8],11,-2022574463);c=hh(c,d,a,b,k[11],16,1839030562);b=hh(b,c,d,a,k[14],23,-35309556);a=hh(a,b,c,d,k[1],4,-1530992060);d=hh(d,a,b,c,k[4],11,1272893353);c=hh(c,d,a,b,k[7],16,-155497632);b=hh(b,c,d,a,k[10],23,-1094730640);a=hh(a,b,c,d,k[13],4,681279174);d=hh(d,a,b,c,k[0],11,-358537222);c=hh(c,d,a,b,k[3],16,-722521979);b=hh(b,c,d,a,k[6],23,76029189);a=hh(a,b,c,d,k[9],4,-640364487);d=hh(d,a,b,c,k[12],11,-421815835);c=hh(c,d,a,b,k[15],16,530742520);b=hh(b,c,d,a,k[2],23,-995338651);a=ii(a,b,c,d,k[0],6,-198630844);d=ii(d,a,b,c,k[7],10,1126891415);c=ii(c,d,a,b,k[14],15,-1416354905);b=ii(b,c,d,a,k[5],21,-57434055);a=ii(a,b,c,d,k[12],6,1700485571);d=ii(d,a,b,c,k[3],10,-1894986606);c=ii(c,d,a,b,k[10],15,-1051523);b=ii(b,c,d,a,k[1],21,-2054922799);a=ii(a,b,c,d,k[8],6,1873313359);d=ii(d,a,b,c,k[15],10,-30611744);c=ii(c,d,a,b,k[6],15,-1560198380);b=ii(b,c,d,a,k[13],21,1309151649);a=ii(a,b,c,d,k[4],6,-145523070);d=ii(d,a,b,c,k[11],10,-1120210379);c=ii(c,d,a,b,k[2],15,718787259);b=ii(b,c,d,a,k[9],21,-343485551);x[0]=add32(a,x[0]);x[1]=add32(b,x[1]);x[2]=add32(c,x[2]);x[3]=add32(d,x[3]);}
function cmn(q,a,b,x,s,t){a=add32(add32(a,q),add32(x,t));return add32((a<<s)|(a>>>(32-s)),b);}
function ff(a,b,c,d,x,s,t){return cmn((b&c)|((~b)&d),a,b,x,s,t);}
function gg(a,b,c,d,x,s,t){return cmn((b&d)|(c&(~d)),a,b,x,s,t);}
function hh(a,b,c,d,x,s,t){return cmn(b^c^d,a,b,x,s,t);}
function ii(a,b,c,d,x,s,t){return cmn(c^(b|(~d)),a,b,x,s,t);}
function md51(s){txt='';var n=s.length,state=[1732584193,-271733879,-1732584194,271733878],i;for(i=64;i<=s.length;i+=64){md5cycle(state,md5blk(s.substring(i-64,i)));}
s=s.substring(i-64);var tail=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(i=0;i<s.length;i++)
tail[i>>2]|=s.charCodeAt(i)<<((i%4)<<3);tail[i>>2]|=0x80<<((i%4)<<3);if(i>55){md5cycle(state,tail);for(i=0;i<16;i++)tail[i]=0;}
tail[14]=n*8;md5cycle(state,tail);return state;}
function md5blk(s){var md5blks=[],i;for(i=0;i<64;i+=4){md5blks[i>>2]=s.charCodeAt(i)
+(s.charCodeAt(i+1)<<8)
+(s.charCodeAt(i+2)<<16)
+(s.charCodeAt(i+3)<<24);}
return md5blks;}
var hex_chr='0123456789abcdef'.split('');function rhex(n)
{var s='',j=0;for(;j<4;j++)
s+=hex_chr[(n>>(j*8+4))&0x0F]
+hex_chr[(n>>(j*8))&0x0F];return s;}
function hex(x){for(var i=0;i<x.length;i++)
x[i]=rhex(x[i]);return x.join('');}
function md5(s){return hex(md51(s));}
function add32(a,b){return(a+b)&0xFFFFFFFF;}
if(md5('hello')!='5d41402abc4b2a76b9719d911017c592'){function add32(x,y){var lsw=(x&0xFFFF)+(y&0xFFFF),msw=(x>>16)+(y>>16)+(lsw>>16);return(msw<<16)|(lsw&0xFFFF);}};var paypalcheckoutfls;$(document).ready(function(){});var test_nonce='';var flsLastSingleUse='';function fls_braintree_paypal_init(singleUse,amount,currency){if(flsLastSingleUse===singleUse+amount+currency)return;flsLastSingleUse=singleUse+amount+currency;var clientToken=Drupal.settings.fls_bt.token;console.log("fls_braintree_paypal_init",singleUse,amount,currency,typeof paypalcheckoutfls);if(typeof paypalcheckoutfls!='undefined'&&paypalcheckoutfls!==null){paypalcheckoutfls.teardown(function(){paypalcheckoutfls=null;});}
$('#braintree-paypal-container').remove();$('#braintree-paypal-holder').append('<div id="braintree-paypal-container"></div>');$('#braintree-paypal-container').bind('click',function(){if(Drupal.settings.checkout_v2){if($('#accept-terms').length&&!$('#accept-terms').is(':checked')){$('#accept-terms').addClass('errorFieldDemo5');$('#accept-terms-wrapper label').addClass('signup_error_label');$("#rsvErrors").html(Drupal.settings.checkout_form.accept_terms.required);$("#rsvErrors").css("margin-top","20px");$("#rsvErrors").css("display","block");return false;}}
if($('#fls-store-payment-form').length){ga('send','event','Paypal','Clicked','Continue with PayPal');}});var paypal_data;if(singleUse===true){paypal_data={container:"braintree-paypal-container",singleUse:singleUse,amount:amount,currency:currency,displayName:Drupal.settings.fls_bt.displayname,onCancelled:function(obj){fls_braintree_paypal_process_cancel(obj);}};}else paypal_data={container:"braintree-paypal-container",currency:currency,displayName:Drupal.settings.fls_bt.displayname,onCancelled:function(obj){fls_braintree_paypal_process_cancel(obj);}};braintree.setup(clientToken,"custom",{onReady:function(integration){paypalcheckoutfls=integration;if(Drupal.settings.checkout_current_section=='section_payment'){if(singleUse===true)$("#braintree-paypal-loggedout").html('<a id="braintree-paypal-button" href="#" class="lmx_primary_button button-width-full button-height-long font-size-20 font-bold" style="display: block; width: 115px; height: 44px; overflow: hidden;"><img src="https://checkout.paypal.com/pwpp/2.22.2/images/pay-with-paypal.png" alt="Pay with PayPal" style="max-width: 100%; display: block; width: 100%; height: 100%; outline: none; border: 0px;"></a>');else $('#braintree-paypal-button').addClass('lmx_primary_button button-width-full button-height-long font-size-20 font-bold');$("#braintree-paypal-loggedout").show();}else if(Drupal.settings.checkout_current_section=='recurring_payment_update'){$('#braintree-paypal-button').addClass('orange-arrow-button');}},paypal:paypal_data,dataCollector:{paypal:true},onPaymentMethodReceived:function(obj){fls_braintree_paypal_process_nonce(obj.nonce);},});}
function fls_braintree_paypal_process_nonce(nonce){if(test_nonce!=''){nonce=test_nonce;}
if($('#edit-bt-nonce').length>0){$('#edit-bt-nonce').val(nonce);}
if(test_nonce==''){if($('#fls-store-payment-form #edit-submit').length){ga('send','event','Paypal','Clicked','Submit Button (auto submit)');$('#fls-store-payment-form #edit-submit').trigger('click');}
else if($("#recurring_payments_container .form_container .orangeButton").length){$("#recurring_payments_container .form_container .orangeButton").trigger('click');}}
$('.payment_form #edit-submit-paypal').addClass('show');}
function fls_braintree_paypal_process_cancel(){$('#edit-bt-nonce').val('');$('.payment_form #edit-submit-paypal').removeClass('show');}
function fls_braintree_paypal_checkout_check(){if(fls_store_checkout_get_vendor_name()!='braintree')
return false;if($('#fls-store-payment-form #edit-payment-type').length)var payment_type_name=$('#fls-store-payment-form #edit-payment-type option:selected').text().toLowerCase();if($('#fls-store-account-checkout-form #edit-payment-type').length)var payment_type_name=$('#fls-store-account-checkout-form #edit-payment-type option:selected').text().toLowerCase();if(Drupal.settings.fls_bt.payment_type_name!=payment_type_name)
return false;return true;};$(document).ready(function(){});function showPopup(obj,popup_name){if(typeof(obj)!=='undefined')
var overlay=$('.overlay1:first');var popupObj=$('.'+popup_name);$('.overlay1, .'+popup_name).remove();var docH=$(document).height();var docW=$(document).width();overlay.css({"width":docW+"px","height":docH+"px"});popupObj.prependTo('body');overlay.prependTo('body');$('.overlay1:first').show();var bW=$('.'+popup_name).width();var bH=$('.'+popup_name).height();var wW=$(window).width();var wH=$(window).height();bW=wW/2-bW/2;bH=wH/2-bH/2;$('.'+popup_name).css({});popupObj.show();$('.'+popup_name).css('visibility','visible');}
function hidePopup(popup_name){$('.'+popup_name).hide();$('.overlay1').hide();return false;};var PROMPTPASSWORD_POPUP={init:function(){if($('.promptpassword_popup').length>0&&$('.overlay').length>0){PROMPTPASSWORD_POPUP.placePopUp();$('#promptpassword-popup-form').keydown(function(event){if(event.key=="Enter"){$('#promptpassword-popup-form a.orangeButton').trigger('click');return false;}})
$('#promptpassword-popup-form a.orangeButton').click(function(){$('#promptpassword-popup-form .error').hide();$.ajax({url:Drupal.settings.basePath+'autologin-confirm-password',type:"POST",data:({value:$('#promptpassword-popup-form #edit-pass').val(),path:Drupal.settings.fls_sensitive_data_login_check,sensitive:1}),dataType:"json",success:function(data){if(data=='1'){if(typeof fls_prompt_password_success_callback!=undefined)fls_prompt_password_success_callback();}else{$('#promptpassword-popup-form .error').show();}},error:function(data){if(data!='1'){console.log('b');$('#promptpassword-popup-form .error').show();}}});return false;});$("#closeBtn").click(function(){PROMPTPASSWORD_POPUP.hidePopUp();})
$('html, body').animate({scrollTop:0},'fast');if($('.promptpassword_popup .close').attr('href')=='#'){$('.promptpassword_popup .close, .promptpassword_popup .orangeButton_close').click(function(){PROMPTPASSWORD_POPUP.hidePopUp();$('#payment-methods .new_payment_method').trigger('click');});}}},placePopUp:function(){$('#promptpassword-popup-form .error').hide();var overlay=$('.overlay:first');$('.promptpassword_popup').addClass('showing');var thankYouBox=$('.promptpassword_popup');$('.overlay, .promptpassword_popup').remove();var docH=$(document).height();var docW=$(document).width();overlay.css({"width":docW+"px","height":docH+"px"});thankYouBox.prependTo('body');overlay.prependTo('body');thankYouBox.show();var bW=$('.promptpassword_popup').width();var bH=$('.promptpassword_popup').height();var wW=$(window).width();var wH=$(window).height();bW=wW/2-bW/2;bH=wH/2-bH/2;var scroll_value=parseInt($(document).scrollTop());scroll_value+=bH>40?bH:40;$('.thankYouBox.promptpassword_popup').css({left:bW,top:scroll_value+' !important'});if($('#TB_overlay').length==0)$('.overlay:first').show();if($.browser.msie&&$.browser.version=='8.0'){$('.overlay').css('filter','alpha(opacity=30)');}},hidePopUp:function(){$('.promptpassword_popup').removeClass('showing');$('.promptpassword_popup').fadeOut();$('.overlay').fadeOut();$('.promptpassword_popup').hide();$('.overlay').hide();return false;},};$(document).ready(function(){});var UBERALLPACKAGES={init:function(element){if($('.uberallpackages_popup').length>0&&($('.overlay').length>0||$('#FLSPreviewOverlay').length)){$('#FLSPreviewOverlay, #FLS_PageLoadingOverlay').hide();$('html, body').animate({scrollTop:0},'fast');$('.uberallpackages_popup').addClass('initialized');UBERALLPACKAGES.placePopUp(element);$(".uberallpackages_popup .close,.uberallpackages_popup .closeBtn").click(function(){UBERALLPACKAGES.hidePopUp();});return false;}},placePopUp:function(element){var overlay=$('.overlay:first');var thankYouBox=$('.uberallpackages_popup');$('.overlay, .uberallpackages_popup').remove();var docH=$(document).height();var docW=$(document).width();overlay.css({"width":docW+"px","height":docH+"px"});thankYouBox.prependTo('body');overlay.prependTo('body');if($('#FLS_PageLoadingOverlay').length){$('#FLS_PageLoadingOverlay').show();$('.overlay').hide();}else{$('.overlay').show();}
thankYouBox.show();var bW=$('.uberallpackages_popup').width();var bH=$('.uberallpackages_popup').height();var wW=$(window).width();var wH=$(window).height();bW=wW/2-bW/2;bH=wH/2-bH/2;$('.activatedomain_popup').css({left:bW,top:bH>40?bH:40});setTimeout(function(){$('.thankYouBox.uberallpackages_popup').css('visibility','visible')},1500);},hidePopUp:function(){$('.uberallpackages_popup').hide();$('.overlay').hide();return false;}};function fls_store_init_tax_estimate(){if(!Drupal.settings.fls_taxes_status)return;Drupal.settings.fls_taxes_selected_upsells={};if(parseInt(Drupal.settings.current_country)==1){var tax_address_fields_shipping={'edit-shipping-first-name':0,'edit-shipping-last-name':0,'edit-shipping-address':1,'edit-shipping-address2':1,'edit-shipping-city':1,'edit-shipping-stateus':1,'edit-shipping-zip':1,'edit-shipping-phone':0};var tax_address_fields_billing={'edit-first-name':0,'edit-last-name':0,'edit-billing-address':1,'edit-billing-address2':1,'edit-city':1,'edit-stateus':1,'edit-zip':1,'edit-phone':0};}else{var tax_address_fields_shipping={'edit-shipping-first-name':0,'edit-shipping-last-name':0,'edit-shipping-address':1,'edit-shipping-address2':1,'edit-shipping-city':1,'edit-shipping-state':1,'edit-shipping-zip':1,'edit-shipping-phone':0};var tax_address_fields_billing={'edit-first-name':0,'edit-last-name':0,'edit-billing-address':1,'edit-billing-address2':1,'edit-city':1,'edit-state':1,'edit-zip':1,'edit-phone':0};}
var tax_address_fields_mask=tax_address_fields_billing;var tax_address_shipping=$('#edit-shipping-first-name').length;if(tax_address_shipping)tax_address_fields_mask=tax_address_fields_shipping;Drupal.settings.tax_address_fields=new Array();for(var i in tax_address_fields_mask){Drupal.settings.tax_address_fields.push(i);if(tax_address_fields_mask[i]){$('#'+i).change(fls_store_get_tax_estimate);}}
fls_store_get_tax_estimate(true);}
function fls_store_get_tax_estimate(address_changed){if(Drupal.settings.fls_taxes_exempt){fls_store_restore_fields_in_progress();return false;}
if(typeof address_changed=='undefined')address_changed=false;if(address_changed){var shipping_obj_dropdown=$('#shipping-up-js');fls_store_update_price(shipping_obj_dropdown);return;}
if(!Drupal.settings.fls_taxes_status){fls_store_restore_fields_in_progress();return;}
if(typeof Drupal.settings.tax_address_fields=='undefined'){fls_store_restore_fields_in_progress();return;}
$('#edit-submit').css('visibility','hidden');var tax_address={};for(var i in Drupal.settings.tax_address_fields){var field_name=$('#'+Drupal.settings.tax_address_fields[i]).attr('name');if(typeof field_name!='undefined'){field_name=field_name.replace('billing_','').replace('shipping_','');var field_value=$('#'+Drupal.settings.tax_address_fields[i]).val();if(field_name.indexOf('-shipping-')==-1)field_name=field_name.replace('-shipping','');tax_address[field_name]=field_value;}}
if(tax_address['zip'])
tax_address['zip']=tax_address['zip'].trim();if(!tax_address['zip']){fls_store_restore_fields_in_progress();$('#edit-submit').css('visibility','visible');return;}
var shipping_method=69;var shipping_value=$(Drupal.settings.fls_taxes_selectors.shipping).val();if(shipping_value==undefined)var shipping_value=$('#virtual-shipping').val();if(shipping_value!=undefined)shipping_method=shipping_value;var order={shipping_method:shipping_method,shipping_address:tax_address,items:{}};if(Drupal.settings.fls_taxes_selected_upsells!='undefined'){console.log(Drupal.settings.fls_taxes_selected_upsells);order['items']=Drupal.settings.fls_taxes_selected_upsells;}
console.log(order);if(typeof Drupal.settings.fls_taxes_selectors!='undefined'&&typeof Drupal.settings.fls_taxes_selectors.estimated_tax_above!='undefined')$(Drupal.settings.fls_taxes_selectors.estimated_tax_above).html('...');if(typeof Drupal.settings.fls_taxes_selectors!='undefined'&&typeof Drupal.settings.fls_taxes_selectors.estimated_tax_bellow!='undefined')$(Drupal.settings.fls_taxes_selectors.estimated_tax_bellow).html('...');$.ajax({url:'/store-checkout-estimated-taxes',type:"POST",data:(order),dataType:"json",success:function(data){fls_store_restore_fields_in_progress();$('#edit-submit').css('visibility','visible');if(typeof data!='undefined'&&typeof data['success']!='undefined'&&typeof data['total_taxes']!='undefined'){Drupal.settings.fls_taxes_estimate1=parseFloat(data['total_taxes']);if(typeof data['estimated_taxes_as_text']!='undefined'){if(typeof Drupal.settings.fls_taxes_selectors!='undefined'&&typeof Drupal.settings.fls_taxes_selectors.estimated_tax_above!='undefined')$(Drupal.settings.fls_taxes_selectors.estimated_tax_above).html(data['estimated_taxes_as_text']);if(typeof Drupal.settings.fls_taxes_selectors!='undefined'&&typeof Drupal.settings.fls_taxes_selectors.estimated_tax_bellow!='undefined')$(Drupal.settings.fls_taxes_selectors.estimated_tax_bellow).html(data['estimated_taxes_as_text']);if(typeof Drupal.settings.fls_taxes_selectors!='undefined'&&typeof Drupal.settings.fls_taxes_selectors.total_above!='undefined'){var total=parseFloat($(Drupal.settings.fls_taxes_selectors.total_above).html());if(typeof Drupal.settings.fls_taxes_selectors.total_above_without_shipping!='undefined'){total=parseFloat($(Drupal.settings.fls_taxes_selectors.total_above_without_shipping).html());}
if(typeof Drupal.settings.fls_taxes_selectors.shipping_cost!='undefined'){var shipping_cost=parseFloat($(Drupal.settings.fls_taxes_selectors.shipping_cost).html());if(shipping_cost!=undefined&&!isNaN(shipping_cost)){total+=shipping_cost;}}
total+=parseFloat(data['total_taxes']);$(Drupal.settings.fls_taxes_selectors.total_above).html(total.toFixed(2));}
if(typeof Drupal.settings.fls_taxes_selectors!='undefined'&&typeof Drupal.settings.fls_taxes_selectors.total_bellow!='undefined'){var total=parseFloat($(Drupal.settings.fls_taxes_selectors.total_bellow).html());total+=parseFloat(data['total_taxes']);$(Drupal.settings.fls_taxes_selectors.total_bellow).html(total.toFixed(2));update_order_total();}}}}});};;var current_country=$("#store-edit-country option:selected");var order_total_check_flag=0;var page_load;$(document).ready(function(){page_load=true;if(Drupal.settings.checkout_v2){$("#accept-terms").prop('checked',false);$(".subscription_terms_text").hide();if(typeof Drupal.settings.cart_has_subscription!='undefined'&&Drupal.settings.cart_has_subscription){$(".subscription_terms_text").show();}}
if(Drupal.settings.banned_logo_msg!=''){alert(Drupal.settings.banned_logo_msg);}
if(typeof Drupal.settings.bc_2eu_convert!='undefined'&&Drupal.settings.whatsnextuk){if(typeof bc_data!='undefined'){bc_data['no_init_save']=1;bc2eu_init(0,Drupal.settings.bc_2eu_convert[0]['sideID'],Drupal.settings.bc_2eu_convert[0]['lid'],Drupal.settings.bc_2eu_convert[0]['side_lid'],true,Drupal.settings.bc_2eu_convert[0]['message']);return false;}}
$('body').on('click','.business_list_packages',function(e){UBERALLPACKAGES.init();});$("#accept-terms").click(function(){if($(this).is(':checked')){$('#accept-terms-details').removeClass('errorFieldDemo5');$('#accept-terms-wrapper label').removeClass('signup_error_label');}else{}});if(local_storage_get("onedom_alert_box",0)==1&&Drupal.settings.fls_onedom_split_set==1){alert(Drupal.settings.not_available_domain_msg);fls_events_add('fire_not_available_dom_box');local_storage_set("onedom_alert_box",0);}
if(Drupal.settings.forced_state!='undefined'){if(Drupal.settings.forced_state==0)$("#edit-state-label .required").hide();else $("#edit-state-label .required").show();}
if(typeof Drupal.settings.checkout_form=='undefined'){return false;}
$('#edit-billing-as-shipping-billing-as-shipping').change(function(){if($('#edit-billing-as-shipping-billing-as-shipping').is(':checked')){if(Drupal.settings.checkout_v2){update_shipping_address();$("#section_shipping>.checkout_show_row").hide();}
else{update_billing_address();$('.billing_address').hide();}}
else{if(Drupal.settings.checkout_v2){update_shipping_address(false);$("#section_shipping").removeClass("completed");$("#section_shipping").removeClass("mobile-hide desktop-hide");$(".section_shipping_header .checked").hide();$(".section_shipping_header>div:not(.checked)").show();$("#section_shipping>.checkout_show_row").show();}
else{update_billing_address(false);$('.billing_address').show();}
fls_store_checkout_form_update_state_fields();if(Drupal.settings.checkout_v2)checkout_v2_redesign_init("section_shipping");}});if(Drupal.settings.checkout_form.after_validate==undefined){$('#edit-billing-as-shipping-billing-as-shipping').click();}
if(typeof Drupal.settings.pagbrasil_charge_disclaimer_text!='undefined'){$("#main").after("<div style='display:none;' class='disclaimer_text pagbrasil_charge_disclaimer_text'>"+Drupal.settings.pagbrasil_charge_disclaimer_text+"</div>");}
if(Drupal.settings.freedomain_split_set&&typeof Drupal.settings.disclaimer_text!='undefined')
$(".page-body-checkout #main").after("<div class='disclaimer_text'>"+Drupal.settings.disclaimer_text+"</div>");if(Drupal.settings.show_free_domain_with_gapp_disclaimer&&typeof Drupal.settings.disclaimer_text!='undefined'){$(".page-body-checkout #main").after("<div class='disclaimer_text'>"+Drupal.settings.disclaimer_text+"</div>");}
website_upsell_check(1);$(".website_upsell .form-item>input[upsell_type='upsell_bundle'], .website_upsell .form-item>input[upsell_type='upsell_google'], .website_upsell .form-item>input[upsell_type='upsell_googlebundle'], .website_upsell .form-item>input[upsell_type='upsell_custombundle']").click(function(){website_upsell_check();});$(".moreDetailsWebsite").click(function(){fls_events_add('clicked_more_info');});$(".editWebsite").click(function(){fls_events_add('clicked_edit_website');});$(".radio_vat").click(function(){ga('send','event','eu-user-type',$(this).val(),Drupal.settings.vat.country+'-'+Drupal.settings.vat.id);});if($.cookie('fireBcPopup')==1)
{BC.init();}
if(Drupal.settings.websitepack==1){$('#websitepack').click();}
if(Drupal.settings.forced_pagbrasil&&Drupal.settings.checkout_form.after_validate==undefined){$.each(Drupal.settings.pb_vendors,function(key,value){$('#edit-payment-type option[value="'+key+'"]').remove();});}
$('.custom_checkbox').click(proof_checkbox_click);$('#edit-payment-type').change(function(){if(Drupal.settings.checkout_v2)checkout_v2_redesign_reset_placeholder_select($(this).attr("id"));$('#amex').css('display','');$('#amex').css('visibility','hidden');$('#visa-mc-disc').css('display','none');$('#spam_free_policy_why').css('left','-291px');$('#spam_free_policy_why').css('top','15px');if(Drupal.settings.cvv_pos[$(this).val()]==2){$('#amex').css('visibility','visible');$('#spam_free_policy_why').css('left','-291px');$('#spam_free_policy_why').css('top','15px');}
if(Drupal.settings.cvv_pos[$(this).val()]==1){$('#visa-mc-disc').css('display','');$('#amex').css('display','none');$('#spam_free_policy_why').css('left','-291px');$('#spam_free_policy_why').css('top','15px');}
if($(this).val()!=0){fls_events_add('payment_method_selected',$('#edit-payment-type option:selected').text());$('.payment_info').css('visibility','visible');}else{$('.payment_info').css('visibility','hidden');}});$('.website_upsell .upsells_new_single').each(function(){var pid=$(this).attr('item');var website_service_class=new Array();var classes=$(this).attr('class').split(' ');for(var i in classes){if(classes[i].indexOf('website_service')>-1){website_service_class.push(classes[i]);}}
website_service_class=website_service_class.join(' ');$('#'+pid).addClass(website_service_class);});$('.google_upsell_dropdown_seat').change(function(){if(Drupal.settings.fls_taxes_status&&!Drupal.settings.fls_taxes_exempt)fls_store_disable_fields_in_progress();var id=$(this).attr('item');if(id==undefined)id=$(this).attr('rel');var seats=parseInt($(".website_product_"+id+" .google_upsell_dropdown_seat").val());var extra_seats_cost=(seats-1)*parseFloat(Drupal.settings.google_seat_prices[id]);$('#edit-google-seats-'+id).val(seats);var upsell_default_price=0;upsell_default_price=parseFloat(Drupal.settings.additional_offers[id]['price'][Drupal.settings.upsell_country]);newProductPrice=upsell_default_price+extra_seats_cost;$(".website_product_"+id+" .total_package_price .pack_price").html(newProductPrice.toFixed(2));$(".website_product_"+id+" .seat_price").html(Drupal.settings.google_seat_prices[id]);var shipping_obj_dropdown=$('#shipping-up-js');fls_store_update_price(shipping_obj_dropdown);});$('.weebly_packs').change(function(){if(Drupal.settings.fls_taxes_status&&!Drupal.settings.fls_taxes_exempt)fls_store_disable_fields_in_progress();var id=$(this).attr('item');if(id==undefined)id=$(this).attr('rel');var weebly_pack_id=parseInt($('#weebly_packs_'+id).val());var upsell_price=parseFloat(Drupal.settings.additional_offers[id]['price'][Drupal.settings.upsell_country]);if(typeof Drupal.settings.weebly_packages!='undefined'&&typeof Drupal.settings.weebly_packages[weebly_pack_id]!='undefined'){upsell_price+=parseFloat(Drupal.settings.weebly_packages[weebly_pack_id]['price_no_currency']);}
$('.website_product_'+id+' .upsells_new_price .price').html(upsell_price.toFixed(2));var shipping_obj_dropdown=$('#shipping-up-js');fls_store_update_price(shipping_obj_dropdown);});$('.upsells_new_check_logo input').each(function(){if($(this).is(":checked")){var id=$(this).attr('id');if($(".website_product_"+id+" .google_upsell_dropdown_seat").length>0){var seats=parseInt($('#edit-google-seats-'+id).val());$(".website_product_"+id+" .google_upsell_dropdown_seat").val(seats);}
fls_store_checkout_upsell_click(this);}});$('.upsells_new_check_logo input').click(function(){if($(this).attr('id')==447&&$(this).is(":checked")){fls_events_add('checkout_premium_logo_447_checked');}
if($(this).attr('id')==473&&$(this).is(":checked")){fls_events_add('checkout_473upsell_checked');}
if($(this).attr('id')==561&&$(this).is(":checked")){fls_events_add('checkout_business_listing_561_checked');}
fls_store_checkout_upsell_click(this);});$(".website-attributes-box input").keyup(function(){$(".payment_form input[name='"+$(this).attr("name")+"']").val($(this).val());});$('#rsvErrors').each(function(){$('#rsvErrorsHidden').focus();});$('.custom_checkbox').each(function(){var id=$(this).attr('id');var val=$('#form_'+id).val();if(val==1){$(this).trigger('click');$(this).each(proof_checkbox_click);}});$('.custom_checkbox').each(proof_checkbox_default);$('.remove_item_cart').click(function(){if($(this).hasClass('website')){REMOVEWEB.init();$("#removeBtn").attr("href",$(this).attr("href"));return false;}
else if($(this).hasClass('domain')){REMOVEDOMAIN.init();$("#removeBtn").attr("href",$(this).attr("href"));return false;}else if($(this).hasClass('free_domain')){REMOVEFREEDOMAIN.init();$("#removeBtn").attr("href",$(this).attr("href"));return false;}else if($(this).hasClass('google_app')){if($(this).hasClass('google_app_523')&&Drupal.settings.add_diy_from_logo_flow!=undefined){Drupal.settings.checkout_remove_diy=1;fls_events_add('triggered_remove_523_googleapps_lightbox');}
fls_events_add('triggered_remove_googleapps_lightbox');REMOVEGOOGLEAPPS.init();$("#removeBtn").attr("href",$(this).attr("href"));return false;}else{var title=$(this).attr('title');if(!confirm(title)){return false;}
show_loading_overlay();return true;}});$(".editPackages").click(function(){DIYWEBSITE.init();});$(".editQtyGoogleApps").click(function(){if($(this).hasClass('editQtyGoogleApps_523')&&Drupal.settings.add_diy_from_logo_flow!=undefined){fls_events_add('triggered_editquantity_googleapps_523_lightbox');}
if(!Drupal.settings.checkout_v2)GOOGLESEATS.init();});$(".checkout_v2 .select_container select").change(function(){if($(this).attr("id")=="store-edit-country"&&Drupal.settings.autologin_user&&!Drupal.settings.autologin_user_proceed){if(current_country.length)
current_country.prop("selected",true);PROMPTPASSWORD_POPUP.init();return false;}
if(Drupal.settings.checkout_v2)checkout_v2_redesign_reset_placeholder_select($(this).attr("id"));});$('#store-edit-country').click(function(){current_country=$("#store-edit-country option:selected");ga('send','event','Checkout Country Drop Down','Click','Billing Country');});$('#store-edit-country').change(function(){fls_store_check_update_country();});$('#edit-stateus, #edit-statecan, #edit-statebr').change(function(){$('#edit-state').val($(this).val());});$('#edit-shipping-stateus, #edit-shipping-statecan, #edit-shipping-statebr').change(function(){$('#edit-shipping-state').val($(this).val());});$('#store-edit-shipping-country').click(function(){current_country=$("#store-edit-shipping-country  option:selected");ga('send','event','Checkout Country Drop Down','Click','Shipping Country');});$('#store-edit-shipping-country').change(function(){$('#store-edit-country').val($('#store-edit-shipping-country').val());fls_store_check_update_country();});$('#payment-methods .payment-methods-options input').change(fls_store_payment_method_update);fls_store_payment_method_init();$('#fls-store-payment-form #edit-payment-type').change(fls_store_checkout_update_fields_by_vendor).each(fls_store_checkout_update_fields_by_vendor);$('.pagbrasil_field input[type=radio][name=cpfcnpj_type]').change(function(){fls_store_checkout_update_pabrasil_cpfcnpj(this.value)});var shipping_obj_dropdown=$('#edit-shipping-method');var shipping_obj_dropdown2=$('#shipping-up-js');fls_store_update_shipping(shipping_obj_dropdown,shipping_obj_dropdown2);fls_store_update_price(shipping_obj_dropdown);$('body').on('change','#shipping-up-js',function(e){var shipping_obj_drpdown2=$('#edit-shipping-method');if(Drupal.settings.checkout_v2)checkout_v2_redesign_init("section_payment_cart");if(Drupal.settings.checkout_v2)checkout_v2_redesign_init("section_cart");fls_store_update_shipping(this,shipping_obj_drpdown2);fls_store_update_price(this)});$('#step-checkout1 .checkout_element_edit a.edit_item_cart').click(function(){PO_checkout.init($(this));return false;});var country_id=parseInt($('#store-edit-country').val());if($.inArray(country_id,Drupal.settings.required_zip_codes_for_countries)!=-1){$('#edit-zip-label span.required').css('display','');}else{$('#edit-zip-label span.required').css('display','none');}
if(Drupal.settings.cart_has_logo&&Drupal.settings.fls_store_split&&Drupal.settings.fls_store_item_removed===undefined&&Drupal.settings.fls_product_updated==undefined){LO_checkout.init();}
if(Drupal.settings.checkout_logo_upsell_popup)
LOGOUP.init();if(Drupal.settings.default_shipping!==false){var shipping=document.getElementById("shipping-up-js");if(shipping!=undefined)shipping.options[Drupal.settings.default_shipping].selected=true;$("#shipping-up-js").change();shipping=document.getElementById("edit-shipping-method");if(shipping!=undefined)shipping.options[Drupal.settings.default_shipping].selected=true;$("#edit-shipping-method").change();}
if(Drupal.settings.bc_50_free){BC_FREE.init();}
if($('.bcweb_popup').length){if(!$('.bcweb_popup.initialized').length){LOGOWEBV2.init();fls_events_add('lightbox_checkoutdom_view');ga('send','event','Domain LB Checkout','Fired','Domain_LB_fired_checkout');}}else{if(Drupal.settings.domains_not_available!='undefined'&&Drupal.settings.domains_not_available)
ga('send','event','Domain LB Checkout','Not_Fired','Domain_LB_not_fired_checkout');}
fls_store_checkout_form_freeorder_update_fields();$('.upsells_new_left input').click(fls_store_checkout_form_freeorder_update_fields);$('.upsells_new input, .upsells_new_single input').click(fls_store_checkout_form_freeorder_update_fields);sitesapi_validate_gandi();if(typeof Drupal.settings.bc_2eu_convert!='undefined'){if(typeof bc_data!='undefined'){bc_data['no_init_save']=1;bc2eu_init(0,Drupal.settings.bc_2eu_convert[0]['sideID'],Drupal.settings.bc_2eu_convert[0]['lid'],Drupal.settings.bc_2eu_convert[0]['side_lid'],true,Drupal.settings.bc_2eu_convert[0]['message']);}}
if(Drupal.settings.checkout_form.google_default_company_name){$('#edit-google-company-name').val(Drupal.settings.checkout_form.google_default_company_name);}
if(Drupal.settings.google_app_domain){$('.google_app_domain').text(Drupal.settings.google_app_domain);$('#edit-google-email-name-wrapper').append(Drupal.settings.google_app_domain);}
if(Drupal.settings.fls_taxes_status){Drupal.settings.fls_taxes_selectors={estimated_tax_above:'#estimated_tax_total',estimated_tax_bellow:'.upsells_new_taxes_price span',total_above:'#checkout_shipping_total span',total_bellow:'.upsells_new_total_price span',shipping:'#edit-shipping-method',total_above_without_shipping:'#shipping_prod_total span',shipping_cost:'#shipping_price span'}
fls_store_init_tax_estimate();}
if(country_id==50)
{fls_store_checkout_form_paypal_update_fields();}});function website_upsell_check(pageLoad){if(typeof pageLoad=='undefined')pageLoad=0;var types=new Array();website_upsell_disable_enable(types,'enable');if($(".website_upsell .form-item>input[upsell_type='upsell_custombundle']").is(":checked")){types=new Array('upsell_custombundle');website_upsell_disable_enable(types,'disable');website_upsell_update_price(types);}else
if($(".website_upsell .form-item>input[upsell_type='upsell_googlebundle']").is(":checked")){types=new Array('upsell_googlebundle');if(!pageLoad){fls_events_add('checkout_google_apps_523_checked');}
website_upsell_disable_enable(types,'disable');website_upsell_update_price(types);}else if($(".website_upsell .form-item>input[upsell_type='upsell_google']").is(":checked")){types=new Array('upsell_google','upsell_hosting','upsell_bundle','upsell_googlebundle','upsell_custombundle');if(!pageLoad){fls_events_add('checkout_google_apps_467_checked');}
website_upsell_disable_enable(types,'disable');website_upsell_update_price(types);}else if($(".website_upsell .form-item>input[upsell_type='upsell_bundle']").is(":checked")){types=new Array('upsell_bundle','upsell_google');website_upsell_disable_enable(types,'disable');website_upsell_update_price(types);}else{types=new Array();website_upsell_disable_enable(types,'enable');}}
function website_upsell_disable_enable(not_type_arr,op){var selected_upsells=new Array();$('.website_upsell .form-item>input').each(function(){var type=$(this).attr('upsell_type');if($(this).is(":checked"))selected_upsells.push(type);});var google_upsell_status=$.inArray('upsell_google',selected_upsells);var bundle_upsell_status=$.inArray('upsell_bundle',selected_upsells);if(google_upsell_status>-1&&bundle_upsell_status>-1){var pos=$.inArray('upsell_hosting',not_type_arr);if(pos>-1)not_type_arr.splice(pos,1);}
if(op=='enable'){$('.website_upsell .form-item>input').each(function(){var type=$(this).attr('upsell_type');if(not_type_arr.length==0||$.inArray(type,not_type_arr)==-1){$(this).parent().siblings('label').removeClass("disabled");$(this).parent().siblings('.upsells_new_price').removeClass("disabled");$(this).prop("disabled",false);}});}
if(op=='disable'){$('.website_upsell .form-item>input').each(function(){var type=$(this).attr('upsell_type');if($.inArray(type,not_type_arr)==-1){$(this).parent().siblings('.google_seat').hide();$(this).parent().siblings('label').addClass("disabled");$(this).parent().siblings('.upsells_new_price').addClass("disabled");$(this).prop("disabled",true);}else{$(this).prop("disabled",false);}});}}
function website_upsell_update_price(not_type_arr){var pricetext=$('.upsells_new_total_price > span').html();pricetext=parseFloat(pricetext);$(".website_upsell .form-item>input").each(function(){var type=$(this).attr('upsell_type');if(not_type_arr.length==0||$.inArray(type,not_type_arr)==-1){if($(this).is(":checked")){upsellprice=parseFloat(Drupal.settings.additional_offers[$(this).attr("value")]['price'][Drupal.settings.upsell_country]);if(type=="upsell_google"&&$('.upsells_new_single[item="467"] #seat_values').length)upsellprice=$('.upsells_new_single[item="467"] #seat_values option:selected').val()*upsellprice;newprice=pricetext-upsellprice;$(this).prop("checked",false);newprice=Math.round(newprice*100)/100;newprice=parseFloat(Math.round(newprice*100)/100).toFixed(2);$('.upsells_new_total_price > span').html(newprice);$(this).removeClass("inputChecked");pricetext=newprice;}}});}
function bc2eu_after_load_checkout(){var cfg={lid:Drupal.settings.bc_2eu_convert[0]['lid'],side_lid:Drupal.settings.bc_2eu_convert[0]['side_lid']};converted_designs_status={};convert_design_id=Drupal.settings.bc_2eu_convert[0]['logoID'];converted_designs_status[convert_design_id]=0;FLSBcardEUConvert.convertStandardBcId(Drupal.settings.bc_2eu_convert[0]['logoID'],cfg);}
function bc2eu_after_save_checkout(data){if(!data['status']){converted_designs_status[convert_design_id]++;if(converted_designs_status[convert_design_id]>3){}}else if(data['design_id']&&data['status']){Drupal.settings.bc_2eu_index++;lang="";if(Drupal.settings.lang!="")lang="/"+Drupal.settings.lang;if(Drupal.settings.bc_2eu_index==Drupal.settings.bc_2eu_count){if(Drupal.settings.bc_2eu_count==1)
$('.eucard_popup .eucard_images .item img').attr('src',data["ssl_preview1"]);else{$('.eucard_popup .eucard_images .item:first').clone().insertAfter($('.eucard_popup .eucard_images .item:last'));$('.eucard_popup .eucard_images .item:last>img').attr('src',data["ssl_preview1"]);}
$('.eucard_popup .eucard_images .item:last>a').attr('href',Drupal.settings.baseUrl+lang+'/business-cards/step3/logo/'+data["design_id"]+'?destination=checkout');$(".eucard_popup .buyNowBtn").hide();$(".eucard_popup .continueBtn").css('display','inline-block');if(Drupal.settings.show_popup_after_convert){$('#TB_overlay').remove();$('#TB_window').remove();setTimeout(function(){EUCARD.init()},500);}else{window.location.reload(true);}}else{if(Drupal.settings.bc_2eu_index==1)$('.eucard_popup .eucard_images .item img').attr('src',data["ssl_preview1"]);else{$('.eucard_popup .eucard_images .item:first').clone().insertAfter($('.eucard_popup .eucard_images .item:last'));$('.eucard_popup .eucard_images .item:last>img').attr('src',data["ssl_preview1"]);}
$('.eucard_popup .eucard_images .item:last>a').attr('href',Drupal.settings.baseUrl+lang+'/business-cards/step3/logo/'+data["design_id"]+'?destination=checkout');var cfg={lid:Drupal.settings.bc_2eu_convert[Drupal.settings.bc_2eu_index]['lid'],side_lid:Drupal.settings.bc_2eu_convert[Drupal.settings.bc_2eu_index]['side_lid']};convert_design_id=Drupal.settings.bc_2eu_convert[Drupal.settings.bc_2eu_index]['logoID'];converted_designs_status[convert_design_id]=0;FLSBcardEUConvert.convertStandardBcId(Drupal.settings.bc_2eu_convert[Drupal.settings.bc_2eu_index]['logoID'],cfg);}}}
function sitesapi_validate_gandi(){}
function fls_store_checkout_form_freeorder_check(){var total=parseFloat(Drupal.settings.checkout_form.total_price);var shipping_option=$('#edit-shipping-method');var id=$(shipping_option).attr('id');var shipping_option=$('#'+id+' option:selected').attr('value');if(shipping_option!=undefined){total=total+parseFloat(Drupal.settings.checkout_form.shipping_methods[shipping_option]);}
if(total!='0.00'){return false;}
var total=parseFloat($('.upsells_new_total_price span').html());if(total!='0.00')
return false;return true;}
function fls_store_checkout_has_website(){if(typeof Drupal.settings.cart_has_website!='undefined'){if(parseInt(Drupal.settings.cart_has_website)>0){return true;}}
return false;}
function fls_store_checkout_has_domain(){if(typeof Drupal.settings.cart_has_domain!='undefined'){if(parseInt(Drupal.settings.cart_has_domain)>0){return true;}}
return false;}
function fls_store_checkout_form_freeorder_update_fields(){if(!fls_store_checkout_form_freeorder_check()||fls_store_checkout_has_website()||Drupal.settings.cart_has_subscription){$('#step-checkout1 .payment .head').css('font-size','16px');$('#step-checkout1 .content .description').show();$('#edit-payment-type').change();if(fls_store_checkout_has_website()){$('#edit-payment-type').val($('#edit-payment-type option:first').next().val()).change();}
return;}
$('#edit-payment-type').val($('#edit-payment-type option:first').next().val()).change();var exception_inputs='#edit-submit,#rsvErrors,.upsells_new_h2,.g-recaptcha';if(fls_store_checkout_form_freeorder_check()&&fls_store_checkout_has_domain()){exception_inputs=exception_inputs+', .billing_section_header';}
var shipping_exception_inputs="";if($('#edit-billing-as-shipping-billing-as-shipping').length>0){exception_inputs=exception_inputs+', .shipping_section_header, #edit-shipping-first-name, #edit-shipping-last-name, #store-edit-shipping-country, #edit-shipping-address, #edit-shipping-address2, #edit-shipping-city, #edit-shipping-zip, #edit-shipping-phone';shipping_exception_inputs=exception_inputs;}
else{$('#step-checkout1 .payment .head').css('font-size','0px');}
$('#fls-store-payment-form .form_table tr,.checkout_v2 #fls-store-payment-form .form_table .section>div, .checkout_v2 #fls-store-payment-form .form_table .section_header>div').each(function(){var is_hidden=null;is_hidden=$(this).find(exception_inputs);if(is_hidden.length==0){$(this).css('display','none');}else{$(this).css('display','');}});if(fls_store_checkout_form_freeorder_check()&&fls_store_checkout_has_domain()){$('#step-checkout1 .billing_section_header .head').css('font-size','16px');$('.billing_address').show();fls_store_checkout_form_update_state_fields();}else{var hideAllStates=1;fls_store_checkout_form_update_state_fields(hideAllStates);$('#step-checkout1 .content .description').hide();}
if(Drupal.settings.checkout_v2&&shipping_exception_inputs){console.log("shipping_exception_inputs: "+shipping_exception_inputs);$("#rsvErrors,"+shipping_exception_inputs).each(function(){$(this).parent().parent().prev('.shipping_label_cont').show();});$(".checkout_v2_redesign_shipping_country_placeholder").show();$("#section_shipping").removeClass("desktop-hide");$("#section_shipping").removeClass("mobile-hide");$("#section_shipping").show();}}
function fls_store_checkout_update_fields_by_vendor(){var payment_type_val=$(this).val();var vendor_name=Drupal.settings.checkout_form.available_vendors[payment_type_val];var payment_method=$('#payment-methods .payment-methods-options input:checked').val();if(vendor_name=='paypal'&&payment_method!='new_method')vendor_name='braintree';fls_store_checkout_form_pagbrasil_hide();switch(vendor_name){case'paypalapi':fls_store_checkout_form_paypalapi_update_fields();break;case'paypal':case'alipay':fls_store_checkout_form_paypal_update_fields();break;case'braintree':fls_store_checkout_form_braintree_update_fields();if(Drupal.settings.forced_pagbrasil){fls_store_checkout_form_pagbrasil_update_fields();}
if(fls_store_checkout_btpaypal_check()){var save_payment_status=$('#saving-card-details').is(':checked');var amount=$("#section_payment_cart .upsells_new_total_price span").html();if(!save_payment_status){fls_braintree_paypal_init(true,amount,Drupal.settings.user_currency_code);}
else
fls_braintree_paypal_init(false);fls_store_checkout_form_paypalbt_update_fields();}
break;case'moneybookers':fls_store_checkout_form_moneybookers_update_fields();break;case'pagbrasilcc':case'pagbrasilboleto':case'pagbrasildebit':fls_store_checkout_form_pagbrasil_update_fields();break;case'pagbrasilonline':fls_store_checkout_form_pagbrasilonline_update_fields();break;default:fls_store_checkout_form_paypalapi_update_fields();}
fls_store_checkout_update_braintree_customer();if(Drupal.settings.checkout_v2){collectBillingDetails();if(userBillingAddressChanged()&&!page_load){Drupal.settings.save_shipping_address=true;$('#edit-billing-as-shipping-billing-as-shipping').prop('checked',false);$(".braintree_err").show();}else{$(".braintree_err").hide();}}
if(Drupal.settings.current_country==36)$('.brasil_cpf').show();}
function fls_store_checkout_form_paypalapi_update_fields(){var exception_inputs='#edit-submit-paypal, .paypal_payment_section_header';$('#section_form .row.payment_field, #fls-store-payment-form .form_table tr, #fls-store-payment-form .form_table #section_shipping div, #fls-store-payment-form .form_table #section_billing div, #fls-store-payment-form .form_table #section_payment div').each(function(){var is_hidden=null;is_hidden=$(this).find(exception_inputs);if(is_hidden.length>0){$(this).css('display','none');}else{$(this).css('display','');}
if(Drupal.settings.checkout_v2&&$(this).hasClass("google_field")){if(!$("#cart_has_any_google_upsell_product").val()){$(this).hide();}else $(this).show();}
if(Drupal.settings.checkout_v2&&$(this).hasClass("uberall_field")){if($("#cart_has_uberall").val()==1){$(this).show();}else $(this).hide();}});if(Drupal.settings.checkout_v2)
$("#section_payment #section_payment_cart").show();$('#edit-security-code').parent().parent().prev().find('.required').css('display','');fls_store_checkout_form_update_state_fields();}
function fls_store_checkout_form_paypal_update_fields(){var exception_inputs='#edit-payment-type,  #edit-submit-paypal, #upsell_show_1, #rsvErrors, #payment-form-advance-2, #edit-email, #edit-password';if($('#edit-billing-as-shipping-billing-as-shipping').length>0){exception_inputs=exception_inputs+', .shipping_section_header, #edit-shipping-first-name, #edit-shipping-last-name, #store-edit-shipping-country, #edit-shipping-address, #edit-shipping-address2, #edit-shipping-city, #edit-shipping-zip, #edit-shipping-phone, .payment_section_header';}else{exception_inputs=exception_inputs+', #store-edit-country, .paypal_payment_section_header';}
$('#fls-store-payment-form .form_table tr, #fls-store-payment-form .form_table #section_billing .billing_address, #fls-store-payment-form .form_table #section_payment>div').each(function(){var is_hidden=null;is_hidden=$(this).find(exception_inputs);if(is_hidden.length==0){$(this).css('display','none');}else{$(this).css('display','');}});var hideAllStates=1;fls_store_checkout_form_update_state_fields(hideAllStates);}
function fls_store_checkout_form_paypalbt_update_fields(){var payment_method=$('#payment-methods .payment-methods-options input:checked').val();$('.pagbrasilboleto_field_hidden').hide();if($('#braintree-paypal-holder').length>0&&(payment_method=='new_method'||payment_method=='new_payment')){if(!Drupal.settings.checkout_v2){$('.checkout_total_container').parents('tr').hide();$('#braintree-paypal-holder').parents('tr').show();}else{$('.checkout_total_container').parents('.row').hide();$('#braintree-paypal-holder').parents('.row').show();}}}
function fls_store_checkout_form_braintree_update_fields(){fls_store_checkout_form_paypalapi_update_fields();if(Drupal.settings.cvv_required==0){$('#edit-security-code').parent().parent().prev().find('.required').css('display','none');}}
function fls_store_checkout_form_moneybookers_update_fields(){var exception_inputs='#edit-submit-paypal, #edit-card-number, #edit-security-code, #edit-expiration-date-mm, #edit-billing-address2, #stateus, #statecan, #statebr, #state, #edit-phone';$('#fls-store-payment-form .form_table tr, #fls-store-payment-form .form_table #section_billing div, #fls-store-payment-form .form_table #section_payment div').each(function(){var is_hidden=null;is_hidden=$(this).find(exception_inputs);if(is_hidden.length>0){$(this).css('display','none');}else{$(this).css('display','');}});var hideAll=1;fls_store_checkout_form_update_state_fields(hideAll);}
function fls_store_checkout_form_pagbrasil_update_fields(){fls_store_checkout_form_paypalapi_update_fields();$('.pagbrasil_field').show();if(fls_store_checkout_get_vendor_name()=='pagbrasilboleto')
$('.pagbrasilboleto_field_hidden').hide();else
$('.pagbrasilboleto_field_hidden').show();}
function fls_store_checkout_form_pagbrasilonline_update_fields(){fls_store_checkout_form_paypalapi_update_fields();$('.pagbrasil_field').show();if(fls_store_checkout_get_vendor_name()=='pagbrasilboleto')
$('.pagbrasilboleto_field_hidden').hide();else
$('.pagbrasilboleto_field_hidden').show();$('#edit-card-number,#edit-security-code,#edit-expiration-date-mm').parent().parent().parent().hide();}
function fls_store_checkout_form_pagbrasil_hide(){$('.pagbrasil_field').hide();if(fls_store_checkout_get_vendor_name()=='pagbrasilboleto')
$('.pagbrasilboleto_field_hidden').show();else
$('.pagbrasilboleto_field_hidden').hide();}
function fls_store_checkout_update_pabrasil_cpfcnpj(txt){var label=txt.toUpperCase();$('.pagbrasil_field #edit-cpfcnpj-code-label span.cpfcnpj_code_title').html(label);}
function fls_store_checkout_form_update_state_fields(hideAll){if(hideAll==undefined)hideAll=0;var country_id=parseInt($('#store-edit-country').val());for(var i in Drupal.settings.checkout_form.available_states_fields){$(Drupal.settings.checkout_form.available_states_fields[i]).parent().parent().parent().css('display','none');}
$('#edit-state').parent().parent().parent().css('display','none');if(!hideAll){if(Drupal.settings.checkout_form.available_states_fields[country_id]!=undefined){$(Drupal.settings.checkout_form.available_states_fields[country_id]).parent().parent().parent().css('display','');}else{$('#edit-state').parent().parent().parent().css('display','');}}
fls_store_checkout_form_update_shipping_state_fields();if($('#edit-billing-as-shipping-billing-as-shipping').length>0&&$('#edit-billing-as-shipping-billing-as-shipping').is(':checked')){if(!Drupal.settings.checkout_v2)$('.billing_address').hide();}}
function fls_store_checkout_form_update_shipping_state_fields(hideAll){if(hideAll==undefined)hideAll=0;var country_id=parseInt($('#store-edit-shipping-country').val());for(var i in Drupal.settings.checkout_form.available_shipping_states_fields){$(Drupal.settings.checkout_form.available_shipping_states_fields[i]).parent().parent().parent().css('display','none');}
$('#edit-shipping-state').parent().parent().parent().css('display','none');if(!hideAll){if(Drupal.settings.checkout_form.available_shipping_states_fields[country_id]!=undefined){$(Drupal.settings.checkout_form.available_shipping_states_fields[country_id]).parent().parent().parent().css('display','');}else{$('#edit-shipping-state').parent().parent().parent().css('display','');}}}
function fls_store_update_shipping(shipping_obj_dropdown,shipping_obj_dropdown2){if(shipping_obj_dropdown!=undefined&&shipping_obj_dropdown2!=undefined){var val=$(shipping_obj_dropdown).val();$(shipping_obj_dropdown2).val(val);$('.shipping_estimates_container').hide();$('.shipping_estimates_container .list').html('');if(Drupal.settings.shipping_estimates[val]!=undefined){for(var i in Drupal.settings.shipping_estimates[val]){$('.shipping_estimates_container .list').append('<p>'+Drupal.settings.shipping_estimates[val][i]['text']+'</p>');}
$('.shipping_estimates_container').show();}}
fls_store_checkout_form_freeorder_update_fields();}
function fls_store_update_price(shipping_obj_dropdown){var total;if(Drupal.settings.checkout_v2){total=$("#section_cart #original_price").val();}else total=Drupal.settings.original_total;var id=$(shipping_obj_dropdown).attr('id');var shipping_option=$('#'+id+' option:selected').attr('value');if(shipping_option!=undefined){total=parseFloat(total)+parseFloat(Drupal.settings.checkout_form.shipping_methods[shipping_option]);$('#shipping_price span').html(Drupal.settings.checkout_form.shipping_methods[shipping_option]);$('#checkout_shipping_total span, .upsells_new_total_price span').text(total.toFixed(2));fls_store_update_price_with_logo_upsells(total.toFixed(2));}else{fls_store_update_price_with_logo_upsells();}
fls_store_update_pagbrasil_price();fls_store_checkout_form_freeorder_update_fields();fls_store_apply_fix_coupon();update_order_total();if(typeof Drupal.settings.pagbrasil_charge_disclaimer_text!='undefined'){var total=parseFloat($('.upsells_new_total_price span').html());if(total<5){total+=5;$('.upsells_new_total_price span').html(total.toFixed(2));$('.pagbrasil_charge_disclaimer_text').show();}else{$('.pagbrasil_charge_disclaimer_text').hide();}}}
function fls_store_update_pagbrasil_price(){if(Drupal.settings.forced_pagbrasil_price!=undefined&&Drupal.settings.forced_pagbrasil_price>0){var total=parseFloat($('.upsells_new_total_price span').html());total=total/parseFloat(Drupal.settings.forced_pagbrasil_price);total=total.toFixed(2);$('.forced_pagbrasil_price').html(total);}}
function fls_store_get_total(){var shipping_option=$('#edit-shipping-method');var total=Drupal.settings.checkout_form.total_price;var total2;var id=$(shipping_option).attr('id');var shipping_option=$('#'+id+' option:selected').attr('value');if(shipping_option!=undefined){total=parseFloat(total)+parseFloat(Drupal.settings.checkout_form.shipping_methods[shipping_option]);$('#checkout_shipping_total span, .upsells_new_total_price span').text(total.toFixed(2));total2=total.toFixed(2)}else{total2=(0).toFixed(2);}
return total2;}
function proof_checkbox_default(){var id=$(this).attr('id');if(local_storage_get("confirm_proof_"+id,0)){$(this).prop('checked',true);$(this).parent().parent().parent().addClass('confirm_proof_content_green');$(this).parents('.confirm_proof_holder').addClass('confirm_proof_holder_checked');$('#form_'+id).val(1);}}
function proof_checkbox_click(){var isChecked=$(this).prop('checked');var id=$(this).attr('id');if(isChecked){$(this).parent().parent().parent().addClass('confirm_proof_content_green');$(this).parents('.confirm_proof_holder').addClass('confirm_proof_holder_checked');$('#form_'+id).val(1);local_storage_set("confirm_proof_"+id,true,new Date().date.getTime()+(5*60*1000))}else{$(this).parent().parent().parent().removeClass('confirm_proof_content_green');$(this).parents('.confirm_proof_holder').removeClass('confirm_proof_holder_checked');$('#form_'+id).val(0);local_storage_set("confirm_proof_"+id,null);}}
function custom_checkbox_click(){var id=$(this).attr('rel');if(id==undefined){id=$(this).attr(id);}
var isChecked=$('#'+id).prop('checked');if(!isChecked){$('#'+id).prop('checked',true).parent().parent().parent().addClass('confirm_proof_content_green');$('#form_'+id).val(1);}else{$('#'+id).prop('checked',false).parent().parent().parent().removeClass('confirm_proof_content_green');$('#form_'+id).val(0);}
$('.placeholder_custom_checkbox').each(function(){if(id==$(this).attr('rel')){$(this).each(custom_checkbox_placeholder_click);}});}
function custom_checkbox_placeholder_click(){var classNames=$(this).attr('class').split(' ');var classTheme='';for(var i in classNames){if(classNames[i]!='placeholder_custom_checkbox'&&classNames[i].indexOf('placeholder_custom_checkbox')>-1){classTheme=classNames[i];break;}}
if(classTheme){var rel=$(this).attr('rel');var classThemeOn=classTheme+'_on';var isOn=$(this).hasClass(classThemeOn);if(!isOn){$(this).addClass(classThemeOn);}else{$(this).removeClass(classThemeOn);}}}
function load_product_quantity_functions(element,element_id){$('#popup_item_'+element_id+' .popup_submit a').click(function(){if(!fls_store_popup_validate_sizes_quantity(element_id))
return false;fls_store_popup_set_form_init(element_id);var options=$("#shipping-up-js option");var idx=options.index(options.filter(":selected"));$('.shipping_hidden').val(idx);$('#fls-store-popup-form').submit();if(Drupal.settings.checkout_v2){hidePopup('product_quantity_popup');show_loading_overlay();}});fls_store_popup_prepare(element);fls_store_popup_set_price(element_id);$('.popup_item_select').change(function(){var id=$(this).parents('.popup_item').attr('id');id=id.split("_");id=id[2];fls_store_popup_set_price(id);});$('.popup_sizes_input input, .input_qty').change(function(){var id=$(this).attr('id');id=id.split("_");id=id[1];if(id!=undefined&&$.isNumeric(id)){fls_store_popup_set_price(id);fls_store_popup_check_quantity(id);fls_store_popup_validate_sizes_quantity(id);}});}
var PO_checkout={init:function(element){if($('.store_checkout_lightbox').length>0&&$('.overlay').length>0){PO_checkout.placePopUp(element);$('html, body').animate({scrollTop:0},'fast');$('.store_checkout_lightbox .close, .store_checkout_lightbox .noThankYou').click(PO_checkout.hidePopUp)}},placePopUp:function(element){var overlay=$('.overlay:first');var thankYouBox=$('.store_checkout_lightbox');$('.overlay, .store_checkout_lightbox').remove();var docH=$(document).height();var docW=$(document).width();overlay.css({"width":docW+"px","height":docH+"px"});thankYouBox.prependTo('body');overlay.prependTo('body');thankYouBox.show();var element_id=fls_store_popup_get_element_id(element);load_product_quantity_functions(element,element_id);var bW=$('.store_checkout_lightbox').width();var bH=$('.store_checkout_lightbox').height();var wW=$(window).width();var wH=$(window).height();bW=wW/2-bW/2;bH=wH/2-bH/2;$('.store_checkout_lightbox').css({left:bW,top:bH>40?bH:40});$('.overlay:first').show();$('.sizeIsNumber').unbind('keydown');$('.sizeIsNumber').keydown(function(evt){return allowOnlyNumbers(evt);});$('.sizeIsNumber').change(function(evt){return validateOnlyNumbers($(this),evt);});},hidePopUp:function(){$('.store_checkout_lightbox').hide();$('.overlay').hide();return false;}}
var LO_checkout={init:function(element){if($('.store_checkout_logo_lightbox').length>0&&$('.overlay').length>0){LO_checkout.placePopUp(element);$('html, body').animate({scrollTop:0},'fast');$('.store_checkout_logo_lightbox .close, .store_checkout_logo_lightbox .noThankYou, .store_checkout_logo_lightbox #continue_button').click(LO_checkout.hidePopUp)}},placePopUp:function(element){var overlay=$('.overlay:first');var thankYouBox=$('.store_checkout_logo_lightbox');$('.overlay, .store_checkout_logo_lightbox').remove();var docH=$(document).height();var docW=$(document).width();overlay.css({"width":docW+"px","height":docH+"px"});thankYouBox.prependTo('body');overlay.prependTo('body');thankYouBox.show();var bW=$('.store_checkout_logo_lightbox').width();var bH=$('.store_checkout_logo_lightbox').height();var wW=$(window).width();var wH=$(window).height();bW=wW/2-bW/2;bH=wH/2-bH/2;$('.store_checkout_logo_lightbox').css({left:bW,top:bH>40?bH:40});$('.overlay').show();},hidePopUp:function(){$('.store_checkout_logo_lightbox').hide();$('.overlay').hide();return false;}}
function fls_store_popup_prepare(element){var val;$('.popup_item').hide();var id=fls_store_popup_get_element_id(element);fls_store_popup_set_form_init(id);fls_store_popup_set_price(id);$('#popup_item_'+id+' .store_popup_default_selected').prop('selected',true);$('#popup_item_'+id+' .popup_sizes_input input').each(function(){val=$(this).attr('class').split('_').pop();$(this).val(val);});$('#popup_item_'+id).show();}
function fls_store_popup_get_element_id(element){var id=$(element).attr('href');id=id.split('=');id=id[1];if(!id>0)
return false;return id;}
function fls_store_popup_set_price(id){var quantity=0;var input_filter;if(Drupal.settings.checkout_v2){if($(".edited_men").is(":visible")||$(".edited_women").is(":visible")||$(".general").is(":visible"))input_filter='#popup_item_'+id+' .edited_men .popup_sizes_container input, #popup_item_'+id+' .edited_women .popup_sizes_container input,';else input_filter='#popup_item_'+id+' .original .popup_sizes_container input, ';}
else input_filter='#popup_item_'+id+' .popup_sizes_container input,';$(input_filter+'#popup_item_'+id+' .input_qty').each(function(){if(parseInt($(this).val())>0)
quantity=quantity+parseInt($(this).val());})
var price=0;if(quantity){fls_store_popup_check_quantity(id);price=parseFloat(fls_store_popup_get_price(id)*quantity).toFixed(2);}else{price=fls_store_popup_get_price(id);}
$('#popup_item_'+id+' .popup_item_total span').html(price);}
function fls_store_popup_get_price(id){return fls_store_popup_get_item_rel(id,1);}
function fls_store_popup_get_item_rel(id,i){var rel;rel=$('#popup_item_'+id+' select.popup_item_select option:selected').attr('rel');if(rel){rel=rel.split('_');return rel[i];}}
function fls_store_popup_get_range_quantity(id){if($('#popup_item_'+id+' .input_qty').length>0)
return $('#popup_item_'+id+' .input_qty').val();return 0;}
function fls_store_popup_get_sizes_quantity(id){return fls_store_popup_get_item_rel(id,0);}
function fls_store_popup_check_quantity(id){var sum=0;var input_filter;if(Drupal.settings.checkout_v2){if($(".edited_men").is(":visible")||$(".edited_women").is(":visible")||$(".general").is(":visible"))input_filter='#popup_item_'+id+' .edited_women .popup_sizes_input input,#popup_item_'+id+' .edited_men .popup_sizes_input input,';else input_filter='#popup_item_'+id+' .original .popup_sizes_input input,';}
else input_filter='#popup_item_'+id+' .popup_sizes_input input,';$(input_filter+'#popup_item_'+id+' .input_qty').each(function(){sum+=parseInt(($(this).val()?$(this).val():0),10);});$.each(Drupal.settings.quantity[id],function(key,value){if(sum>=value.min&&sum<=value.max)
$('#popup_item_'+id+' .popup_item_select').val(key);});}
function fls_store_popup_get_sizes_quantity_id(id){return $('#popup_item_'+id+' select.popup_item_select option:selected').val();}
function fls_store_popup_get_sizes_serialize(id){var string='';if(!($('#popup_item_'+id+' .popup_sizes_input input, #popup_item_'+id+' .input_qty').length>0))
return string;$('#popup_item_'+id+' .popup_sizes_input input, #popup_item_'+id+' .input_qty').each(function(){var id=$(this).attr('id');if(Drupal.settings.checkout_v2){var section_name="original_";if($(".edited_women").is(":visible")||$(".edited_men").is(":visible")||$(".general").is(":visible"))section_name="edited_";id=id.replace(section_name,"");}
string+=id+'_'+$(this).val()+'-';});return string;}
function fls_store_popup_check_sizes_quantity(id){var sum=0;var input_filter;if(Drupal.settings.checkout_v2){if($(".edited_men").is(":visible")||$(".edited_women").is(":visible")||$(".general").is(":visible"))input_filter='#popup_item_'+id+' .edited_men .popup_sizes_input input, #popup_item_'+id+' .edited_women .popup_sizes_input input,';else input_filter='#popup_item_'+id+' .original .popup_sizes_input input,';}
else input_filter='#popup_item_'+id+' .popup_sizes_input input,';if(!($(input_filter+'#popup_item_'+id+' .input_qty').length>0))
return true;if(Drupal.settings.checkout_v2){if($(".edited_men").is(":visible")||$(".edited_women").is(":visible")||$(".general").is(":visible"))input_filter='#popup_item_'+id+' .edited_men .popup_sizes_input input,#popup_item_'+id+' .edited_women .popup_sizes_input input,';else input_filter='#popup_item_'+id+' .original .popup_sizes_input input,';}
else input_filter='#popup_item_'+id+' .popup_sizes_input input,';$(input_filter+'#popup_item_'+id+' .input_qty').each(function(){if(isNaN($(this).val()))return false;sum+=parseInt(($(this).val()?$(this).val():0),10);});var option=$('#popup_item_'+id+' .popup_item_select').val();var not_error=false;min_qty=Drupal.settings.quantity[id][option].min;max_qty=Drupal.settings.quantity[id][option].max;if(sum>=min_qty&&sum<=max_qty)
not_error=true;if(parseInt(Drupal.settings.pp_qty)){var pid=$('#pid_'+id).val();if(pid){if(Drupal.settings.quantity_minimums[pid]!==undefined){if(sum<Drupal.settings.quantity_minimums[pid]){not_error=false;}}}}
return not_error;}
function fls_store_popup_validate_sizes_quantity(id){if(!fls_store_popup_check_sizes_quantity(id)){if(Drupal.settings.checkout_v2){if($("body.window_size_mobile").length&&($(".general").is(":visible")||$(".edited_women").is(":visible")||$(".edited_men").is(":visible")))$('#popup_item_'+id+' .mobile_edited.popup_sizes_warning').fadeIn('fast');else{$('#popup_item_'+id+' .popup_sizes_warning').fadeIn('fast');$('#popup_item_'+id+' .mobile_edited.popup_sizes_warning').hide();}}
else $('#popup_item_'+id+' .popup_sizes_warning').fadeIn('fast');return false;}
else{if(Drupal.settings.checkout_v2){if($("body.window_size_mobile").length&&($(".general").is(":visible")||$(".edited_women").is(":visible")||$(".edited_men").is(":visible")))$('#popup_item_'+id+' .mobile_edited.popup_sizes_warning').fadeOut('fast');else{$('#popup_item_'+id+' .popup_sizes_warning').fadeOut('fast');$('#popup_item_'+id+' .mobile_edited.popup_sizes_warning').hide();}}
else $('#popup_item_'+id+' .popup_sizes_warning').fadeOut('fast');return true;}}
function fls_store_popup_set_form_init(id){fls_store_popup_set_form_value('edit-product-id',id);fls_store_popup_set_form_value('edit-product-quantity',fls_store_popup_get_sizes_quantity_id(id));fls_store_popup_set_form_value('edit-product-range-qty',fls_store_popup_get_range_quantity(id));fls_store_popup_set_form_value('edit-product-sizes',fls_store_popup_get_sizes_serialize(id))}
function fls_store_popup_set_form_value(name,value){$('#fls-store-popup-form #'+name).val(value);}
function fls_store_update_country(){var country_id=$('#store-edit-country').val();if(parseInt(country_id)==parseInt(Drupal.settings.current_country))return;var payment_method=$('#payment-methods .payment-methods-options input:checked').val();if(payment_method=='new_payment'){local_storage_set("changed_country_new_payment",country_id,new Date().getTime()+(30*60*1000));}
else{local_storage_set("changed_country_bt_account",payment_method,new Date().getTime()+(30*60*1000));}
var country_id=$('#store-edit-country').val();$.ajax({url:Drupal.settings.basePath+Drupal.settings.checkout_form.update_country_url,type:"POST",data:({country_id:country_id,form_buld_id:$('input[name=form_build_id]').val(),first_name:$('input[name=first_name]').val(),last_name:$('input[name=last_name]').val(),address:$('input[name=billing_address]').val(),address2:$('input[name=billing_address2]').val(),city:$('input[name=city]').val(),state:$('input[name=state]').val(),zip:$('input[name=zip]').val(),phone:$('input[name=phone]').val(),order_logos:$('#edit-order-logos').val(),change_country:'1'}),dataType:"json",success:function(data){var url=window.location.toString();if(!Drupal.settings.checkout_v2)
window.location=url.replace('#','');else window.location=url.split("#")[0];}});}
function fls_store_check_update_country(){if(Drupal.settings.checkout_v2)checkout_v2_redesign_init("section_billing");if(Drupal.settings.autologin_user&&!Drupal.settings.autologin_user_proceed){if(current_country.length)
current_country.prop("selected",true);PROMPTPASSWORD_POPUP.init();return false;}
var country_id=$('#store-edit-country').val();if(parseInt(country_id)!=parseInt(Drupal.settings.current_country)){show_loading_overlay();$.ajax({url:Drupal.settings.basePath+Drupal.settings.checkout_form.update_country_url,type:"POST",data:({country_id:country_id}),dataType:"json",success:function(data){if(data.cart_will_change==0){fls_store_update_country();}
else
{fls_store_confirm_country_change(data)}}});}}
function fls_store_confirm_country_change(data){var res=confirm(data.text)
if(res==true){fls_store_update_country();}
else{$('#store-edit-country').val(Drupal.settings.current_country);$('#TB_overlay').remove();$('#TB_window').remove();}}
function fls_store_update_price_with_logo_upsells(total_price){var newprice=fls_store_get_price_with_logo_upsells(total_price);fls_store_set_price_with_logo_upsells(newprice);fls_store_checkout_form_freeorder_update_fields();}
function fls_store_set_price_with_logo_upsells(price){price=parseFloat(price);$('.upsells_new_total_price > span').html(price.toFixed(2));fls_store_get_tax_estimate();}
function fls_store_get_upsell_price(id){var orig_id=id;id=parseInt(id);if(isNaN(id))id=orig_id;if(typeof Drupal.settings.additional_offers!='undefined'&&typeof Drupal.settings.additional_offers[id]!='undefined'){var upsell_price=Drupal.settings.additional_offers[id]['price'][Drupal.settings.upsell_country];if(upsell_price==undefined){upsell_price=Drupal.settings.additional_offers[id]['default_price'];}}
if(upsell_price!=undefined){upsell_price=parseFloat(upsell_price);}else{upsell_price=0;}
var upsell_details_for_taxes={product_id:id,quantity:1};if($.inArray(id,Drupal.settings.website_services.google)>-1){var seat_price=parseFloat(Drupal.settings.google_seat_prices[id]);var extra_seats=parseInt($('#edit-google-seats-'+id).val());if(Drupal.settings.checkout_v2){var cart_total=$("#original_cart_total").val();cart_total=cart_total*1+(seat_price*(extra_seats-1));cart_total=cart_total.toFixed(2);$("#section_cart #shipping_prod_total span").html(parseFloat(cart_total));}
upsell_price+=seat_price*(extra_seats-1);upsell_details_for_taxes['extra_seats']=extra_seats-1;}
if($.inArray(id,Drupal.settings.website_services.weebly)>-1){var weebly_pack_id=0;if($('#weebly_packs_'+id).length>0){weebly_pack_id=parseInt($('#weebly_packs_'+id).val());}
if(!weebly_pack_id&&typeof Drupal.settings.weebly_pack_id!='undefined'){weebly_pack_id=parseInt(Drupal.settings.weebly_pack_id);}
upsell_details_for_taxes['weebly_pack_id']=weebly_pack_id;if(typeof Drupal.settings.weebly_packages!='undefined'&&typeof Drupal.settings.weebly_packages[weebly_pack_id]!='undefined'){upsell_price+=parseFloat(Drupal.settings.weebly_packages[weebly_pack_id]['price_no_currency']);}}
if(typeof Drupal.settings.additional_offers[id]!='undefined'&&typeof Drupal.settings.additional_offers[id]['with_attrs']!='undefined'){upsell_details_for_taxes['attrs']=Drupal.settings.additional_offers[id]['with_attrs'];}
if(typeof Drupal.settings.fls_taxes_selected_upsells!='undefined'&&typeof Drupal.settings.additional_offers[id]!='undefined')Drupal.settings.fls_taxes_selected_upsells[id]=upsell_details_for_taxes;upsell_price=parseFloat(upsell_price);return upsell_price;}
function fls_store_get_price_with_logo_upsells(total_price,upsell_only){if(total_price!=undefined){var pricetext=total_price;}else{var pricetext;if(Drupal.settings.checkout_v2)
pricetext=$("#section_cart #original_price").val();else pricetext=Drupal.settings.original_total;}
var newprice=parseFloat(pricetext);var upsell_extra=0;var isCheckedGlobal=0;$('.upsells_new_check_logo input').each(function(){var id=$(this).attr('id');var isChecked=$(this).prop('checked');if(isChecked){isCheckedGlobal=1;var upsell_price=fls_store_get_upsell_price(id);if($(".cart_total_price span").length)$(".cart_total_price span").html(($("#original_cart_total").val()*1+upsell_price*1).toFixed(2));if(upsell_price!=undefined){upsell_extra=upsell_extra+upsell_price;newprice=newprice+upsell_price;newprice=newprice.toFixed(2);newprice=parseFloat(newprice);}}});$('.checkout_left_wrapper .checkout_element_websites, #section_products .checkout_element_websites').each(function(){var id=$(this).attr('rel');if(typeof id!='undefined'&&id){var upsell_price=fls_store_get_upsell_price(id);if($(".cart_total_price span").length)$(".cart_total_price span").html(($("#original_cart_total").val()*1+upsell_price*1).toFixed(2));if(upsell_price!=undefined){newprice=newprice+upsell_price;}}});if(upsell_only)
return upsell_extra;if(!isCheckedGlobal){newprice=newprice.toFixed(2);}
return newprice;}
function fls_store_checkout_order_total_check(){var total_price=fls_store_get_total();if(!Drupal.settings.promo_code_upsells)return;var extra=fls_store_get_price_with_logo_upsells(total_price,true);var shipping_option=$('#shipping-up-js option:selected').attr('value');var shipping_price=0;if(shipping_option!=undefined){extra+=parseFloat(Drupal.settings.checkout_form.shipping_methods[shipping_option]);}
$.ajax({url:Drupal.settings.basePath+'coupons-order-total',type:"POST",data:({extra:extra}),dataType:"json",success:function(data){order_total_check_flag=0;$('.upsells_new_check_logo input').removeAttr('disabled');fls_store_set_price_with_logo_upsells(data.total);fls_store_checkout_form_freeorder_update_fields();},error:function(data){order_total_check_flag=0;$('.upsells_new_check_logo input').removeAttr('disabled');}});}
function initUserBillingDetails(account_id){var fields=["firstname","lastname","phone","address2","address","address3","address4","state","city","zipcode"];if(account_id=="new_payment"){for(i=0;i<fields.length;i++){if(fields[i]=="firstname")Drupal.settings.address_entered_by_user_changed["firstname"]=$('#edit-first-name').val();else if(fields[i]=="lastname")Drupal.settings.address_entered_by_user_changed["lastname"]=$('#edit-last-name').val();else if(fields[i]=="address")Drupal.settings.address_entered_by_user_changed["address"]=$('#edit-billing-address').val();else if(fields[i]=="address2")Drupal.settings.address_entered_by_user_changed["address2"]=$('#edit-billing-address2').val();else if(fields[i]=="zipcode")Drupal.settings.address_entered_by_user_changed["zipcode"]=$('#edit-zip').val();else Drupal.settings.address_entered_by_user_changed[fields[i]]=$('#edit-'+fields[i]).val();}}else
if(typeof account_id=="undefined"){var payment_method=$('#payment-methods .payment-methods-options input:checked').val();if(payment_method!='new_payment')
account_id=payment_method;}
var braintree=Drupal.settings.braintree_account[account_id];var fields=["firstname","lastname","phone","address2","address","address3","address4","state","state","zipcode"];if(Drupal.settings.braintree_account[account_id])
for(i=0;i<fields.length;i++){if(fields[i]=="state"){Drupal.settings.address_entered_by_user_changed['stateus']=braintree['state'];Drupal.settings.address_entered_by_user_changed['statecan']=braintree['state'];Drupal.settings.address_entered_by_user_changed['statebr']=braintree['state'];}else{Drupal.settings.address_entered_by_user_changed[fields[i]]=braintree[fields[i]];}}}
function fls_store_checkout_update_braintree_customer(account_id){Drupal.settings.updated_billing_details=false;if(!account_id){var payment_method=$('#payment-methods .payment-methods-options input:checked').val();if(payment_method!='new_payment')
account_id=payment_method;else if(Drupal.settings.checkout_v2)initUserBillingDetails("new_payment");}
account_id=account_id;if(!Drupal.settings.braintree_account[account_id])
return false;var fill=Drupal.settings.checkout_form.after_validate==undefined;var available_vendors=Drupal.settings.checkout_form['available_vendors'];var selected_vendor=$('#edit-payment-type').find(":selected").val();if(available_vendors[selected_vendor]!='braintree'){$("#edit-card-number").val('');$('#edit-security-code').val('');var today=new Date();$('#edit-expiration-date-mm').val(today.getMonth()+1);$('#edit-expiration-date-yy').val(today.getFullYear());return false;}
if(page_load){initUserBillingDetails(account_id);}
var braintree=Drupal.settings.braintree_account[account_id];if(Drupal.settings.checkout_v2&&Drupal.settings.billing_edited){if(braintree['firstname']&&fill){if($('#edit-first-name').val()!=braintree['firstname'])Drupal.settings.updated_billing_details=true;}
if(braintree['lastname']&&fill){if($('#edit-last-name').val()!=braintree['lastname'])Drupal.settings.updated_billing_details=true;}
if(braintree['phone']&&fill){if($('#edit-phone').val()!=braintree['phone'])Drupal.settings.updated_billing_details=true;}
if(braintree['address']&&fill){if($('#edit-billing-address').val()!=braintree['address'])Drupal.settings.updated_billing_details=true;}
if(braintree['address2']&&fill){if($('#edit-billing-address2').val()!=braintree['address2'])Drupal.settings.updated_billing_details=true;}
if(braintree['city']&&fill){if($('#edit-city').val()!=braintree['city'])Drupal.settings.updated_billing_details=true;}
if(braintree['state']&&fill){if($('#edit-state').val()!=braintree['state'])Drupal.settings.updated_billing_details=true;}
if(braintree['zipcode']&&fill){if($('#edit-zip').val()!=braintree['zipcode'])Drupal.settings.updated_billing_details=true;}}
if(Drupal.settings.checkout_v2&&Drupal.settings.updated_billing_details){$('#payment-methods .new_payment_method').prop('checked',true).change();return false;}
var valid_address=true;if(braintree['country_id']==36){valid_address=false;if(typeof Drupal.settings.billing_brasil_address!='undefined'){if(braintree['address'].toLowerCase()==Drupal.settings.billing_brasil_address.formated.address.toLowerCase()){valid_address=true;}}}
if(braintree['firstname']&&fill)
if($('#edit-first-name').val()!=braintree['firstname']){Drupal.settings.updated_billing_details=true;if(Drupal.settings.address_entered_by_user_changed!=undefined&&!page_load)
Drupal.settings.address_entered_by_user_changed.firstname=$('#edit-first-name').val();$('#edit-first-name').val(braintree['firstname']);}
if(braintree['lastname']&&fill)
if($('#edit-last-name').val()!=braintree['lastname']){if(Drupal.settings.address_entered_by_user_changed!=undefined&&!page_load)
Drupal.settings.address_entered_by_user_changed.lastname=$('#edit-last-name').val();$('#edit-last-name').val(braintree['lastname']);}
$("#edit-card-number").val(braintree['maskednumber']);$("#edit-security-code").val('000');if(braintree['expirationmonth'])
if($('#edit-expiration-date-mm').val()!=braintree['expirationmonth']&&fill)
$('#edit-expiration-date-mm').val(parseInt(braintree['expirationmonth']));if(braintree['expirationyear']&&fill)
if($('#edit-expiration-date-yy').val()!=braintree['expirationyear'])
$('#edit-expiration-date-yy').val(braintree['expirationyear']);if(braintree['phone']&&fill)
if($('#edit-phone').val()!=braintree['phone']){if(Drupal.settings.address_entered_by_user_changed!=undefined&&!page_load)
Drupal.settings.address_entered_by_user_changed.phone=$('#edit-phone').val();$('#edit-phone').val(braintree['phone']);}
if(braintree['address2']&&fill){if($('#edit-billing-address2').val()!=braintree['address2']&&valid_address){if(Drupal.settings.address_entered_by_user_changed!=undefined&&!page_load){Drupal.settings.address_entered_by_user_changed.address2=$('#edit-billing-address2').val();}
$('#edit-billing-address2').val(braintree['address2']);}}
var address_same_with_barintree_address=true;if(braintree['address']&&fill){if($('#edit-billing-address').val()!=braintree['address']&&valid_address){if(Drupal.settings.address_entered_by_user_changed!=undefined&&!page_load){Drupal.settings.address_entered_by_user_changed.address=$('#edit-billing-address').val();if(braintree['country_id']==36&&typeof Drupal.settings.billing_brasil_address!='undefined'){Drupal.settings.address_entered_by_user_changed.address=$('#edit-billing-address').val()+" "+Drupal.settings.address_entered_by_user_changed.address2+", "+$('#edit-billing-address3').val();}}
address_same_with_barintree_address=false;$('#edit-billing-address').val(braintree['address']);if(braintree['country_id']==36&&typeof Drupal.settings.billing_brasil_address!='undefined'){if(Drupal.settings.address_entered_by_user_changed!=undefined&&!page_load){Drupal.settings.address_entered_by_user_changed.address2=$('#edit-billing-address2').val();Drupal.settings.address_entered_by_user_changed.address3=$('#edit-billing-address3').val();Drupal.settings.address_entered_by_user_changed.address4=$('#edit-billing-address4').val();}
$('#edit-billing-address').val(Drupal.settings.billing_brasil_address.splited.billing_address);$('#edit-billing-address2').val(Drupal.settings.billing_brasil_address.splited.billing_address2);$('#edit-billing-address3').val(Drupal.settings.billing_brasil_address.splited.billing_address3);$('#edit-billing-address4').val(Drupal.settings.billing_brasil_address.splited.billing_address4);}}}
if(braintree['city']&&fill)
if($('#edit-city').val()!=braintree['city']){if(Drupal.settings.address_entered_by_user_changed!=undefined&&!page_load)
Drupal.settings.address_entered_by_user_changed.city=$('#edit-city').val();$('#edit-city').val(braintree['city']);}
if(braintree['state']&&fill)
if($('#edit-state').val()!=braintree['state']){if(Drupal.settings.address_entered_by_user_changed!=undefined&&!page_load){Drupal.settings.address_entered_by_user_changed.state=$('#edit-state').val();Drupal.settings.address_entered_by_user_changed.stateus=$('#edit-stateus').val();Drupal.settings.address_entered_by_user_changed.statecan=$('#edit-statecan').val();Drupal.settings.address_entered_by_user_changed.statebr=$('#edit-statebr').val();}
$('#edit-state').val(braintree['state']);$('#edit-stateus').val(braintree['state']);$('#edit-stateus').val(braintree['state']);$('#edit-statecan').val(braintree['state']);$('#edit-statecan').val(braintree['state']);$('#edit-statebr').val(braintree['state']);$('#edit-statebr').val(braintree['state']);}
if(braintree['zipcode']&&fill){if($('#edit-zip').val()!=braintree['zipcode']&&braintree['zipcode']!='---'){if(Drupal.settings.address_entered_by_user_changed!=undefined&&!page_load)
Drupal.settings.address_entered_by_user_changed.zipcode=$('#edit-zip').val();$('#edit-zip').val(braintree['zipcode']);}}
page_load=false;}
function get_default_payment_method(){var default_payment=false;if(!objectIsEmpty(Drupal.settings.braintree_account)){$.each(Drupal.settings.braintree_account,function(key,value){console.log(value.default);if(value.default===true){default_payment=value;}});}
return default_payment;}
function fls_store_payment_method_init(){var country_id=parseInt($('#store-edit-country').val());var default_payment=get_default_payment_method();if(default_payment){$('input[name="payment_methods"][value="'+default_payment.token+'"]').prop('checked',true).change();}else{$('#payment-methods .payment-methods-options input:first').prop('checked',true).change();}
if(local_storage_get("changed_country_new_payment",0)){local_storage_set("changed_country_new_payment",null);return;}
if(local_storage_get("changed_country_bt_account",0)){RadionButtonSelectedValueSet('payment_methods',local_storage_get("changed_country_bt_account",0));$('#payment-methods .payment_method_radio input:first').change();local_storage_set("changed_country_bt_account",null);return;}
if(!Drupal.settings.autologin_user&&Drupal.settings.checkout_form.after_validate==undefined){if(default_payment){$('input[name="payment_methods"][value="'+default_payment.token+'"]').prop('checked',true).change();}else{$('#payment-methods .payment_method_radio input:first').prop('checked',true).change();}}}
function RadionButtonSelectedValueSet(name,SelectdValue){$('input[name="'+name+'"][value="'+SelectdValue+'"]').prop('checked',true);}
function fls_store_payment_method_update(){var payment_method=$('#payment-methods .payment-methods-options input:checked').val();if(Drupal.settings.checkout_v2){var page=window.location.href.split('#')[1];if(page=='section_upsells'){$('#fls-store-payment-form #section_upsells.form_table').css('display','block')}else $('#fls-store-payment-form #section_form_data.form_table').css('display','block');}else $('#fls-store-payment-form .form_table').css('display','block');if(payment_method=='new_payment'){fls_store_payment_method_update_clear_all();$('#edit-braintree-payment-method').val('none');$('#fls-store-payment-form table tr, #fls-store-payment-form .form_table tr, #fls-store-payment-form .form_table #section_billing div, #fls-store-payment-form .form_table #section_payment div,#fls-store-payment-form .form_table #section_payment div').removeClass('checkout_hide_row');if(typeof Drupal.settings.braintree_hosted_fields!='undefined'&&Drupal.settings.braintree_hosted_fields){$('#edit-submit-braintree-hosted-fields, #edit-submit').hide();$('#edit-submit-braintree-hosted-fields').show();}
fls_store_checkout_form_freeorder_update_fields();if(Drupal.settings.checkout_v2){$("#edit-payment-type option:eq(1)").prop('selected',true);$('#edit-payment-type').trigger("change");if($("#has_shipping").val()==1){if(!$("#section_billing").is(":visible")){$(".section_billing_header .edit").show();}
$(".section_billing_header").show();$(".section_shipping_header").show();}else{$(".section_billing_header").show();if(!$("#section_billing").is(":visible")){$(".section_billing_header .checked").show();$(".section_billing_header .edit").show();}}}}
else{if(Drupal.settings.checkout_v2){if($("#has_shipping").val()==1){$(".section_billing_header").show();$(".section_shipping_header").show();if(!$("#section_billing").is(":visible")){$(".section_billing_header .edit").show();}}else{console.log("SHOW: "+$("#has_shipping").val());$(".section_billing_header").show();if(!$("#section_billing").is(":visible")){$(".section_billing_header .checked").show();$(".section_billing_header .edit").show();}}}
if(Drupal.settings.autologin_user&&!Drupal.settings.autologin_user_proceed){page_load=false;PROMPTPASSWORD_POPUP.init();return;}
fls_store_payment_method_save_default();if(Drupal.settings.braintree_account[payment_method]){$("#edit-payment-type option").filter(function(){return this.text==Drupal.settings.braintree_account[payment_method]['payment_type_name'];}).prop('selected',true);$('#edit-payment-type').trigger("change");if($('#edit-payment-type').val()==='0')
$('#edit-payment-type').val(Drupal.settings.previous_payment_type).change();}
else{$('#edit-payment-type').val(Drupal.settings.previous_payment_type).change();}
$('#edit-braintree-payment-method').val(payment_method);if(!parseInt($('#edit-payment-type').val())){var edit_payment_option;$('#edit-payment-type option').each(function(){if($(this).text().toLowerCase()==Drupal.settings.braintree_account[payment_method]['payment_type_name'].toLowerCase())
edit_payment_option=$(this).val();});$('#edit-payment-type').val(edit_payment_option);}
var country_id=$('#store-edit-country').val();if(Drupal.settings.braintree_account[payment_method]['country_id']&&Drupal.settings.braintree_account[payment_method]['country_id']!=country_id){$('#store-edit-country').val(Drupal.settings.braintree_account[payment_method]['country_id']).change();}
$('#fls-store-payment-form table tr .checkout_show_row').each(function(){$(this).parents('tr').addClass('checkout_show_row');});if(Drupal.settings.checkout_v2){$('#fls-store-payment-form #section_payment>div:not(.checkout_show_row),#fls-store-payment-form #section_shipping>div:not(.checkout_show_row),#fls-store-payment-form #section_billing>div:not(.checkout_show_row)').addClass('checkout_hide_row');$(".tld_field_row").show();$(".tld_field_row").removeClass("checkout_hide_row");if(Drupal.settings.current_country==36){$("#fls-store-payment-form #section_payment .brasil_cpf").removeClass('checkout_hide_row');}
collectBillingDetails();collectShippingDetails();}
else $('#fls-store-payment-form table tr:not(.checkout_show_row)').addClass('checkout_hide_row');if(typeof Drupal.settings.braintree_hosted_fields!='undefined'&&Drupal.settings.braintree_hosted_fields){$('#edit-submit-braintree-hosted-fields, #edit-submit').hide();$('#edit-submit').show().css('visibility','visible');}}}
function fls_store_payment_method_save_default(){Drupal.settings.payment_default={};Drupal.settings.payment_default['edit-expiration-date-mm']=$('#edit-expiration-date-mm').val();Drupal.settings.payment_default['edit-expiration-date-yy']=$('#edit-expiration-date-yy').val();Drupal.settings.payment_default['edit-billing-address']=$('#edit-billing-address').val();Drupal.settings.payment_default['edit-billing-address2']=$('#edit-billing-address2').val();Drupal.settings.payment_default['edit-first-name']=$('#edit-first-name').val();Drupal.settings.payment_default['edit-last-name']=$('#edit-last-name').val();Drupal.settings.payment_default['edit-city']=$('#edit-city').val();Drupal.settings.payment_default['edit-zip']=$('#edit-zip').val();Drupal.settings.payment_default['edit-phone']=$('#edit-phone').val();Drupal.settings.payment_default['edit-stateus']=$('#edit-stateus').val();Drupal.settings.payment_default['edit-statecan']=$('#edit-statecan').val();Drupal.settings.payment_default['edit-statebr']=$('#edit-statebr').val();Drupal.settings.payment_default['edit-state']=$('#edit-state').val();Drupal.settings.payment_default['edit-payment-type']=$('#edit-payment-type').val();}
function fls_store_payment_method_update_clear_all(){$('#edit-card-number').val('');$('#edit-security-code').val('');$('#edit-payment-type').val((typeof(Drupal.settings.payment_default)!='undefined')?Drupal.settings.payment_default['edit-payment-type']:0).change();var today=new Date();if(typeof(Drupal.settings.payment_default)!='undefined')
$('#edit-expiration-date-mm').val(Drupal.settings.payment_default['edit-expiration-date-mm']);else
$('#edit-expiration-date-mm').val(today.getMonth()+1);if(typeof(Drupal.settings.payment_default)!='undefined')
$('#edit-expiration-date-yy').val(Drupal.settings.payment_default['edit-expiration-date-yy']);else
$('#edit-expiration-date-yy').val(today.getFullYear());if(objectIsEmpty(Drupal.settings.braintree_account)||!Drupal.settings.autologin_user)
return;$('#edit-billing-address').val((typeof(Drupal.settings.payment_default)!='undefined')?Drupal.settings.payment_default['edit-billing-address']:'');$('#edit-billing-address2').val((typeof(Drupal.settings.payment_default)!='undefined')?Drupal.settings.payment_default['edit-billing-address2']:'');$('#edit-first-name').val((typeof(Drupal.settings.payment_default)!='undefined')?Drupal.settings.payment_default['edit-first-name']:'');$('#edit-last-name').val((typeof(Drupal.settings.payment_default)!='undefined')?Drupal.settings.payment_default['edit-last-name']:'');$('#edit-city').val((typeof(Drupal.settings.payment_default)!='undefined')?Drupal.settings.payment_default['edit-city']:'');$('#edit-zip').val((typeof(Drupal.settings.payment_default)!='undefined')?Drupal.settings.payment_default['edit-zip']:'');$('#edit-phone').val((typeof(Drupal.settings.payment_default)!='undefined')?Drupal.settings.payment_default['edit-phone']:'');$('#edit-stateus').val((typeof(Drupal.settings.payment_default)!='undefined')?Drupal.settings.payment_default['edit-stateus']:'');$('#edit-statecan').val((typeof(Drupal.settings.payment_default)!='undefined')?Drupal.settings.payment_default['edit-statecan']:'');$('#edit-statebr').val((typeof(Drupal.settings.payment_default)!='undefined')?Drupal.settings.payment_default['edit-statebr']:'');$('#edit-state').val((typeof(Drupal.settings.payment_default)!='undefined')?Drupal.settings.payment_default['edit-state']:'');fls_store_checkout_form_freeorder_update_fields();}
function fls_store_payment_method_check_password(){$('.checkout_autologin tr.checkout_autologin_failed td').hide();if(!$('#checkout_autologin_password').val()){$('.checkout_autologin tr.checkout_autologin_failed td').show();return;}
$.ajax({url:Drupal.settings.basePath+'autologin-confirm-password',type:"POST",data:({value:$('#checkout_autologin_password').val()}),dataType:"json",success:function(data){Drupal.settings.autologin_user=0;fls_store_payment_method_update();CHECKOUT_AUTOLOGIN.hidePopUp();},error:function(data){$('.checkout_autologin tr.checkout_autologin_failed td').show();}});return;}
function objectIsEmpty(obj){if(obj==null)return true;if(obj.length>0)return false;if(obj.length===0)return true;for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))return false;}
return true;}
var BC_FREE={init:function(){if($('.store_card_options_lightbox').length>0&&$('.overlay').length>0){BC_FREE.placePopUp();$('.store_card_options_lightbox .close').click(function(){BC_FREE.hidePopUp();});$('.store_card_options_lightbox .fls-bluebutton').click(function(){BC_FREE.hidePopUp();});$('.store_card_options_lightbox .bc-free-orange-btn').click(function(){fls_events_add('bc50_checkout_popup');});}},placePopUp:function(){var overlay=$('.overlay');var thankYouBox=$('.thankYouBox.store_card_options_lightbox');$('.overlay, .thankYouBox.store_card_options_lightbox').remove();var docH=$(document).height();var docW=$(document).width();overlay.css({"width":docW+"px","height":docH+"px"});thankYouBox.prependTo('body');overlay.prependTo('body');overlay.show();thankYouBox.show();var bW=$('.thankYouBox.store_card_options_lightbox').width();var bH=$('.thankYouBox.store_card_options_lightbox').height();var wW=$(window).width();var wH=$(window).height();bW=wW/2-bW/2;bH=wH/2-bH/2;$('.thankYouBox.store_card_options_lightbox').css({left:bW,top:bH>40?bH:40});},hidePopUp:function(){$('.thankYouBox.store_card_options_lightbox').fadeOut();$('.overlay').fadeOut();$('.thankYouBox.store_card_options_lightbox').remove();$('.overlay').hide();return false;}}
var LOGOUP={init:function(){var checkut_popup_version="";if(Drupal.settings.checkout_v2)checkut_popup_version="_v2";if($('.thankYouBox.logo_upsell_popup'+checkut_popup_version).length>0&&$('.overlay').length>0){LOGOUP.placePopUp();var right_click=new right_click_disabled();right_click.apply($('.logo_preview img'));$('.thankYouBox.logo_upsell_popup'+checkut_popup_version+' .close').click(function(){LOGOUP.hidePopUp();});$('.thankYouBox.logo_upsell_popup'+checkut_popup_version+' .hide-popup , .thankYouBox.logo_upsell_popup'+checkut_popup_version+' .noThankYou ').click(function(){LOGOUP.hidePopUp();});}},placePopUp:function(){var checkut_popup_version="";if(Drupal.settings.checkout_v2)checkut_popup_version="_v2";var overlay=$('.overlay:first');var thankYouBox=$('.thankYouBox.logo_upsell_popup'+checkut_popup_version);$('.overlay, .thankYouBox.logo_upsell_popup'+checkut_popup_version).remove();var docH=$(document).height();var docW=$(document).width();overlay.css({"width":docW+"px","height":docH+"px"});thankYouBox.prependTo('body');overlay.prependTo('body');overlay.show();var bW=$('.thankYouBox.logo_upsell_popup'+checkut_popup_version).width();var bH=$('.thankYouBox.logo_upsell_popup'+checkut_popup_version).height();var wW=$(window).width();var wH=$(window).height();bW=wW/2-bW/2;bH=wH/2-bH/2;$('.thankYouBox.logo_upsell_popup'+checkut_popup_version).css({left:bW,top:bH>40?bH:40});thankYouBox.show();},hidePopUp:function(){var checkut_popup_version="";if(Drupal.settings.checkout_v2)checkut_popup_version="_v2";$('.thankYouBox.logo_upsell_popup'+checkut_popup_version).fadeOut();$('.overlay').fadeOut();$('.thankYouBox.logo_upsell_popup'+checkut_popup_version).remove();$('.overlay').hide();$('.remove_item_cart_free').each(function(){var href=$(this).attr('href');window.location=href;});return false;}}
var CHECKOUT_AUTOLOGIN={init:function(){if($('.thankYouBox.checkout_autologin').length>0&&$('.overlay').length>0){CHECKOUT_AUTOLOGIN.placePopUp();$('.thankYouBox.checkout_autologin .close').click(function(){$('#payment-methods .payment-methods-options input:first').prop('checked',true).change();CHECKOUT_AUTOLOGIN.hidePopUp();});}
$('#edit-autologin-pass').val('');$('#checkout_autologin_password').val('');$("html, body").animate({scrollTop:0},500);$('#checkout_autologin_submit').click(fls_store_autologin_submit);$('.checkout_autologin_fields input').keypress(function(e){if(e.which==13)fls_store_autologin_submit()});},placePopUp:function(){var overlay=$('.overlay');var thankYouBox=$('.thankYouBox.checkout_autologin');$('.overlay, .thankYouBox.checkout_autologin').remove();var docH=$(document).height();var docW=$(document).width();overlay.css({"width":docW+"px","height":docH+"px"});thankYouBox.prependTo('body');overlay.prependTo('body');overlay.show();var bW=$('.thankYouBox.checkout_autologin').width();var bH=$('.thankYouBox.checkout_autologin').height();var wW=$(window).width();var wH=$(window).height();bW=wW/2-bW/2;bH=wH/2-bH/2;$('.thankYouBox.checkout_autologin').css({left:bW,top:bH>40?bH:40});thankYouBox.show();},hidePopUp:function(){$('.thankYouBox.checkout_autologin').fadeOut();$('.overlay').fadeOut();$('.thankYouBox.checkout_autologin').hide();$('.overlay').hide();return false;}}
function update_shipping_address(same_as_billing){if(same_as_billing==undefined)same_as_billing=true;if(Drupal.settings.save_shipping_address&&!$('#edit-billing-as-shipping-billing-as-shipping').is(':checked'))return;if($('#edit-billing-as-shipping-billing-as-shipping').length&&same_as_billing){if($('#edit-billing-as-shipping-billing-as-shipping').is(':checked')){if($('#edit-first-name').val())
$('#edit-shipping-first-name').val($('#edit-first-name').val());if($('#edit-last-name').val())
$('#edit-shipping-last-name').val($('#edit-last-name').val());if($('#edit-billing-address').val())
$('#edit-shipping-address').val($('#edit-billing-address').val());$('#edit-shipping-address2').val($('#edit-billing-address2').val());if($('#edit-billing-address3').length>0){$('#edit-shipping-address3').val($('#edit-billing-address3').val());}
if($('#edit-billing-address4').length>0){$('#edit-shipping-address4').val($('#edit-billing-address4').val());}
if($('#edit-city').val())
$('#edit-shipping-city').val($('#edit-city').val());if($('#edit-state').length>0&&$('#edit-state').val()){$('#edit-shipping-state').val($('#edit-state').val());}
if($('#edit-stateus').length>0&&$('#edit-stateus').val()){$('#edit-shipping-stateus').val($('#edit-stateus').val());}
if($('#edit-statecan').length>0&&$('#edit-statecan').val()){$('#edit-shipping-statecan').val($('#edit-statecan').val());}
if($('#edit-statebr').length>0&&$('#edit-statebr').val()){$('#edit-shipping-statebr').val($('#edit-statebr').val());}
if($('#edit-phone').val())
$('#edit-shipping-phone').val($('#edit-phone').val());if($('#edit-zip').val())
$('#edit-shipping-zip').val($('#edit-zip').val());}}
if($('#edit-billing-as-shipping-billing-as-shipping').length&&!same_as_billing){$('#edit-shipping-first-name').val('');$('#edit-shipping-last-name').val('');$('#edit-shipping-address').val('');$('#edit-shipping-address2').val('');if($('#edit-billing-address3').length>0){$('#edit-shipping-address3').val('');}
if($('#edit-billing-address4').length>0){$('#edit-shipping-address4').val('');}
$('#edit-shipping-city').val('');if($('#edit-state').length>0){$('#edit-shipping-state').val('');}
if($('#edit-stateus').length>0){$('#edit-shipping-stateus').val('');}
if($('#edit-statecan').length>0){$('#edit-shipping-statecan').val('');}
if($('#edit-statebr').length>0){$('#edit-shipping-statebr').val('');}
$('#edit-shipping-phone').val('');$('#edit-shipping-zip').val('');}}
function update_billing_address(same_as_shipping){if(same_as_shipping==undefined)same_as_shipping=true;if($('#edit-billing-as-shipping-billing-as-shipping').length&&same_as_shipping){if($('#edit-billing-as-shipping-billing-as-shipping').is(':checked')){if($('#edit-shipping-first-name').val())
$('#edit-first-name').val($('#edit-shipping-first-name').val());if($('#edit-shipping-last-name').val())
$('#edit-last-name').val($('#edit-shipping-last-name').val());if($('#edit-shipping-address').val())
$('#edit-billing-address').val($('#edit-shipping-address').val());$('#edit-billing-address2').val($('#edit-shipping-address2').val());if($('#edit-shipping-address3').length>0){$('#edit-billing-address3').val($('#edit-shipping-address3').val());}
if($('#edit-shipping-address4').length>0){$('#edit-billing-address4').val($('#edit-shipping-address4').val());}
if($('#edit-shipping-city').val())
$('#edit-city').val($('#edit-shipping-city').val());if($('#edit-shipping-state').length>0&&$('#edit-shipping-state').val()){$('#edit-state').val($('#edit-shipping-state').val());}
if($('#edit-shipping-stateus').length>0&&$('#edit-shipping-stateus').val()){$('#edit-stateus').val($('#edit-shipping-stateus').val());}
if($('#edit-shipping-statecan').length>0&&$('#edit-shipping-statecan').val()){$('#edit-statecan').val($('#edit-shipping-statecan').val());}
if($('#edit-shipping-statebr').length>0&&$('#edit-shipping-statebr').val()){$('#edit-statebr').val($('#edit-shipping-statebr').val());}
if($('#edit-shipping-phone').val())
$('#edit-phone').val($('#edit-shipping-phone').val());if($('#edit-shipping-zip').val())
$('#edit-zip').val($('#edit-shipping-zip').val());}}
if($('#edit-billing-as-shipping-billing-as-shipping').length&&!same_as_shipping){$('#edit-first-name').val('');$('#edit-last-name').val('');$('#edit-billing-address').val('');$('#edit-billing-address2').val('');if($('#edit-shipping-address3').length>0){$('#edit-billing-address3').val('');}
if($('#edit-shipping-address4').length>0){$('#edit-billing-address4').val('');}
$('#edit-city').val('');if($('#edit-shipping-state').length>0){$('#edit-state').val('');}
if($('#edit-shipping-stateus').length>0){$('#edit-stateus').val('');}
if($('#edit-shipping-statecan').length>0){$('#edit-statecan').val('');}
if($('#edit-shipping-statebr').length>0){$('#edit-statebr').val('');}
$('#edit-phone').val('');$('#edit-zip').val('');}}
function fls_store_checkout_upsell_click(obj){if(typeof Drupal.settings.fls_taxes_selected_upsells!='undefined')Drupal.settings.fls_taxes_selected_upsells={};if(Drupal.settings.fls_taxes_status&&!Drupal.settings.fls_taxes_exempt)fls_store_disable_fields_in_progress();if(!order_total_check_flag&&Drupal.settings.promo_code_upsells){order_total_check_flag=1;$('.upsells_new_check_logo input').prop('disabled',true);fls_store_checkout_order_total_check();}
var shipping_obj_dropdown=$('#shipping-up-js');fls_store_update_price(shipping_obj_dropdown);var website_upsell_click=0;if($(obj).attr('id')=='38'&&$(obj).is(":checked")){$('.attributes-box').css('display','block');}
if($(obj).attr('id')=='38'&&!$(obj).is(":checked")){$('.attributes-box').css('display','none');}
if($(obj).hasClass('website_service_google')){var id=$(obj).attr('id');if($(obj).is(":checked")){website_upsell_click++;if($(".website_product_"+id+" .website-attributes-box").length==0)$(".website_product_"+id).append($('.website-attributes-box'));$(".website_product_"+id+" .google_seat").show();$(".website_product_"+id+" .seat_data").show();$(".website_product_"+id+" .google_upsell_dropdown_seat").show();$('.website-attributes-box').css('display','block');var seats=parseInt($(".website_product_"+id+" .google_upsell_dropdown_seat").val());var extra_seats_cost=(seats-1)*Drupal.settings.google_seat_prices[id];newProductPrice=parseFloat($('#upsell_'+id+'_base_price').val())+extra_seats_cost;$(".website_product_"+id+" .total_package_price .pack_price").html(newProductPrice.toFixed(2));$(".website_product_"+id+" .seat_price").html(Drupal.settings.google_seat_prices[id]);}else{$(".website_product_"+id+" .google_seat").hide();$(".website_product_"+id+" .seat_data").hide();$(".website_product_"+id+" .google_upsell_dropdown_seat").hide();$(".website_product_"+id+" .website-attributes-box").hide();}}
if($(obj).hasClass('website_service_weebly')){var id=$(obj).attr('id');if($(obj).is(":checked")){website_upsell_click++;var weebly_pack_id=$("#weebly_packs_"+id+" option:selected").val();var new_price=parseFloat(Drupal.settings.additional_offers[id]['price'][Drupal.settings.upsell_country]);if(typeof Drupal.settings.weebly_packages!='undefined'&&typeof Drupal.settings.weebly_packages[weebly_pack_id]!='undefined'){new_price+=parseFloat(Drupal.settings.weebly_packages[weebly_pack_id]['price_no_currency']);}
$('.website_product_'+id+' .upsells_new_price .price').html(new_price.toFixed(2));$("#weebly_packs_"+id).show();}else{$("#weebly_packs_"+id).hide();}}
if(website_upsell_click){fls_events_add('website_upsell_click_on_checkout');}}
function fls_store_checkout_upsell_extra_attrbutes_check(){$('.upsells_new_check_logo input[type=checkbox]').each(function(){var is_checked=$(this).prop('checked');if(!is_checked){var id=$(this).attr('id');$('#edit-google-seats-'+id).val(1);}});}
function fls_store_apply_fix_coupon(){if(typeof Drupal.settings.promo_code=='undefined')return;if(!Drupal.settings.promo_code.coupon.fixed_value)return;var coupon_value=parseFloat(Drupal.settings.promo_code.coupon.fixed_value);console.log('coupon value',coupon_value);if(!coupon_value)return;if(typeof Drupal.settings.promo_code.countries!='undefined'&&$.inArray(Drupal.settings.current_country,Drupal.settings.promo_code.countries)===-1)return;if(typeof Drupal.settings.promo_code.products=='undefined')Drupal.settings.promo_code.products=new Array();var used_value=0.00;console.log('used value',used_value);if(typeof Drupal.settings.cart_products!='undefined'){for(var i in Drupal.settings.cart_products){if(Drupal.settings.cart_products[i]['checkout_upsell']==undefined){used_value=fls_store_update_used_value(parseInt(Drupal.settings.cart_products[i]['product_id']),parseFloat(Drupal.settings.cart_products[i]['items_total_price_no_coupon']),used_value,coupon_value,false);}}}
if(typeof Drupal.settings.additional_offers!='undefined'){$('.upsells_new_check_logo input').each(function(){var isChecked=$(this).prop('checked');if(isChecked){var id=$(this).attr('id');var price=fls_store_get_upsell_price(id);used_value=fls_store_update_used_value(parseInt(id),parseFloat(price),used_value,coupon_value,true);}});}
var total=parseFloat($('.upsells_new_total_price span').html());total-=used_value;if(total<0)total=0.00;$('.upsells_new_total_price span').text(total.toFixed(2));}
function fls_store_update_used_value(product_id,product_price,used_value,coupon_value,is_upsell){var product_id_string=product_id.toString();console.log(product_id,product_price,used_value,coupon_value);if(typeof Drupal.settings.promo_code.products=='undefined')Drupal.settings.promo_code.products=new Array();var is_eligible=false;console.log($.inArray(product_id,Drupal.settings.websites_products_ids));console.log($.inArray(product_id_string,Drupal.settings.promo_code.products));if($.inArray(product_id_string,Drupal.settings.promo_code.products)!==-1||(Drupal.settings.promo_code.products.length==0&&typeof Drupal.settings.promo_code.exclude_product_from_cart_coupons[product_id]=='undefined')){if($.inArray(product_id,Drupal.settings.websites_products_ids)!==-1){console.log('a');is_eligible=true;var seats=parseInt($('#edit-google-seats-'+product_id).val());console.log('seats',seats);if(!is_upsell&&seats&&seats>1){product_price+=(seats-1)*parseFloat(Drupal.settings.google_seat_prices[product_id]);console.log('new product price',product_price);}}
if($.inArray(product_id,Drupal.settings.websites_products_ids)===-1){console.log('b');is_eligible=true;}}
if(is_eligible&&used_value<coupon_value){console.log('item '+product_id,product_price);used_value+=parseFloat(product_price);used_value=parseFloat(used_value.toFixed(2));if(used_value>coupon_value)used_value=coupon_value;console.log('used value',used_value);}
return used_value;}
function fls_prompt_password_success_callback(){if(Drupal.settings.prompt_password_checkout_submited==undefined){Drupal.settings.autologin_user=0;console.log($('#payment-methods .payment-methods-options input:checked'));$('#payment-methods .payment-methods-options input:checked').focus();fls_store_payment_method_update();PROMPTPASSWORD_POPUP.hidePopUp();$('#edit-zip').trigger('change');}else{PROMPTPASSWORD_POPUP.hidePopUp();$('#fls-store-payment-form #edit-submit').trigger('click');}}
function update_order_total(){if($("#section_order_review").length&&$("#section_order_review .order_total").length){var cart_total_price=$(".upsells_new_total_price").html();cart_total_price=cart_total_price.replace("<span>","");cart_total_price=cart_total_price.replace("</span>","");$("#section_order_review .order_total").html(cart_total_price);}};var fls_store_show_billing_message=0;var fls_store_show_shipping_message=0;var triggeredFromPage=false;function enable_disable_seats(disable){if($("#523").is(":checked"))$("#bundle_seat_values").prop("disabled",disable);if($("#467").is(":checked"))$("#seat_values").prop("disabled",disable);if($("#532").is(":checked"))$("#custom_bundle_seat_values").prop("disabled",disable);}
$(document).ready(function(){Drupal.settings.checkout_v2_timer_obj={};Drupal.settings.checkout_v2_timer_obj['on_checkout_page_start']=Date.now();if(Drupal.settings.checkout_v2&&Drupal.settings.checkout_v2_force_section){$("#section_form_data .header_1 .checked").hide();}
$('#saving-card-details').click(function(){if(fls_store_checkout_btpaypal_check()){var save_payment_status=$(this).is(':checked');var amount=$("#section_payment_cart .upsells_new_total_price span").html();if(!save_payment_status){fls_braintree_paypal_init(true,amount,Drupal.settings.user_currency_code);}
else
fls_braintree_paypal_init(false);}});Drupal.settings.submit_payment_clicked=false;var gtype=$('#edit-google-email-name').attr('type');if(typeof(gtype)!='undefined'&&gtype=='hidden'){$('#edit-google-email-name-label').hide();}else{$('#edit-google-email-name-label').show();}
$('#fls-store-payment-form #edit-submit, .checkout_v2 #free_order_button').click(function(event,wasTriggered){if(Drupal.settings.checkout_v2&&typeof(wasTriggered)=="undefined"){Drupal.settings.submit_payment_clicked=true;}
triggeredFromPage=wasTriggered;pre_click_submit();});function pre_click_submit(){fls_events_add('clicked_order_submit');enable_disable_seats(true);if(Drupal.settings.checkout_v2)update_shipping_address();else update_billing_address();var payment_method=$('#payment-methods .payment-methods-options input:checked').val();if((!Drupal.settings.checkout_v2||(Drupal.settings.checkout_v2&&Drupal.settings.submit_payment_clicked))&&Drupal.settings.autologin_user&&payment_method!='new_payment'&&!Drupal.settings.autologin_user_proceed){PROMPTPASSWORD_POPUP.init();return false;}
$('#TB_overlay').remove();$('#TB_window').remove();show_loading_overlay();var lang_prefix='';if(Drupal.settings.lang){lang_prefix=Drupal.settings.lang+'/';}
$.ajax({url:Drupal.settings.basePath+lang_prefix+'fls-store-get-cart-token-js',type:"GET",dataType:"json",success:function(data){var token='';if(typeof Drupal.settings.cart_token!='string'){token=Drupal.settings.cart_token.pop();Drupal.settings.cart_token=token;}else{token=Drupal.settings.cart_token;}
if(data.cart_token==token){if((!Drupal.settings.checkout_v2||(Drupal.settings.checkout_v2&&Drupal.settings.submit_payment_clicked))&&(data.autologin_user==1&&payment_method!='new_payment')){Drupal.settings.prompt_password_checkout_submited=1;PROMPTPASSWORD_POPUP.init();return false;}else{if(!Drupal.settings.checkout_v2||(Drupal.settings.checkout_v2&&Drupal.settings.submit_payment_clicked)){fls_events_add('clicked_submit_payment');console.log('clicked_submit_payment');}
return click_submit();}}
else
{alert(data.text);var url=window.location.toString();if(Drupal.settings.checkout_v2)window.location=url.split('#')[0];else window.location=url.replace('#','');}}});}
$('#fls-store-payment-form #edit-submit-paypal').click(function(){if(Drupal.settings.checkout_v2)update_shipping_address();else update_billing_address();$('#TB_overlay').remove();$('#TB_window').remove();show_loading_overlay();var lang_prefix='';if(Drupal.settings.lang){lang_prefix=Drupal.settings.lang+'/';}
$.ajax({url:Drupal.settings.basePath+lang_prefix+'fls-store-get-cart-token-js',type:"GET",dataType:"json",success:function(data){if(data.cart_token==Drupal.settings.cart_token){return click_submit_paypal();}
else
{alert(data.text);var url=window.location.toString();window.location=url.replace('#','');}}});});fls_store_checkout_ga_track_api_failed();});function click_submit_paypal(){$('#TB_overlay').remove();$('#TB_window').remove();var additionalErrorHTML="";var additionalShippingErrorHTML="";Drupal.settings.errors_types={required:{},invalid:{}};$("#rsvErrors").css("margin-top","0px");$("#rsvErrors").html("").css('display','none');var response=fls_store_checkout_form_validation();var errorHTML='';var errorShippingHTML='';if(fls_store_show_shipping_message==1)
errorShippingHTML=Drupal.settings.checkout_form.form_header_shipping_error;if(response['error_shipping_messages']){additionalShippingErrorHTML=response['error_shipping_messages']+'<br><br>';}
if(fls_store_show_billing_message==1)
errorHTML=Drupal.settings.checkout_form.form_header_error;if(response['error_messages']){additionalErrorHTML=response['error_messages'];}
else{errorHTML='';}
if(additionalErrorHTML||additionalShippingErrorHTML){errorHTML=errorShippingHTML+additionalShippingErrorHTML+errorHTML+additionalErrorHTML;$("#rsvErrors").css("margin-top","20px");$("#rsvErrors").css("display","block");$("#rsvErrors").html(errorHTML);$("#rsvErrors").parent().parent().show();if(response['scroll_to_element']){$('html, body').animate({scrollTop:$(response['scroll_to_element']).offset().top},500);}
return false;}
if(!fls_validate_tshirt_polo_upsell()||!fls_validate_google_apps_upsell())return false;$('#edit-submit-paypal').hide();$('#payment_progress_paypal').show();if(typeof(getKondutoID)=='function'){$('#edit-pagshield').val(getKondutoID());}
fls_store_checkout_upsell_extra_attrbutes_check();if($('form#fls-orders-payment-form').length)
$('#fls-orders-payment-form').submit();else
$('#fls-store-payment-form').submit();return false;}
function fls_store_checkout_form_validation(){var additionalErrorHTML='';var response={};if(Drupal.settings.account_creation_errors!=undefined){return Drupal.settings.account_creation_errors;}
var has_proof_is_checked=true;$('#step-checkout1 #confirm_proof .check_confirm input').next().removeClass('signup_error_label');$('#step-checkout1 #confirm_proof .check_confirm input').each(function(){if(typeof Drupal.settings.adp_normal_path!='undefined'){if(Drupal.settings.adp_normal_path.length>0){if(typeof Drupal.settings.proof_count!='undefined'){if(Drupal.settings.proof_count>Drupal.settings.proof_count_max){return;}}}}
if(!$(this).prop('checked')){ga('send','event','checkout','order_submitted','proofs_missed');}});var payment_type_val=$('#edit-payment-type').val();var vendor_name=Drupal.settings.checkout_form.available_vendors[payment_type_val];Drupal.settings.captha_validated=0;if(Drupal.settings.captha_fraud){var country_id=parseInt($('#store-edit-country').val());if($('#store-edit-billing-country').length){country_id=parseInt($('#store-edit-billing-country').val());}
ga('send','event','checkout','fraud_show_captcha',country_id);if($('.g-recaptcha').length!=0&&grecaptcha.length!=0){Drupal.settings.captha_validated=1;if(!grecaptcha.getResponse()){additionalErrorHTML+=Drupal.settings.checkout_form.captcha.required;Drupal.settings.errors_types.required['captcha']=1;$(this).next().addClass('signup_error_label');}}}
if(!fls_store_checkout_form_freeorder_check()){var payment_method=$('#payment-methods .payment-methods-options input:checked').val();if(payment_method=='new_payment'&&vendor_name!='paypal'&&vendor_name!='alipay'&&!fls_store_checkout_btpaypal_check()){if($('.g-recaptcha').length!=0&&grecaptcha.length!=0&&!Drupal.settings.captha_validated){if(!grecaptcha.getResponse()){additionalErrorHTML+=Drupal.settings.checkout_form.captcha.required;Drupal.settings.errors_types.required['captcha']=1;$(this).next().addClass('signup_error_label');}}}
if(!Drupal.settings.checkout_v2||(Drupal.settings.checkout_v2&&Drupal.settings.submit_payment_clicked))
if($('#edit-payment-type').val()==""||$('#edit-payment-type').val()=="0"){additionalErrorHTML+=Drupal.settings.checkout_form.payment_type.required;Drupal.settings.errors_types.required['payment_type']=1;$('#edit-payment-type').addClass('errorFieldDemo5');$('#edit-payment-type-label').addClass('signup_error_label');$('#edit-payment-type-label-icon').show();}else{$('#edit-payment-type').removeClass('errorFieldDemo5');$('#edit-payment-type-label').removeClass('signup_error_label');$('#edit-payment-type-label-icon').hide();}
if(!Drupal.settings.checkout_v2||(Drupal.settings.checkout_v2&&triggeredFromPage=='section_account')){if($('#edit-email').length){if($('#edit-email').val()==""){additionalErrorHTML+=Drupal.settings.checkout_form.email.required;Drupal.settings.errors_types.required['email']=1;$('#edit-email').addClass('errorFieldDemo5');$('#edit-email-label').addClass('signup_error_label');$('#edit-email-label-icon').show();fls_events_add('empty_email_from_checkout');}else if(!isValidEmail($('#edit-email').val())){additionalErrorHTML+=Drupal.settings.checkout_form.email.invalid;Drupal.settings.errors_types.invalid['email']=1;$('#edit-email').addClass('errorFieldDemo5');$('#edit-email-label').addClass('signup_error_label');$('#edit-email-label-icon').show();fls_events_add('invalid_email_from_checkout');}else{$('#edit-email').removeClass('errorFieldDemo5');$('#edit-email-label').removeClass('signup_error_label');$('#edit-email-label-icon').hide();}
if($('#edit-password').val()==""){additionalErrorHTML+=Drupal.settings.checkout_form.password.required;Drupal.settings.errors_types.required['password']=1;$('#edit-password').addClass('errorFieldDemo5');$('#edit-password-label').addClass('signup_error_label');$('#edit-password-label-icon').show();fls_events_add('empty_password_from_checkout');}else{$('#edit-password').removeClass('errorFieldDemo5');$('#edit-password-label').removeClass('signup_error_label');$('#edit-password-label-icon').hide();}
Drupal.settings.account_creation_errors=undefined;if(!additionalErrorHTML){var lang_prefix='';if(Drupal.settings.lang){lang_prefix=Drupal.settings.lang+'/';}
var data={};data['email']=$('#edit-email').val()
data['password']=$('#edit-password').val();show_loading_overlay();$.ajax({url:Drupal.settings.basePath+lang_prefix+'checkout-account-section-validation',type:"POST",data:data,dataType:"json",success:function(data){console.log(data);$('#TB_overlay').remove();$('#TB_window').remove();if(data.error_email){$("#section_payment").hide();if(data.error.email){additionalErrorHTML+=data.error.email;Drupal.settings.errors_types.invalid['email']=1;$('#edit-email').addClass('errorFieldDemo5');$('#edit-email-label').addClass('signup_error_label');$('#edit-email-label-icon').show();}else{$('#edit-email').removeClass('errorFieldDemo5');$('#edit-email-label').removeClass('signup_error_label');$('#edit-email-label-icon').hide();}
if(data.error.password){additionalErrorHTML+=data.error.password;Drupal.settings.errors_types.invalid['password']=1;$('#edit-password').addClass('errorFieldDemo5');$('#edit-password-label').addClass('signup_error_label');$('#edit-password-label-icon').show();}else{$('#edit-password').removeClass('errorFieldDemo5');$('#edit-password-label').removeClass('signup_error_label');$('#edit-password-label-icon').hide();}
response['error_messages']=additionalErrorHTML;response['scroll_to_element']='#rsvErrors';Drupal.settings.account_creation_errors=response;click_submit();return false;}else{$("#"+parent_section).addClass("completed");checkout_process_step(Drupal.settings.nextstep,parent_section);}}});return false;}}}}
var tld_custom_field_id='';var tld_custom_field_type='';var tld_custom_field_err=0;if(!Drupal.settings.checkout_v2||(Drupal.settings.checkout_v2&&Drupal.settings.submit_payment_clicked))
if(Drupal.settings.checkout_form.tld_custom_fields!=undefined){for(var i in Drupal.settings.checkout_form.tld_custom_fields){tld_custom_field_id='edit-'+i.replace(/_/g,'-');for(var j in Drupal.settings.checkout_form.tld_custom_fields[i]){var tld_custom_field_type=Drupal.settings.checkout_form.tld_custom_fields[i][j];switch(tld_custom_field_type){case'required':if($('#'+tld_custom_field_id).val().trim()==''){additionalErrorHTML+=Drupal.settings.checkout_form[i][tld_custom_field_type];Drupal.settings.errors_types.required[i]=1;$('#'+tld_custom_field_id).addClass('errorFieldDemo5');$('#'+tld_custom_field_id+'-label').addClass('signup_error_label');$('#'+tld_custom_field_id+'-label-icon').show();tld_custom_field_err=1;}else{$('#'+tld_custom_field_id).removeClass('errorFieldDemo5');$('#'+tld_custom_field_id+'-label').removeClass('signup_error_label');$('#'+tld_custom_field_id+'-label-icon').hide();}
break;default:}}}}
if(Drupal.settings.checkout_v2&&tld_custom_field_err){$(".tld_field_row").show();$(".tld_field_row").removeClass("checkout_hide_row");}
if(additionalErrorHTML){response['error_messages']=additionalErrorHTML;response['scroll_to_element']='#rsvErrors';return response;}
if(!fls_store_checkout_form_freeorder_check()){switch(vendor_name){case'paypalapi':response=fls_store_checkout_form_paypalapi_validation();break;case'paypal':case'alipay':response={'error_messages':''};break;case'braintree':var skipValidation={};var optionalValidation={};if(Drupal.settings.cvv_required==0){skipValidation['security_code']=1;}
if(Drupal.settings.forced_pagbrasil){skipValidation['security_code']=undefined;optionalValidation['statebr']=1;optionalValidation['cpfcnpj_type']=1;optionalValidation['cpfcnpj_code']=1;}
if(fls_store_checkout_btpaypal_check()){skipValidation['security_code']=1;skipValidation['card_number']=1;}
if(Drupal.settings.forced_state){optionalValidation['state']=1;}
if(Drupal.settings.braintree_hosted_fields){skipValidation['security_code']=1;skipValidation['date']=1;skipValidation['card_number']=1;}
if(Drupal.settings.checkout_v2&&!Drupal.settings.submit_payment_clicked){optionalValidation['cpfcnpj_code']=undefined;optionalValidation['cpfcnpj_type']=undefined;}
response=fls_store_checkout_form_paypalapi_validation(skipValidation,optionalValidation);break;case'pagbrasilboleto':var skipValidation={};skipValidation['security_code']=1;skipValidation['date']=1;skipValidation['card_number']=1;var optionalValidation={};optionalValidation['statebr']=1;optionalValidation['cpfcnpj_type']=1;optionalValidation['cpfcnpj_code']=1;response=fls_store_checkout_form_paypalapi_validation(skipValidation,optionalValidation);break;case'pagbrasilcc':case'pagbrasildebit':var skipValidation={};var optionalValidation={};optionalValidation['statebr']=1;optionalValidation['cpfcnpj_type']=1;optionalValidation['cpfcnpj_code']=1;response=fls_store_checkout_form_paypalapi_validation(skipValidation,optionalValidation);break;case'pagbrasilonline':var skipValidation={};skipValidation['card_number']=1;skipValidation['date']=1;skipValidation['security_code']=1;var optionalValidation={};optionalValidation['statebr']=1;optionalValidation['cpfcnpj_type']=1;optionalValidation['cpfcnpj_code']=1;response=fls_store_checkout_form_paypalapi_validation(skipValidation,optionalValidation);break;case'moneybookers':break;default:}}
else{if($('#edit-billing-as-shipping-billing-as-shipping').length>0){var optionalValidation={};if(Drupal.settings.forced_state){optionalValidation['state']=1;}
var country_id=parseInt($('#store-edit-shipping-country').val());if(country_id==36){optionalValidation['statebr']=1;}
response=fls_store_checkout_shipping_validation(skipValidation,optionalValidation);}
if(fls_store_checkout_has_domain()||Drupal.settings.cart_has_subscription){var optionalValidation={};if(Drupal.settings.forced_state){optionalValidation['state']=1;}
var country_id=parseInt($('#store-edit-shipping-country').val());if(country_id==36){optionalValidation['statebr']=1;}
var skipValidation={};skipValidation['security_code']=1;skipValidation['card_number']=1;response=fls_store_checkout_form_paypalapi_validation(skipValidation,optionalValidation);}}
if(response['error_messages']||response['error_shipping_messages']){$('#fls-store-payment-form table tr').removeClass('checkout_hide_row');var payment_method=$('#payment-methods .payment-methods-options input:checked').val();if(payment_method!='new_payment'){$('#fls-store-payment-form table tr.payment_info:not(.checkout_show_row)').addClass('checkout_hide_row');$('.payment_methods_section_x').addClass('checkout_hide_row');}}
return response;}
function fls_store_checkout_billing_validation(vendor_name){if(!fls_store_checkout_form_freeorder_check()){if(vendor_name){switch(vendor_name){case'paypalapi':response=fls_store_checkout_form_paypalapi_validation();break;case'paypal':case'alipay':response={'error_messages':''};break;case'braintree':var skipValidation={};var optionalValidation={};if(Drupal.settings.cvv_required==0){skipValidation['security_code']=1;}
if(Drupal.settings.forced_pagbrasil){skipValidation['security_code']=undefined;optionalValidation['statebr']=1;optionalValidation['cpfcnpj_type']=1;optionalValidation['cpfcnpj_code']=1;}
if(fls_store_checkout_btpaypal_check()){skipValidation['security_code']=1;skipValidation['card_number']=1;}
if(Drupal.settings.forced_state){optionalValidation['state']=1;}
if(Drupal.settings.braintree_hosted_fields){skipValidation['security_code']=1;skipValidation['date']=1;skipValidation['card_number']=1;}
if(Drupal.settings.checkout_v2&&!Drupal.settings.submit_payment_clicked){optionalValidation['cpfcnpj_code']=undefined;optionalValidation['cpfcnpj_type']=undefined;}
response=fls_store_checkout_form_paypalapi_validation(skipValidation,optionalValidation);break;case'pagbrasilboleto':var skipValidation={};skipValidation['security_code']=1;skipValidation['date']=1;skipValidation['card_number']=1;var optionalValidation={};optionalValidation['statebr']=1;optionalValidation['cpfcnpj_type']=1;optionalValidation['cpfcnpj_code']=1;response=fls_store_checkout_form_paypalapi_validation(skipValidation,optionalValidation);break;case'pagbrasilcc':case'pagbrasildebit':var skipValidation={};var optionalValidation={};optionalValidation['statebr']=1;optionalValidation['cpfcnpj_type']=1;optionalValidation['cpfcnpj_code']=1;response=fls_store_checkout_form_paypalapi_validation(skipValidation,optionalValidation);break;case'pagbrasilonline':var skipValidation={};skipValidation['card_number']=1;skipValidation['date']=1;skipValidation['security_code']=1;var optionalValidation={};optionalValidation['statebr']=1;optionalValidation['cpfcnpj_type']=1;optionalValidation['cpfcnpj_code']=1;response=fls_store_checkout_form_paypalapi_validation(skipValidation,optionalValidation);break;case'moneybookers':break;default:}}else{var skipValidation={};skipValidation['security_code']=1;skipValidation['date']=1;skipValidation['card_number']=1;response=fls_store_checkout_form_paypalapi_validation(skipValidation,optionalValidation);}}
else{if($('#edit-billing-as-shipping-billing-as-shipping').length>0){var optionalValidation={};if(Drupal.settings.forced_state){optionalValidation['state']=1;}
var country_id=parseInt($('#store-edit-shipping-country').val());if(country_id==36){optionalValidation['statebr']=1;}
response=fls_store_checkout_shipping_validation(skipValidation,optionalValidation);}
if(fls_store_checkout_has_domain()){var optionalValidation={};if(Drupal.settings.forced_state){optionalValidation['state']=1;}
var country_id=parseInt($('#store-edit-shipping-country').val());if(country_id==36){optionalValidation['statebr']=1;}
var skipValidation={};skipValidation['security_code']=1;skipValidation['card_number']=1;response=fls_store_checkout_form_paypalapi_validation(skipValidation,optionalValidation);}}
if(response['error_messages']||response['error_shipping_messages']){$('#fls-store-payment-form table tr').removeClass('checkout_hide_row');var payment_method=$('#payment-methods .payment-methods-options input:checked').val();if(payment_method!='new_payment'){$('#fls-store-payment-form table tr.payment_info:not(.checkout_show_row)').addClass('checkout_hide_row');$('.payment_methods_section_x').addClass('checkout_hide_row');}}
return response;}
function fls_store_checkout_shipping_validation(skipValidation,optionalValidation){var payment_type_val=$('#edit-payment-type').val();var vendor_name=Drupal.settings.checkout_form.available_vendors[payment_type_val];if(skipValidation==undefined)skipValidation={};if(optionalValidation==undefined)optionalValidation={};fls_store_show_shipping_message=0;var additionalShippingErrorHTML='';if($('#edit-billing-as-shipping-billing-as-shipping').length>0&&(!Drupal.settings.checkout_v2||(Drupal.settings.checkout_v2&&!$('#edit-billing-as-shipping-billing-as-shipping').is(':checked')))){if($('#edit-shipping-first-name').val()==""){additionalShippingErrorHTML+=Drupal.settings.checkout_form.shipping_first_name.required;Drupal.settings.errors_types.required['shipping_first_name']=1;$('#edit-shipping-first-name').addClass('errorFieldDemo5');$('#edit-shipping-first-name-label').addClass('signup_error_label');$('#edit-shipping-first-name-label-icon').show();fls_store_show_shipping_message=1;}else{$('#edit-shipping-first-name').removeClass('errorFieldDemo5');$('#edit-shipping-first-name-label').removeClass('signup_error_label');$('#edit-shipping-first-name-label-icon').hide();}
if($('#edit-shipping-last-name').val()==""&&skipValidation['last_name']==undefined){additionalShippingErrorHTML+=Drupal.settings.checkout_form.shipping_last_name.required;Drupal.settings.errors_types.required['shipping_last_name']=1;$('#edit-shipping-last-name').addClass('errorFieldDemo5');$('#edit-shipping-last-name-label').addClass('signup_error_label');$('#edit-shipping-last-name-label-icon').show();fls_store_show_shipping_message=1;}else{$('#edit-shipping-last-name').removeClass('errorFieldDemo5');$('#edit-shipping-last-name-label').removeClass('signup_error_label');$('#edit-shipping-last-name-label-icon').hide();}
if($('#edit-shipping-address').val()==""){additionalShippingErrorHTML+=Drupal.settings.checkout_form.shipping_address.required;Drupal.settings.errors_types.required['shipping_address']=1;$('#edit-shipping-address').addClass('errorFieldDemo5');$('#edit-shipping-address-label').addClass('signup_error_label');$('#edit-shipping-address-label-icon').show();$('#edit-shipping-label-icon').css('margin-left','-5px');$('#edit-shipping-label-icon').show();fls_store_show_shipping_message=1;}else if(Drupal.settings.checkout_form.shipping_address.invalid!=undefined&&address_po_validation($('#edit-shipping-address').val())){additionalShippingErrorHTML+=Drupal.settings.checkout_form.shipping_address.invalid;Drupal.settings.errors_types.invalid['shipping_address']=1;$('#edit-shipping-address').addClass('errorFieldDemo5');$('#edit-shipping-address-label').addClass('signup_error_label');$('#edit-shipping-address-label-icon').show();$('#edit-shipping-label-icon').css('margin-left','-5px');$('#edit-shipping-label-icon').show();fls_store_show_shipping_message=1;}
else{$('#edit-shipping-address').removeClass('errorFieldDemo5');$('#edit-shipping-address-label').removeClass('signup_error_label');$('#edit-shipping-address-label-icon').hide();$('#edit-shipping-label-icon').css('margin-left','0px');$('#edit-shipping-label-icon').hide();}
if(Drupal.settings.checkout_form.shipping_address2!=undefined&&Drupal.settings.checkout_form.shipping_address2.required!=undefined&&$('#edit-shipping-address2').val()==""){additionalShippingErrorHTML+=Drupal.settings.checkout_form.shipping_address2.required;Drupal.settings.errors_types.required['shipping_address2']=1;$('#edit-shipping-address2').addClass('errorFieldDemo5');$('#edit-shipping-address2-label').addClass('signup_error_label');$('#edit-shipping-address2-label-icon').show();$('#edit-shipping2-label-icon').css('margin-left','-5px');$('#edit-shipping2-label-icon').show();}else if(Drupal.settings.checkout_form.shipping_address2!=undefined&&Drupal.settings.checkout_form.shipping_address2.invalid!=undefined&&address_po_validation($('#edit-shipping-address2').val())){additionalShippingErrorHTML+=Drupal.settings.checkout_form.shipping_address2.invalid;Drupal.settings.errors_types.invalid['shipping_address2']=1;$('#edit-shipping-address2').addClass('errorFieldDemo5');$('#edit-shipping-address2-label').addClass('signup_error_label');$('#edit-shipping-address2-label-icon').show();$('#edit-shipping2-label-icon').css('margin-left','-5px');$('#edit-shipping2-label-icon').show();fls_store_show_billing_message=1;}
else{$('#edit-shipping-address2').removeClass('errorFieldDemo5');$('#edit-shipping-address2-label').removeClass('signup_error_label');$('#edit-shipping-address2-label-icon').hide();$('#edit-shipping2-label-icon').css('margin-left','0px');$('#edit-shipping2-label-icon').hide();}
if($('#edit-shipping-city').val()==""){additionalShippingErrorHTML+=Drupal.settings.checkout_form.shipping_city.required;Drupal.settings.errors_types.required['shipping_city']=1;$('#edit-shipping-city').addClass('errorFieldDemo5');$('#edit-shipping-city-label').addClass('signup_error_label');$('#edit-shipping-city-label-icon').show();fls_store_show_shipping_message=1;}else{$('#edit-shipping-city').removeClass('errorFieldDemo5');$('#edit-shipping-city-label').removeClass('signup_error_label');$('#edit-shipping-city-label-icon').hide();}
var val=parseInt($('#store-edit-country').val());if($('#store-edit-billing-country').length){val=parseInt($('#store-edit-shipping-country').val());}
if(val=='1'){if($('#edit-shipping-stateus').val()==""){additionalShippingErrorHTML+=Drupal.settings.checkout_form.shipping_stateus.required;Drupal.settings.errors_types.required['shipping_stateus']=1;$('#edit-shipping-stateus').addClass('errorFieldDemo5');$('#edit-shipping-stateus-label').addClass('signup_error_label');$('#edit-shipping-stateus-label-icon').show();fls_store_show_shipping_message=1;}else{$('#edit-shipping-stateus').removeClass('errorFieldDemo5');$('#edit-shipping-stateus-label').removeClass('signup_error_label');$('#edit-shipping-stateus-label-icon').hide();}}else if(val=='2'){if($('#edit-shipping-statecan').val()==""){additionalShippingErrorHTML+=Drupal.settings.checkout_form.shipping_statecan.required;Drupal.settings.errors_types.required['shipping_statecan']=1;$('#edit-shipping-statecan').addClass('errorFieldDemo5');$('#edit-shipping-statecan-label').addClass('signup_error_label');$('#edit-shipping-statecan-label-icon').show();fls_store_show_shipping_message=1;}else{$('#edit-shipping-statecan').removeClass('errorFieldDemo5');$('#edit-shipping-statecan-label').removeClass('signup_error_label');$('#edit-shipping-statecan-label-icon').hide();}}
if(optionalValidation['state']!=undefined){if($('#edit-shipping-state').val()==""){additionalShippingErrorHTML+=Drupal.settings.checkout_form.shipping_state.required;Drupal.settings.errors_types.required['shipping_state']=1;$('#edit-shipping-state').addClass('errorFieldDemo5');$('#edit-shipping-state-label').addClass('signup_error_label');$('#edit-shipping-state-label-icon').show();fls_store_show_shipping_message=1;}else{$('#edit-shipping-state').removeClass('errorFieldDemo5');$('#edit-shipping-state-label').removeClass('signup_error_label');$('#edit-shipping-state-label-icon').hide();}}
if(val=='36'&&optionalValidation['statebr']!=undefined){if($('#edit-shipping-statebr').val()==""){additionalShippingErrorHTML+=Drupal.settings.checkout_form.shipping_stateus.required;Drupal.settings.errors_types.required['shipping_stateus']=1;$('#edit-shipping-statebr').addClass('errorFieldDemo5');$('#edit-shipping-statebr-label').addClass('signup_error_label');$('#edit-shipping-statebr-label-icon').show();fls_store_show_shipping_message=1;}else{$('#edit-shipping-statebr').removeClass('errorFieldDemo5');$('#edit-shipping-stater-label').removeClass('signup_error_label');$('#edit-shipping-statebr-label-icon').hide();}}
var country_id=parseInt($('#store-edit-shipping-country').val());if($('#edit-shipping-zip').val()==""){if($.inArray(country_id,Drupal.settings.required_zip_codes_for_countries)!=-1){additionalShippingErrorHTML+=Drupal.settings.checkout_form.shipping_zip.required
Drupal.settings.errors_types.required['shipping_zip']=1;$('#edit-shipping-zip').addClass('errorFieldDemo5');$('#edit-shipping-zip-label').addClass('signup_error_label');$('#edit-shipping-zip-label-icon').show();fls_store_show_shipping_message=1;}}else{$('#edit-shipping-zip').removeClass('errorFieldDemo5');$('#edit-shipping-zip-label').removeClass('signup_error_label');$('#edit-shipping-zip-label-icon').hide();}
if($('#edit-shipping-phone').val()==""){additionalShippingErrorHTML+=Drupal.settings.checkout_form.shipping_phone.required;Drupal.settings.errors_types.required['shipping_phone']=1;$('#edit-shipping-phone').addClass('errorFieldDemo5');$('#edit-shipping-phone-label').addClass('signup_error_label');$('#edit-shipping-phone-label-icon').show();fls_store_show_shipping_message=1;}else if(!validate_phone($('#edit-shipping-phone').val())){additionalShippingErrorHTML+=Drupal.settings.checkout_form.shipping_phone.invalid;Drupal.settings.errors_types.invalid['shipping_phone']=1;$('#edit-shipping-phone').addClass('errorFieldDemo5');$('#edit-shipping-phone-label').addClass('signup_error_label');$('#edit-shipping-phone-label-icon').show();fls_store_show_shipping_message=1;}else{$('#edit-shipping-phone').removeClass('errorFieldDemo5');$('#edit-shipping-phone-label').removeClass('signup_error_label');$('#edit-shipping-phone-label-icon').hide();}}
var response={};response['error_shipping_messages']=additionalShippingErrorHTML;response['scroll_to_element']='#rsvErrors';return response;}
function fls_store_checkout_form_paypalapi_validation(skipValidation,optionalValidation){var payment_type_val=$('#edit-payment-type').val();var vendor_name=Drupal.settings.checkout_form.available_vendors[payment_type_val];if(skipValidation==undefined)skipValidation={};if(optionalValidation==undefined)optionalValidation={};fls_store_show_billing_message=0;var additionalErrorHTML='';var additionalShippingErrorHTML='';var additionalPaymentErrorHTML='';if((Drupal.settings.checkout_v2&&triggeredFromPage=='section_shipping')||!Drupal.settings.checkout_v2){var shipping_validation_response=fls_store_checkout_shipping_validation(skipValidation,optionalValidation);additionalShippingErrorHTML=shipping_validation_response['error_shipping_messages'];}
if($('#edit-first-name').val()==""){additionalErrorHTML+=Drupal.settings.checkout_form.first_name.required;Drupal.settings.errors_types.required['first_name']=1;$('#edit-first-name').addClass('errorFieldDemo5');$('#edit-first-name-label').addClass('signup_error_label');$('#edit-first-name-label-icon').show();fls_store_show_billing_message=1;}else{$('#edit-first-name').removeClass('errorFieldDemo5');$('#edit-first-name-label').removeClass('signup_error_label');$('#edit-first-name-label-icon').hide();}
if($('#edit-last-name').val()==""&&skipValidation['last_name']==undefined){additionalErrorHTML+=Drupal.settings.checkout_form.last_name.required;Drupal.settings.errors_types.required['last_name']=1;$('#edit-last-name').addClass('errorFieldDemo5');$('#edit-last-name-label').addClass('signup_error_label');$('#edit-last-name-label-icon').show();fls_store_show_billing_message=1;}else{$('#edit-last-name').removeClass('errorFieldDemo5');$('#edit-last-name-label').removeClass('signup_error_label');$('#edit-last-name-label-icon').hide();}
if($('#edit-billing-address').val()==""){additionalErrorHTML+=Drupal.settings.checkout_form.billing_address.required;Drupal.settings.errors_types.required['billing_address']=1;$('#edit-billing-address').addClass('errorFieldDemo5');$('#edit-billing-address-label').addClass('signup_error_label');$('#edit-billing-address-label-icon').show();$('#edit-billing-label-icon').css('margin-left','-5px');$('#edit-billing-label-icon').show();fls_store_show_billing_message=1;}else{$('#edit-billing-address').removeClass('errorFieldDemo5');$('#edit-billing-address-label').removeClass('signup_error_label');$('#edit-billing-address-label-icon').hide();$('#edit-billing-label-icon').css('margin-left','0px');$('#edit-billing-label-icon').hide();}
if(Drupal.settings.checkout_form.billing_address2!=undefined&&$('#edit-billing-address2').val()==""){additionalErrorHTML+=Drupal.settings.checkout_form.billing_address2.required;Drupal.settings.errors_types.required['billing_address2']=1;$('#edit-billing-address2').addClass('errorFieldDemo5');$('#edit-billing-address2-label').addClass('signup_error_label');$('#edit-billing-address2-label-icon').show();$('#edit-billing2-label-icon').css('margin-left','-5px');$('#edit-billing2-label-icon').show();fls_store_show_billing_message=1;}else{$('#edit-billing-address2').removeClass('errorFieldDemo5');$('#edit-billing-address2-label').removeClass('signup_error_label');$('#edit-billing-address2-label-icon').hide();$('#edit-billing2-label-icon').css('margin-left','0px');$('#edit-billing2-label-icon').hide();}
if($('#edit-city').val()==""){additionalErrorHTML+=Drupal.settings.checkout_form.city.required;Drupal.settings.errors_types.required['city']=1;$('#edit-city').addClass('errorFieldDemo5');$('#edit-city-label').addClass('signup_error_label');$('#edit-city-label-icon').show();fls_store_show_billing_message=1;}else{$('#edit-city').removeClass('errorFieldDemo5');$('#edit-city-label').removeClass('signup_error_label');$('#edit-city-label-icon').hide();}
var val=parseInt($('#store-edit-country').val());if($('#store-edit-billing-country').length){val=parseInt($('#store-edit-billing-country').val());}
if(val=='1'){if($('#edit-stateus').val()==""){additionalErrorHTML+=Drupal.settings.checkout_form.stateus.required;Drupal.settings.errors_types.required['stateus']=1;$('#edit-stateus').addClass('errorFieldDemo5');$('#edit-stateus-label').addClass('signup_error_label');$('#edit-stateus-label-icon').show();fls_store_show_billing_message=1;}else{$('#edit-stateus').removeClass('errorFieldDemo5');$('#edit-stateus-label').removeClass('signup_error_label');$('#edit-stateus-label-icon').hide();}}else if(val=='2'){if($('#edit-statecan').val()==""){additionalErrorHTML+=Drupal.settings.checkout_form.statecan.required;Drupal.settings.errors_types.required['statecan']=1;$('#edit-statecan').addClass('errorFieldDemo5');$('#edit-statecan-label').addClass('signup_error_label');$('#edit-statecan-label-icon').show();fls_store_show_billing_message=1;}else{$('#edit-statecan').removeClass('errorFieldDemo5');$('#edit-statecan-label').removeClass('signup_error_label');$('#edit-statecan-label-icon').hide();}}else if(val=='36'){if($('#edit-statebr').val()==""){additionalErrorHTML+=Drupal.settings.checkout_form.statebr.required;Drupal.settings.errors_types.required['statebr']=1;$('#edit-statebr').addClass('errorFieldDemo5');$('#edit-statebr-label').addClass('signup_error_label');$('#edit-statebr-label-icon').show();fls_store_show_billing_message=1;}else{$('#edit-statebr').removeClass('errorFieldDemo5');$('#edit-statebr-label').removeClass('signup_error_label');$('#edit-statebr-label-icon').hide();}}
if(optionalValidation['state']!=undefined){if($('#edit-state').val()==""){additionalErrorHTML+=Drupal.settings.checkout_form.state.required;Drupal.settings.errors_types.required['state']=1;$('#edit-state').addClass('errorFieldDemo5');$('#edit-state-label').addClass('signup_error_label');$('#edit-state-label-icon').show();fls_store_show_billing_message=1;}else{$('#edit-state').removeClass('errorFieldDemo5');$('#edit-state-label').removeClass('signup_error_label');$('#edit-state-label-icon').hide();}}
if(val=='36'&&optionalValidation['statebr']!=undefined){if($('#edit-statebr').val()==""){additionalErrorHTML+=Drupal.settings.checkout_form.stateus.required;Drupal.settings.errors_types.required['stateus']=1;$('#edit-statebr').addClass('errorFieldDemo5');$('#edit-statebr-label').addClass('signup_error_label');$('#edit-statebr-label-icon').show();fls_store_show_billing_message=1;}else{$('#edit-statebr').removeClass('errorFieldDemo5');$('#edit-stater-label').removeClass('signup_error_label');$('#edit-statebr-label-icon').hide();}}
var country_id=parseInt($('#store-edit-country').val());if($('#edit-zip').val()==""){if($.inArray(country_id,Drupal.settings.required_zip_codes_for_countries)!=-1){additionalErrorHTML+=Drupal.settings.checkout_form.zip.required
Drupal.settings.errors_types.required['zip']=1;$('#edit-zip').addClass('errorFieldDemo5');$('#edit-zip-label').addClass('signup_error_label');$('#edit-zip-label-icon').show();fls_store_show_billing_message=1;}}else{$('#edit-zip').removeClass('errorFieldDemo5');$('#edit-zip-label').removeClass('signup_error_label');$('#edit-zip-label-icon').hide();}
if($('#edit-phone').val()==""){additionalErrorHTML+=Drupal.settings.checkout_form.phone.required;Drupal.settings.errors_types.required['phone']=1;$('#edit-phone').addClass('errorFieldDemo5');$('#edit-phone-label').addClass('signup_error_label');$('#edit-phone-label-icon').show();fls_store_show_billing_message=1;}else if(!validate_phone_function()){additionalErrorHTML+=Drupal.settings.checkout_form.phone.invalid;Drupal.settings.errors_types.invalid['phone']=1;$('#edit-phone').addClass('errorFieldDemo5');$('#edit-phone-label').addClass('signup_error_label');$('#edit-phone-label-icon').show();fls_store_show_billing_message=1;}else{$('#edit-phone').removeClass('errorFieldDemo5');$('#edit-phone-label').removeClass('signup_error_label');$('#edit-phone-label-icon').hide();}
if($('#edit-billing-as-shipping-billing-as-shipping').length>0&&!Drupal.settings.checkout_v2){if($('#edit-billing-as-shipping-billing-as-shipping').is(':checked')){additionalErrorHTML='';}}
if(!Drupal.settings.checkout_v2||(Drupal.settings.checkout_v2&&Drupal.settings.submit_payment_clicked)){if($("#cart_has_uberall").val()==1){$('#edit-business-name').val($('#edit-business-name').val().trim());if($('#edit-business-name').val()==""){additionalErrorHTML+=Drupal.settings.checkout_form.business_name.required;$('#edit-business-name').addClass('errorFieldDemo5');$('#edit-business-name-label').addClass('signup_error_label');$('#edit-business-name-label-icon').show();}else{$('#edit-business-name').removeClass('errorFieldDemo5');$('#edit-business-name-label').removeClass('signup_error_label');$('#edit-business-name-label-icon').hide();}}
if(Drupal.settings.checkout_form.google_company_name!=undefined){$('#edit-google-company-name').val($('#edit-google-company-name').val().trim());if($('#edit-google-company-name').val()==""){}else{$('#edit-google-company-name').removeClass('errorFieldDemo5');$('#edit-google-company-name-label').removeClass('signup_error_label');$('#edit-google-company-name-label-icon').hide();}}
if(Drupal.settings.checkout_form.google_email_name!=undefined){$('#edit-google-email-name').val($('#edit-google-email-name').val().trim());if($('#edit-google-email-name').val()==""){}else if(!validate_google_email($('#edit-google-email-name').val())){additionalErrorHTML+=Drupal.settings.checkout_form.google_email_name.invalid;Drupal.settings.errors_types.invalid['email_name']=1;$('#edit-google-email-name').addClass('errorFieldDemo5');$('#edit-google-email-name-label').addClass('signup_error_label');$('#edit-google-email-name-label-icon').show();}else{$('#edit-google-email-name').removeClass('errorFieldDemo5');$('#edit-google-email-name-label').removeClass('signup_error_label');$('#edit-google-email-name-label-icon').hide();}}}
if($('#edit-google-domain-name').length>0){var website_upsell_id=$('#edit-google-domain-name').parents('.website_service_google').attr('item');if($('#'+website_upsell_id).is(':checked')){var domain_name=$('#edit-google-domain-name').val().trim();if(!domain_name){additionalErrorHTML+=Drupal.settings.checkout_form.google_domain_name.required;Drupal.settings.errors_types.required['google_domain_name']=1;$('#edit-google-domain-name').addClass('errorFieldDemo5');$('#edit-google-domain-name-label').addClass('signup_error_label');$('#edit-google-domain-name-label-icon').show();}else{$('#edit-google-domain-name').removeClass('errorFieldDemo5');$('#edit-google-domain-name-label').removeClass('signup_error_label');$('#edit-google-domain-name-label-icon').hide();}
if(domain_name){if(!fls_validate_domain(domain_name)){additionalErrorHTML+=Drupal.settings.checkout_form.google_domain_name.invalid;Drupal.settings.errors_types.invalid['domain_name']=1;$('#edit-google-domain-name').addClass('errorFieldDemo5');$('#edit-google-domain-name-label').addClass('signup_error_label');$('#edit-google-domain-name-label-icon').show();}else{$('#edit-google-domain-name').removeClass('errorFieldDemo5');$('#edit-google-domain-name-label').removeClass('signup_error_label');$('#edit-google-domain-name-label-icon').hide();}}}}
if($('#edit-card-first-name').length){if($('#edit-card-first-name').val()==""&&skipValidation['card_first_name']==undefined){additionalErrorHTML+=Drupal.settings.checkout_form.card_first_name.required;Drupal.settings.errors_types.required['first_name']=1;$('#edit-card-first-name').addClass('errorFieldDemo5');$('#edit-card-first-name-label').addClass('signup_error_label');$('#edit-card-first-name-label-icon').show();}else{$('#edit-card-first-name').removeClass('errorFieldDemo5');$('#edit-card-first-name-label').removeClass('signup_error_label');$('#edit-card-first-name-label-icon').hide();}}
if($('#edit-card-last-name').length){if($('#edit-card-last-name').val()==""&&skipValidation['last_name']==undefined){additionalErrorHTML+=Drupal.settings.checkout_form.card_last_name.required;Drupal.settings.errors_types.required['last_name']=1;$('#edit-card-last-name').addClass('errorFieldDemo5');$('#edit-card-last-name-label').addClass('signup_error_label');$('#edit-card-last-name-label-icon').show();}else{$('#edit-card-last-name').removeClass('errorFieldDemo5');$('#edit-card-last-name-label').removeClass('signup_error_label');$('#edit-card-last-name-label-icon').hide();}}
if($('#edit-card-number').val()==""&&skipValidation['card_number']==undefined){additionalErrorHTML+=Drupal.settings.checkout_form.card_number.required;Drupal.settings.errors_types.required['card_number']=1;$('#edit-card-number').addClass('errorFieldDemo5');$('#edit-card-number-label').addClass('signup_error_label');$('#edit-card-number-label-icon').show();}else{$('#edit-card-number').removeClass('errorFieldDemo5');$('#edit-card-number-label').removeClass('signup_error_label');$('#edit-card-number-label-icon').hide();}
if($('#edit-security-code').val()==""&&skipValidation['security_code']==undefined){additionalErrorHTML+=Drupal.settings.checkout_form.security_code.required;Drupal.settings.errors_types.required['security_code']=1;$('#edit-security-code').addClass('errorFieldDemo5');$('#edit-security-code-label').addClass('signup_error_label');$('#edit-security-code-label-icon').show();}else{$('#edit-security-code').removeClass('errorFieldDemo5');$('#edit-security-code-label').removeClass('signup_error_label');$('#edit-security-code-label-icon').hide();}
var reg=new RegExp('^\\d+$');if(!reg.test($('#edit-security-code').val())&&skipValidation['security_code']==undefined){additionalErrorHTML+=Drupal.settings.checkout_form.security_code.invalid;Drupal.settings.errors_types.invalid['security_code']=1;$('#edit-security-code').addClass('errorFieldDemo5');$('#edit-security-code-label').addClass('signup_error_label');$('#edit-security-code-label-icon').show();}
else if(skipValidation['security_code']==undefined&&$('#edit-security-code').val().length<3){additionalErrorHTML+=Drupal.settings.checkout_form.security_code.invalid;Drupal.settings.errors_types.invalid['security_code']=1;$('#edit-security-code').addClass('errorFieldDemo5');$('#edit-security-code-label').addClass('signup_error_label');$('#edit-security-code-label-icon').show();}
else{$('#edit-security-code').removeClass('errorFieldDemo5');$('#edit-security-code-label').removeClass('signup_error_label');$('#edit-security-code-label-icon').hide();}
var valid_exp_date=1;var month='';if($('#edit-expiration-date-mm').val()==""&&skipValidation['date']==undefined){valid_exp_date=0;additionalErrorHTML+=Drupal.settings.checkout_form.expiration_date.required;Drupal.settings.errors_types.required['expiration_date']=1;$('#edit-expiration-date-mm').addClass('errorFieldDemo5');$('#edit-expiration-date-label').addClass('signup_error_label');$('#edit-expiration-date-label-icon').show();}else{month=parseInt($('#edit-expiration-date-mm').val());$('#edit-expiration-date-mm').removeClass('errorFieldDemo5');$('#edit-expiration-date-label').removeClass('signup_error_label');$('#edit-expiration-date-label-icon').hide();}
var year='';if($('#edit-expiration-date-yy').val()==""&&skipValidation['date']==undefined){if(valid_exp_date){additionalErrorHTML+=Drupal.settings.checkout_form.expiration_date.required;Drupal.settings.errors_types.required['expiration_date']=1;}
$('#edit-expiration-date-yy').addClass('errorFieldDemo5');$('#edit-expiration-date-label').addClass('signup_error_label');$('#edit-expiration-date-label-icon').show();}else{year=parseInt($('#edit-expiration-date-yy').val());$('#edit-expiration-date-yy').removeClass('errorFieldDemo5');$('#edit-expiration-date-label').removeClass('signup_error_label');$('#edit-expiration-date-label-icon').hide();}
Drupal.settings.checkout_form.current_date.month=parseInt(Drupal.settings.checkout_form.current_date.month);Drupal.settings.checkout_form.current_date.year=parseInt(Drupal.settings.checkout_form.current_date.year);if(skipValidation['date']==undefined&&year==Drupal.settings.checkout_form.current_date.year&&month<Drupal.settings.checkout_form.current_date.month){additionalErrorHTML+=Drupal.settings.checkout_form.expiration_date.invalid;Drupal.settings.errors_types.invalid['expiration_date']=1;$('#edit-expiration-date-mm').addClass('errorFieldDemo5');$('#edit-expiration-date-label').addClass('signup_error_label');$('#edit-expiration-date-label-icon').show();}else{$('#edit-expiration-date-mm').removeClass('errorFieldDemo5');$('#edit-expiration-date-label').removeClass('signup_error_label');$('#edit-expiration-date-label-icon').hide();}
if(optionalValidation['cpfcnpj_type']!=undefined){var cpfcnpj_type=$('.pagbrasil_field input[type=radio][name=cpfcnpj_type]:checked').val();if(cpfcnpj_type==undefined||(cpfcnpj_type!='cpf'&&cpfcnpj_type!='cnpj')){additionalErrorHTML+=Drupal.settings.checkout_form.cpfcnpj_type.required;Drupal.settings.errors_types.required['cpfcnpj_type']=1;$('#edit-cpfcnpj-type').addClass('errorFieldDemo5');$('#edit-cpfcnpj-type-label').addClass('signup_error_label');$('#edit-cpfcnpj-type-label-icon').show();if(Drupal.settings.checkout_v2)additionalPaymentErrorHTML=1;else fls_store_show_billing_message=1;}
else{$('#edit-cpfcnpj-type').removeClass('errorFieldDemo5');$('#edit-cpfcnpj-type-label').removeClass('signup_error_label');$('#edit-cpfcnpj-type-label-icon').hide();}}
if(optionalValidation['cpfcnpj_code']!=undefined){var cpfcnpj_code=$('#edit-cpfcnpj-code').val();var cpfcnpj_type=$('.pagbrasil_field input[type=radio][name=cpfcnpj_type]:checked').val();if(cpfcnpj_code==undefined||!cpfcnpj_code){additionalErrorHTML+=Drupal.settings.checkout_form.cpfcnpj_code.required;Drupal.settings.errors_types.required['cpfcnpj_type']=1;$('#edit-cpfcnpj-code').addClass('errorFieldDemo5');$('#edit-cpfcnpj-code-label').addClass('signup_error_label');$('#edit-cpfcnpj-code-label-icon').show();if(Drupal.settings.checkout_v2)additionalPaymentErrorHTML=1;else fls_store_show_billing_message=1;}
else{cpfcnpj_validated=false;if(cpfcnpj_type=='cpf')
cpfcnpj_validated=fls_store_validate_cpf(cpfcnpj_code);else
cpfcnpj_validated=fls_store_validate_cnpj(cpfcnpj_code);if(!cpfcnpj_validated&&Drupal.settings.pagbrasil_use_cnpj){additionalErrorHTML+=Drupal.settings.checkout_form.cpfcnpj_code.invalid;Drupal.settings.errors_types.invalid['cpfcnpj_type']=1;$('#edit-cpfcnpj-code').addClass('errorFieldDemo5');$('#edit-cpfcnpj-code-label').addClass('signup_error_label');$('#edit-cpfcnpj-code-label-icon').show();if(Drupal.settings.checkout_v2)additionalPaymentErrorHTML=1;else fls_store_show_billing_message=1;}else{$('#edit-cpfcnpj-code').removeClass('errorFieldDemo5');$('#edit-cpfcnpj-code-label').removeClass('signup_error_label');$('#edit-cpfcnpj-code-label-icon').hide();}}}
if(!Drupal.settings.checkout_v2||(Drupal.settings.checkout_v2&&Drupal.settings.submit_payment_clicked)){if(parseInt(Drupal.settings.cart_has_subscription)>0){var payment_method=$('#payment-methods .payment-methods-options input:checked').val();var save_payment_status=$('#saving-card-details').is(':checked');if(!save_payment_status&&payment_method=='new_payment'){additionalErrorHTML+=Drupal.settings.checkout_form.save_card_details.required;Drupal.settings.errors_types.required['save_card_details']=1;$('#saving-card-details').addClass('errorFieldDemo5');$('#saving-card-details-wrapper label').addClass('signup_error_label');}
else{$('#saving-card-details').removeClass('errorFieldDemo5');$('#saving-card-details-wrapper label').removeClass('signup_error_label');}}}
if($('#accept-terms').length){var accept_terms_status=$('#accept-terms').is(':checked');if(Drupal.settings.checkout_v2&&Drupal.settings.submit_payment_clicked){if(!accept_terms_status){additionalErrorHTML+=Drupal.settings.checkout_form.accept_terms.required;Drupal.settings.errors_types.required['accept_terms']=1;$('#accept-terms').addClass('errorFieldDemo5');$('#accept-terms-wrapper label').addClass('signup_error_label');}
else{$('#accept-terms-details').removeClass('errorFieldDemo5');$('#accept-terms-wrapper label').removeClass('signup_error_label');}}}
var response={};response['error_messages']=additionalErrorHTML;response['error_shipping_messages']=additionalShippingErrorHTML;if(Drupal.settings.checkout_v2&&additionalPaymentErrorHTML)response['show_payment_messages']=additionalPaymentErrorHTML;response['scroll_to_element']='#rsvErrors';return response;}
function fls_store_autologin_submit(){if($('#checkout_autologin_email').val()&&$('#checkout_autologin_password').val()&&isValidEmail($('#checkout_autologin_email').val())){$('#edit-autologin-user').val($('#checkout_autologin_email').val());$('#edit-autologin-pass').val($('#checkout_autologin_password').val());fls_store_payment_method_check_password()}}
function fls_store_validate_cpf(cpf){cpf=jQuery.trim(cpf);cpf=cpf.replace('.','');cpf=cpf.replace('.','');cpf=cpf.replace('-','');while(cpf.length<11)
cpf="0"+cpf;var expReg=/^0+$|^1+$|^2+$|^3+$|^4+$|^5+$|^6+$|^7+$|^8+$|^9+$/;var a=[];var b=new Number;var c=11;for(i=0;i<11;i++){a[i]=cpf.charAt(i);if(i<9)
b+=(a[i]*--c);}
if((x=b%11)<2){a[9]=0}else{a[9]=11-x}
b=0;c=11;for(y=0;y<10;y++)
b+=(a[y]*c--);if((x=b%11)<2){a[10]=0;}else{a[10]=11-x;}
if((cpf.charAt(9)!=a[9])||(cpf.charAt(10)!=a[10])||cpf.match(expReg))
return false;return true;}
function fls_store_validate_cnpj(cnpj){cnpj=jQuery.trim(cnpj);cnpj=cnpj.replace('/','');cnpj=cnpj.replace('.','');cnpj=cnpj.replace('.','');cnpj=cnpj.replace('-','');var numbers,digits,sum,i,result,pos,size,digitseq;digitseq=1;if(cnpj.length<14&&cnpj.length<15){return false;}
for(i=0;i<cnpj.length-1;i++){if(cnpj.charAt(i)!=cnpj.charAt(i+1)){digitseq=0;break;}}
if(!digitseq){size=cnpj.length-2
numbers=cnpj.substring(0,size);digits=cnpj.substring(size);sum=0;pos=size-7;for(i=size;i>=1;i--){sum+=numbers.charAt(size-i)*pos--;if(pos<2){pos=9;}}
result=sum%11<2?0:11-sum%11;if(result!=digits.charAt(0)){return false;}
size=size+1;numbers=cnpj.substring(0,size);sum=0;pos=size-7;for(i=size;i>=1;i--){sum+=numbers.charAt(size-i)*pos--;if(pos<2){pos=9;}}
result=sum%11<2?0:11-sum%11;if(result!=digits.charAt(1)){return false;}
return true;}else{return false;}}
function fls_validate_tshirt_polo_upsell(){var is_checked=$('#38').is(':checked');if(is_checked){var upsell_is_valid=true;$('.upsells_new_right .attributes select').each(function(){$(this).removeClass('error');if($(this).val()==0){upsell_is_valid=false;$(this).addClass('error');$('#38').focus();}});if(!upsell_is_valid)return false;}
return true;}
function address_po_validation(address){var reg=/^\s*((P(OST)?.?\s*(O(FF(ICE)?)?)?.?\s+(B(IN|OX))?)|B(IN|OX))/i;if(reg.test(address)||strpos(address.toLowerCase(),'p.o.')===0){return true;}else{return false;}}
function strpos(haystack,needle,offset){var i=(haystack+'').indexOf(needle,(offset||0));return i===-1?false:i;}
function fls_validate_google_apps_upsell(){var is_checked=$('#467').is(':checked');var bundel_is_check=false;var custom_website_is_checked=false;if($('#489').length){bundel_is_check=$('#489').is(':checked');}
if($('#523').length){bundel_is_check=$('#523').is(':checked');}
if($('#532').length){custom_website_is_checked=$('#532').is(':checked');}
if(is_checked||bundel_is_check||custom_website_is_checked){var upsell_is_valid=true;$('.website-attributes-box input').each(function(){$(this).removeClass('error');$(this).val($(this).val().trim());if(($(this).attr('id')=='edit-google-email-name'&&!validate_google_email($(this).val()))){upsell_is_valid=false;$(this).addClass('error');$('#467').focus();}});if(!upsell_is_valid)return false;}
return true;}
function validate_google_email(email){var test=new RegExp("^[a-zA-Z0-9.]*$");if(!email.match(test)){return false;}
return true;}
function fls_store_checkout_ga_track_api_failed(){if(typeof Drupal.settings.checkout_form=='undefined'||typeof Drupal.settings.checkout_form.after_validate=='undefined')return;if(typeof Drupal.settings.fls_error_code=='undefined'){if(typeof Drupal.settings.checkout_form.after_validate!='undefined'){if(Drupal.settings.checkout_form.after_validate){Drupal.settings.fls_error_code='ERRORCODE_MISSING';}}}
if(typeof Drupal.settings.fls_error_code=='undefined'){return false;}
var data='order_payment_failed_'+(''+Drupal.settings.fls_error_code).substring(0,30);ga('send','event','checkout','order_failed',data);fls_events_add('nr_err_msg_on_checkout',1);data='order_failed';ga('send','event','checkout','order_submitted',data);}
function fls_store_checkout_ga_track_failed(){var required_fields=Object.keys(Drupal.settings.errors_types.required);var invalid_fields=Object.keys(Drupal.settings.errors_types.invalid);if(required_fields.length){var data='order_form_incomplete_'+required_fields.join(',');ga('send','event','checkout','order_failed',data);}
fls_events_add('nr_err_msg_on_checkout',1);if(invalid_fields.length){var data='order_form_failed_'+invalid_fields.join(',');ga('send','event','checkout','order_failed',data);}
data='order_failed';ga('send','event','checkout','order_submitted',data);}
function click_submit(){$('#TB_overlay').remove();$('#TB_window').remove();var additionalErrorHTML='';var additionalShippingErrorHTML="";var additionalPaymentErrorHTML="";Drupal.settings.errors_types={required:{},invalid:{}};$("#rsvErrors").css("margin-top","0px");$("#rsvErrors").html("").css('display','none');var response;response=fls_store_checkout_form_validation();var errorHTML='';var errorShippingHTML='';if(fls_store_show_shipping_message==1)
errorShippingHTML=Drupal.settings.checkout_form.form_header_shipping_error;if(response['error_shipping_messages']){additionalShippingErrorHTML=response['error_shipping_messages']+'<br><br>';}
if(fls_store_show_billing_message==1)
errorHTML=Drupal.settings.checkout_form.form_header_error;if(response['error_messages']){additionalErrorHTML+=response['error_messages'];}
else{errorHTML='';}
$("#added_upsells_ids").val($("#added_upsells").val());if(additionalErrorHTML||additionalShippingErrorHTML){Drupal.settings.form_has_err=true;errorHTML=errorShippingHTML+additionalShippingErrorHTML+errorHTML+additionalErrorHTML;$("#rsvErrors").css("margin-top","20px");$("#rsvErrors").css("display","block");$("#rsvErrors").html(errorHTML);fls_store_checkout_ga_track_failed();if($("#523").is(":checked"))$("#bundle_seat_values").prop("disabled",false);if($("#467").is(":checked"))$("#seat_values").prop("disabled",false);if($("#532").is(":checked"))$("#custom_bundle_seat_values").prop("disabled",false);if(response['scroll_to_element']){$('html, body').animate({scrollTop:$(response['scroll_to_element']).offset().top},500);}
if(typeof(fls_order_payment_advance0)=="function"){fls_order_payment_advance0();}
enable_disable_seats(false);if(Drupal.settings.checkout_v2){if(fls_store_show_shipping_message&&response['error_shipping_messages']){$("#section_shipping").removeClass("completed");$("#section_shipping").show();$(".section_shipping_header .checked").hide();$(".section_shipping_header>div:not(.checked)").show();}
if(response['show_payment_messages']){$("#section_billing").addClass("completed");$("#section_billing").hide();$(".section_payment_header .checked").hide();$(".section_payment_header>div:not(.checked)").show();}else
if(fls_store_show_billing_message&&response['error_messages']){$("#section_billing").removeClass("completed");$("#section_billing .billing_address").removeClass("checkout_hide_row");$("#section_billing").show();$(".section_billing_header .checked").hide();$(".section_billing_header>div:not(.checked)").show();}
if(fls_store_checkout_btpaypal_check()){$("#edit-submit-paypal").hide();$("#braintree-paypal-button").parent().show();$("#braintree-paypal-button").show();}}
return false;}
var current_section=window.location.href.split('#')[1];if(!additionalErrorHTML&&!additionalShippingErrorHTML&&(current_section=='section_payment'||current_section=='section_shipping')&&Drupal.settings.checkout_v2){collectBillingDetails();collectShippingDetails();$(".section_billing_header .checked_billing_details").removeClass("mobile-hide desktop-hide");}
if(!fls_validate_tshirt_polo_upsell()||!fls_validate_google_apps_upsell()){enable_disable_seats(false);return false;}
var is_free_order=fls_store_checkout_form_freeorder_check();if(Drupal.settings.checkout_v2&&!Drupal.settings.submit_payment_clicked&&(!is_free_order||(is_free_order&&(fls_store_checkout_has_website()||Drupal.settings.cart_has_subscription)))){$("#section_payment").removeClass("completed");$("#section_payment").show();$(".section_payment_header .checked").hide();$(".section_payment_header>div:not(.checked)").show();}else{if(is_free_order&&Drupal.settings.checkout_v2&&!$('#edit-billing-as-shipping-billing-as-shipping').length&&!fls_store_checkout_has_website()&&!Drupal.settings.cart_has_subscription){$("#section_products").removeClass("mobile-hide");$("#section_products").removeClass("desktop-hide");$(".free_order").hide();$("#free_order_payment_progress").show();}else{$('#payment_progress').show();}
$('#edit-submit').hide();if(fls_store_checkout_btpaypal_check()){$('#edit-submit-paypal').hide();$('#payment_progress_paypal').show();}
if(typeof(getKondutoID)=='function'){$('#edit-pagshield').val(getKondutoID());}
fls_store_checkout_upsell_extra_attrbutes_check();if($('#fls-store-payment-form').length){if(typeof(Drupal.settings.checkout_v2_timer_obj)!="undefined"){Drupal.settings.checkout_v2_timer_obj['on_checkout_page_end']=Date.now();fls_events_add('time_spent_on_checkout',Math.round((Drupal.settings.checkout_v2_timer_obj['on_checkout_page_end']-Drupal.settings.checkout_v2_timer_obj['on_checkout_page_start'])/1000));console.log('time_spent_on_checkout'+Math.round((Drupal.settings.checkout_v2_timer_obj['on_checkout_page_end']-Drupal.settings.checkout_v2_timer_obj['on_checkout_page_start'])/1000));}
$('#fls-store-payment-form').submit();}
if($('#fls-orders-payment-form').length){$('#fls-orders-payment-form').submit();}
return false;}};$(document).ready(function(){Drupal.settings.save_shipping_address=false;checkout_v2_redesign_init("section_billing");checkout_v2_redesign_init("section_shipping");checkout_v2_redesign_init("section_payment_cart");checkout_v2_redesign_init("section_cart");$(".disclaimer_text").hide();loadFunctions();if(Drupal.settings.cart_changed_msg){setTimeout(function(){alert(Drupal.settings.cart_changed_msg);},2500);}
var added_upsells=local_storage_get('added_upsells','');$('#added_upsells').val(added_upsells);});function updateCartNumber(nr){$("body.checkout_v2 .back_to_cart>span").html(nr);var string=$('.mycart.inline a').html();if(typeof string!='undefined'){var material_icon_html=string.substring(string.indexOf("<span"),(string.indexOf("</span>")*1)+7);$('.mycart.inline a').html(material_icon_html+" "+nr);}}
function showHideGoogleFields(){if($("#cart_has_uberall").val()==1){$(".uberall_field").show();}else{$(".uberall_field").hide();}
if(!$("#cart_has_any_google_upsell_product").val()){$(".google_field").hide();}else{$(".google_field").show();}}
function checkout_v2_redesign_init(section_name){if(!Drupal.settings.checkout_v2)return false;$("#"+section_name+" select").each(function(index){checkout_v2_redesign_reset_placeholder_select($(this).attr("id"));});}
function checkout_v2_redesign_reset_placeholder_select(item_id){if(!Drupal.settings.checkout_v2)return false;var placeholder_name=item_id.replace("store-edit-","");placeholder_name=placeholder_name.replace("edit-","");placeholder_name=placeholder_name.replace(/-/g,"_");var text=$('#'+item_id).find(":selected").text();if(placeholder_name=="shipping_up_js"){if(text){text=text.split("+")[0];}}
$('.checkout_v2_redesign_'+placeholder_name+'_placeholder span').html(text);}
function loadFunctions(){var id=window.location.href.split('#')[1];if(id==undefined){id='';}
initProofSection();if($('#rsvErrors').is(":visible")){id='section_billing';Drupal.settings.checkout_v2_force_section=1;}
if(id!=''){var payment_method=$('#payment-methods .payment-methods-options input:checked').val();if((id=="section_billing"||id=='section_payment'||id=='section_shipping'||id=='section_account')&&payment_method=='new_payment'){id="section_billing";if(Drupal.settings.create_account_error){id="section_account";}
Drupal.settings.checkout_v2_force_section=1;}
if(Drupal.settings.force_checkout_section!=undefined){id=Drupal.settings.force_checkout_section;}
checkout_process_step(id);}else{$(".btn").addClass("mobile-hide");$(".btn").addClass("desktop-hide");$(".default").removeClass("mobile-hide");$(".default").removeClass("desktop-hide");$("#section_added_upgrades").removeClass("mobile-hide");$("#section_added_upgrades").removeClass("desktop-hide");fls_events_add('hit_checkout_cart_section');}
if($("#section_products .google_prod_total").length){var google_prod_id=$("#section_products .google_prod_total").parents(".checkout_element").attr("rel");if(google_prod_id){var google_prod_total=$("#google_prod_orig_price_"+google_prod_id).val()*1+($("#edit-google-seats-"+google_prod_id).val()*1-1)*Drupal.settings.google_seat_prices[google_prod_id];$("#section_products .checkout_element.prod_id_"+google_prod_id+" .google_prod_total").html(google_prod_total);}}
$(".free_order").hide();if((id==""||id=="section_products")&&fls_store_checkout_form_freeorder_check()&&!fls_store_checkout_has_website()&&!Drupal.settings.cart_has_subscription&&!$('#edit-billing-as-shipping-billing-as-shipping').length){$("#section_cart .continue").hide();$("#free_order_button").show();$(".free_order").show();if($('#rsvErrors').html().length){$("#rsvErrorsFreeOrder").html($('#rsvErrors').html());$("#rsvErrorsFreeOrder").show();}}
var url=window.location.toString();var url_split=url.split("fragment=");if(typeof(url_split[1])!="undefined"){$(window).scrollTop($("#"+url_split[1]).offset().top);}
showHideGoogleFields();$('body').on('click','#section_proofs .lmx_disabled_button',function(e){return false;});$('body').on('click','.continue',function(e){if($(this).hasClass("lmx_disabled_button"))return false;Drupal.settings.submit_payment_clicked=false;if(!$(this).hasClass("back_to_cart")&&$(this).hasClass("shipping_continue"))fls_events_add('clicked_continue_on_shipping_info');else if(!$(this).hasClass("back_to_cart")&&$(this).hasClass("billing_continue"))fls_events_add('clicked_continue_on_billing_details');else if(!$(this).hasClass("back_to_cart")&&$(this).hasClass("account_continue"))fls_events_add('clicked_continue_on_account_details');var current_section=window.location.href.split('#')[1];if(!$(this).hasClass("back_to_cart")&&(typeof(current_section)=="undefined"||current_section==""||current_section=="section_products")){fls_events_add('clicked_continue_on_your_cart');}
else if(current_section=="section_upsells"&&!$(this).hasClass("back_to_cart")){fls_events_add('clicked_continue_on_upgrade_your_order');}
var next_step=$(this).attr("href");next_step=next_step.replace("#","");var billing_or_shipping=false;var account_validation=false;Drupal.settings.form_has_err=false;if($(this).parent().parent().attr("id")=="section_billing"||$(this).parent().parent().attr("id")=="section_shipping"){$('#fls-store-payment-form #edit-submit').trigger("click",$(this).parent().parent().attr("id"));billing_or_shipping=true;}
parent_section=$(this).parents(".section").attr("id");if($(this).parent().parent().attr("id")=="section_account"){Drupal.settings.account_creation_errors=undefined;Drupal.settings.nextstep=next_step;$('#fls-store-payment-form #edit-submit').trigger("click",$(this).parent().parent().attr("id"));return false;}
if(billing_or_shipping){setTimeout(function(){if(!Drupal.settings.form_has_err){$("#"+parent_section).addClass("completed");checkout_process_step(next_step,parent_section);}},1000);}else{$("#"+parent_section).addClass("completed");checkout_process_step(next_step,parent_section);}
setTimeout(function(){$(window).scrollTop(0);},200);});$('body').on('click','#section_products .moreInfoGoogleApps, #section_upsell .moreInfoGoogleApps, #section_added_upgrades .moreInfoGoogleApps',function(e){if($(this).hasClass("moreInfoGoogleApps_523")){fls_events_add('triggered_moreinfo_googleapps_lightbox');if($('.moreInfoGoogleApps_523').parents('.upsell_container').length){fls_events_add('fired_523moreinfo_lightbox');}
if(Drupal.settings.add_diy_from_logo_flow!=undefined){fls_events_add('triggered_moreinfo_googleapps_523_lightbox');}
DiyMoreInfoPopup.init($(this));}else if($(this).hasClass("moreInfoGoogleApps_467")){fls_events_add('triggered_moreinfo_googleapps_lightbox');GSuiteMoreInfoPopup.init($(this));}
if($(this).hasClass("moreInfoGoogleApps_473"))HostingMoreInfoPopup.init($(this));return false;});$('body').on('click','#section_products .close_btn, #section_added_upgrades .close_btn',function(e){if($(this).hasClass('google_app')){if($(this).hasClass('google_app_523')&&Drupal.settings.add_diy_from_logo_flow!=undefined){Drupal.settings.checkout_remove_diy=1;fls_events_add('triggered_remove_523_googleapps_lightbox');}
fls_events_add('triggered_remove_googleapps_lightbox');}
if($(this).hasClass("free_domain")){RemoveFreeDomainPopup.init($(this));}
else if($(this).hasClass("domain")){if($(this).hasClass("addons"))
RemoveProdPopup.init($(this));else
RemoveFreeDomainPopup.init($(this));}else if($(this).hasClass("google_app_523")){RemoveDIYPopup.init($(this));}else if($(this).hasClass("google_app")){RemoveGSuitePopup.init($(this));}else if($(this).hasClass("website")){REMOVEWEB.init();$("#removeBtn").attr("href",$(this).attr("href"));return false;}else RemoveProdPopup.init($(this));return false;});$('#section_products .edit_product_quantity').click(function(){var element_id=fls_store_popup_get_element_id($(this));fls_store_popup_prepare($(this));fls_store_popup_set_price(element_id);ProductQuantityPopup.init($(this),element_id);return false;});$('body').on('click','#editEmailAccountQty',function(e){GmailAccountPopup.init($(this));return false;});$('body').on('click','.upsells_new_single_447 .more_info',function(e){PremiumLogoMoreInfoPopup.init($(this));return false;});$('body').on('click','.upsells_new_single_561 .more_info',function(e){UberallMoreInfoPopup.init($(this));return false;});$('body').on('click','.remove_upsell_from_cart',function(e){e.preventDefault();if($(this).hasClass("disabled")){alert("Product is currently adding to your cart. Please wait ....");return false;}
var prod_id=$(this).attr("item");$("#section_upsell .add_to_cart").addClass("disabled");$.post(Drupal.settings.baseUrl+$(this).attr("href")).done(function(){$("#upsell_"+prod_id+"_overlay_content").addClass("mobile-hide desktop-hide");$("#upsell_"+prod_id+"_overlay").addClass("mobile-hide desktop-hide");var added_upsells=$("#added_upsells").val();if(added_upsells.indexOf("|")!==false){var added_upsells_arr=added_upsells.split("|");for(i=0;i<added_upsells_arr.length;i++){if(added_upsells_arr[i]==prod_id){added_upsells_arr.splice(i,1);}}
$("#added_upsells").val(added_upsells_arr.join("|"));local_storage_set('added_upsells',$("#added_upsells").val());}
get_checkout_v2_sections();update_cart_token();});return false;});$(".confirm_proof_checkbox").click(function(){confirmProofCheckbox($(this),true);});$(".checkbox_unconfirm").click(function(){if($(this).attr("id"))
var nr=$(this).attr("id").split('_')[2];confirmProofCheckbox($(this),false);});$('body').on('click','#section_upsell .add_to_cart',function(e){e.preventDefault();var prod_id=$(this).attr("id").split('_')[3];if(!prod_id)return false;var id=$('.upsells_new_single[item="'+prod_id+'"]').attr("id");$("#section_upsells .add_to_cart").addClass("disabled");var cont_obj=$(".upsell_overlay").not("#upsell_overlay_content");cont_obj.children(".remove_upsell_from_cart").hide();fls_events_add("added_upsell_to_cart",1);switch(prod_id){case"447":var added_upsells=$("#added_upsells").val();$("#added_upsells").val(added_upsells+"|"+447);local_storage_set('added_upsells',$("#added_upsells").val());var lang='';if(Drupal.settings.lang)lang='/'+Drupal.settings.lang;$.post(Drupal.settings.baseUrl+lang+"/addtocart",{logo_id:$("#cart_logo_id").val(),related_id:1,product_id:447,checkout_v2:1},function(result){result=JSON.parse(result);if(result["checkout_v2_popups"])$("#main_container").after(result["checkout_v2_popups"]);$("#section_products").html(result["mycart"]);$("#section_cart").html(result["mycart_total"]);$("#section_added_upgrades").html(result["upgrades"]);updateCartNumber(result['cart_items_nr']);alter_upsell_remove_url(result['items_order_in_cart']);update_order_total();id=window.location.href.split('#')[1];Drupal.settings.checkout_ajax_response=1;checkout_process_step(id);}).done(function(){$("#section_upsells .add_to_cart").removeClass("disabled");var cont_obj=$(".upsell_overlay").not("#upsell_overlay_content");cont_obj.children(".remove_upsell_from_cart").show();var shipping_obj_dropdown=$('#shipping-up-js');fls_store_update_price(shipping_obj_dropdown);checkout_v2_redesign_init("section_payment_cart");checkout_v2_redesign_init("section_cart");update_cart_token();});break;case"561":$.post(Drupal.settings.baseUrl+"/"+$(this).attr("href"),{checkout_v2:1},function(result){fls_events_add('added_561_checkout');var added_upsells=$("#added_upsells").val();$("#added_upsells").val(added_upsells+"|"+prod_id);local_storage_set('added_upsells',$("#added_upsells").val());get_checkout_v2_sections();}).done(function(){update_cart_token();});break;default:fls_events_add('added_domain_upsell_'+prod_id+'_checkout');$.post(Drupal.settings.baseUrl+"/websites/prepareupsell",{site_id:$("#domain_site_id").val(),upsell_ids:prod_id,checkout_v2:1},function response(data){if(data==1){get_checkout_v2_sections();update_cart_token();}});break;}
if(!$("#upsell_"+prod_id+"_overlay").length){added_upsell_obj=$('#section_upsells .upsells_new_single[item="'+prod_id+'"]');var offset=added_upsell_obj.offset();var upsell_overlay=$("#upsell_overlay").clone();upsell_overlay.attr("id","upsell_"+prod_id+"_overlay");overlay_top=offset.top;overlay_height=added_upsell_obj.height()+15;if($("body.window_size_desktop").length){overlay_height=added_upsell_obj.height()+50;}
$('#section_upsells .upsells_new_single[item="'+prod_id+'"]').prepend(upsell_overlay);upsell_overlay.css({height:overlay_height,});var upsell_overlay_content=$("#upsell_overlay_content").clone();upsell_overlay_content.css({height:overlay_height,});upsell_overlay_content.attr("id","upsell_"+prod_id+"_overlay_content");$("#upsell_"+prod_id+"_overlay").after(upsell_overlay_content);$("#upsell_"+prod_id+"_overlay").removeClass('mobile-hide desktop-hide');var remove_upsell_link=$("#upsell_"+prod_id+"_overlay_content .remove_upsell_from_cart").attr("href");$("#upsell_"+prod_id+"_overlay_content .remove_upsell_from_cart").attr("item",prod_id);$("#upsell_"+prod_id+"_overlay_content").removeClass('mobile-hide desktop-hide');}else{$("#upsell_"+prod_id+"_overlay").removeClass('mobile-hide desktop-hide');$("#upsell_"+prod_id+"_overlay_content").removeClass('mobile-hide desktop-hide');}
var cont_obj=$(".upsell_overlay").not("#upsell_overlay_content");$("#upsell_"+prod_id+"_overlay_content a").hide();return false;});$("#section_form_data .edit").click(function(){$(this).addClass("edited");$("#section_form_data .section").each(function(){section_id=$(this).attr("id");$(this).addClass('mobile-hide desktop-hide');if($("#"+section_id).hasClass("completed")){$("."+section_id+"_header .checked").show();$("."+section_id+"_header>div:not(.checked)").hide();}else{$("."+section_id+"_header .checked").hide();$("."+section_id+"_header>div:not(.checked)").show();}});var parent_header=$(this).parent().parent().attr("class").split(" ")[0];if(parent_header=="section_billing_header"){fls_events_add('hit_checkout_billing_section',1);Drupal.settings.billing_edited=true;Drupal.settings.checkout_current_section="section_billing";}else if(parent_header=="section_shipping_header"){fls_events_add('hit_checkout_shipping_section',1);Drupal.settings.checkout_current_section="section_shipping";}
$("."+parent_header+">div.checked").hide();$("."+parent_header+">div:not(.checked)").show();$("#section_form_data .section .continue").addClass("mobile-hide desktop-hide");current_section=parent_header.replace("_header","");$("#section_form .section").hide();$("#"+current_section).removeClass("mobile-hide desktop-hide");$("#"+current_section).show();var payment_method=$('#payment-methods .payment-methods-options input:checked').val();if(payment_method=='new_payment'){}
else{if(current_section=='section_billing'){$("#section_billing>div").removeClass("checkout_hide_row");}}
$("#section_form .payment_field #edit-submit-braintree-hosted-fields").hide();if(fls_store_checkout_btpaypal_check()){$("#braintree-paypal-button").hide();}
$("#edit-submit").hide();if(current_section=='section_shipping'){$("#section_shipping .billing_section_header").show();$(".billing_section_header").parent("div").removeClass("checkout_hide_row");$('#edit-billing-as-shipping-billing-as-shipping').trigger("change");}
$("#"+current_section+" .continue").removeClass("mobile-hide desktop-hide");$("#"+current_section+" .continue").parent("div").removeClass("checkout_hide_row");if(current_section!="section_payment"){$(".accept_terms_row").hide();}else{$(".accept_terms_row").show();}});}
function update_cart_token(){var lang_prefix='';if(Drupal.settings.lang){lang_prefix=Drupal.settings.lang+'/';}
$.ajax({url:Drupal.settings.basePath+lang_prefix+'fls-store-get-cart-token-js',type:"GET",dataType:"json",success:function(data){if(data.cart_token)
Drupal.settings.cart_token=data.cart_token;}});}
function collectBillingDetails(){var checked_billing_details='';if($("#edit-first-name").val())checked_billing_details+=$("#edit-first-name").val()+" "+$("#edit-last-name").val()+"<br />";if($("#edit-billing-address").val())checked_billing_details+=$("#edit-billing-address").val()+"<br />";if($("#edit-city").val())checked_billing_details+=$("#edit-city").val()+" "+$("#edit-zip").val()+"<br />";if(checked_billing_details.length)
$(".section_billing_header .checked_billing_details>p").html(checked_billing_details);}
function collectShippingDetails(){var checked_shipping_details='';if($("#edit-shipping-first-name").val())checked_shipping_details+=$("#edit-shipping-first-name").val()+" "+$("#edit-shipping-last-name").val()+"<br />";if($("#edit-shipping-address").val())checked_shipping_details+=$("#edit-shipping-address").val()+"<br />";if($("#edit-shipping-city").val())checked_shipping_details+=$("#edit-shipping-city").val()+" "+$("#edit-shipping-zip").val()+"<br />";if(checked_shipping_details.length)
$(".section_shipping_header .checked_shipping_details>p").html(checked_shipping_details);}
function checkSectionStatus(section){if($("#"+section).hasClass("completed")){if(section=='section_billing'&&$("#has_shipping").val()==1)return checkSectionStatus("section_shipping");else if((section=='section_billing'&&$("#has_shipping").val()!==1)||section=='section_shipping')return checkSectionStatus("section_payment");return section;}
return section;}
function showHidePaymentForms(step){if(typeof(step)=='undefined'||($('#rsvErrors').is(":visible")&&!Drupal.settings.create_account_error))step="billing_section";var form_nr=$("#"+step).attr("item_nr");for(i=1;i<=4;i++){if(i<form_nr){$("#section_form_data .header_"+i+">div:not(.checked)").hide();$("#section_form_data .header_"+i+" .checked").show();}else{$("#section_form_data .header_"+i+">div:not(.checked)").show();$("#section_form_data .header_"+i+" .checked").hide();}}
return false;}
function proofsChecked(){var allChecked=true;$(".confirm_proof_checkbox").each(function(){var id=$(this).attr('id');var nr=id.split('_')[2];if(!local_storage_get("confirm_proof2_"+id,0)){allChecked=false;}});return allChecked;}
function initProofSection(){var allSelected=true;$(".confirm_proof_checkbox").each(function(){var id=$(this).attr('id');var nr=id.split('_')[2];if(local_storage_get("confirm_proof2_"+id,0)){$('#form_'+id).val(1);$(this).prop('checked',true);confirmProofCheckbox($(this),true);}else{allSelected=false;$("#section_proof_item_"+nr+" h3").addClass("opened_prod");$("#section_proof_item_"+nr+" .proof_container").addClass("opened_margin");}});if(allSelected){$(".thank_you_text").show();$(".init_text, .warning").hide();}else{$(".thank_you_text").hide();$(".init_text, .warning").show();}}
function confirmProofCheckbox(obj,confirmStatus){var nr=obj.attr("id").split('_')[2];var id=obj.attr("id");var lastProofItemId=$('div[id^="section_proof_item_"]').last().attr("id");if(!confirmStatus)$("#section_proof_item_"+nr+" .confirm_proof_checkbox").prop("checked",false);var separator=$("#section_proofs .margin-vertical").attr("class");if(obj.is(':checked')){$("#section_proof_item_"+nr+" .proof_container").removeClass("opened_margin");$("#edit_proof_"+nr).removeClass("mobile-hide");$("#edit_proof_"+nr).removeClass("desktop-hide");$("#section_proof_item_"+nr+" h3").removeClass("twelve");$("#section_proof_item_"+nr+" h3").removeClass("opened_prod");$("#section_proof_item_"+nr+" h3").addClass("nine");$("#section_proof_item_"+nr+" .material-icons").removeClass("mobile-hide desktop-hide");if("section_proof_item_"+nr==lastProofItemId){$(".last-separator").removeClass("desktop-hide");$(".last-separator").removeClass("mobile-hide");}
local_storage_set("confirm_proof2_checkbox_confirm_"+nr,true,new Date().getTime()+(5*60*1000));}else{$("#section_proof_item_"+nr+" .proof_container").addClass("opened_margin");$("#edit_proof_"+nr).addClass("mobile-hide");$("#edit_proof_"+nr).addClass("desktop-hide");$("#section_proof_item_"+nr+" h3").removeClass("nine");$("#section_proof_item_"+nr+" h3").addClass("opened_prod");$("#section_proof_item_"+nr+" h3").addClass("twelve");$("#section_proof_item_"+nr+" .material-icons").addClass("mobile-hide desktop-hide");if("section_proof_item_"+nr==lastProofItemId){$(".last-separator").addClass("desktop-hide");$(".last-separator").addClass("mobile-hide");}
local_storage_set("confirm_proof2_checkbox_confirm_"+nr,null);}
$("#section_proof_item_"+nr+" material-icons").removeClass("mobile-hide");$("#section_proof_item_"+nr+" material-icons").removeClass("desktop-hide");$("#section_proof_item_"+nr+" .proof_content").toggle("slow");var all_proofs_checked=true;$(".confirm_proof_checkbox").each(function(){if(!$(this).is(':checked')){all_proofs_checked=false;}});replaced_class=$("#section_proofs .continue:not(.back_to_cart)").attr("class");if(all_proofs_checked){replaced_class=replaced_class.replace("lmx_disabled_button",'lmx_primary_button');$("#section_proofs .continue:not(.back_to_cart)").parent().attr("class",$("#section_proofs .continue:not(.back_to_cart)").parent().attr("class").replace('margin-100','margin-20'));$(".thank_you_text").show();$(".init_text, .warning").hide();}else{replaced_class=replaced_class.replace("lmx_primary_button",'lmx_disabled_button');$(".init_text, .warning").show();$("#section_proofs .continue:not(.back_to_cart)").parent().attr("class",$("#section_proofs .continue:not(.back_to_cart)").parent().attr("class").replace('margin-20','margin-100'));$(".thank_you_text").hide();}
$("#section_proofs .continue:not(.back_to_cart)").attr("class",replaced_class);$(window).scrollTop($('#proof_prod_'+nr).offset().top);}
function userBillingAddressChanged(){var account_id="";var payment_method=$('#payment-methods .payment-methods-options input:checked').val();if(payment_method!='new_payment')
account_id=payment_method;if(!Drupal.settings.braintree_account[account_id])return false;var braintree=Drupal.settings.braintree_account[account_id];var billing_fields=["lastname","firstname","phone","address","address2","city","state","zipcode"];var users_billing_address_changed=false;for(i=0;i<billing_fields.length;i++){if(billing_fields[i]=="address"&&braintree['country_id']==36&&typeof Drupal.settings.billing_brasil_address!='undefined'){if(Drupal.settings.address_entered_by_user_changed["address"]!=braintree["address"]){if(Drupal.settings.billing_brasil_address.splited.billing_address!=Drupal.settings.address_entered_by_user_changed["address"]||Drupal.settings.billing_brasil_address.splited.billing_address2!=Drupal.settings.address_entered_by_user_changed["address2"]||Drupal.settings.billing_brasil_address.splited.billing_address3!=Drupal.settings.address_entered_by_user_changed["address3"])
users_billing_address_changed=true;break;}}else
if(Drupal.settings.address_entered_by_user_changed[billing_fields[i]]&&braintree[billing_fields[i]]!=Drupal.settings.address_entered_by_user_changed[billing_fields[i]]){users_billing_address_changed=true;break;}}
return users_billing_address_changed;}
function checkout_process_step(next_step,prev_step){Drupal.settings.submit_payment_clicked=false;var id=window.location.href.split('#')[1];$(".section").addClass('mobile-hide');$(".section").addClass('desktop-hide');$(".default, .btn").addClass("mobile-hide");$(".default, .btn").addClass("desktop-hide");$("#section_security_guarantee").addClass("mobile-hide desktop-hide");if(next_step=='section_upsells'&&$("#skip_upsells").val()==1){next_step='section_billing';}
showHideGoogleFields();if(next_step==='section_billing'||next_step==='section_shipping'){var payment_method=$('#payment-methods .payment-methods-options input:checked').val();if(payment_method!=='new_payment'){$("#section_billing").addClass("completed");$("#section_shipping").addClass("completed");collectBillingDetails();collectShippingDetails();$(".section_billing_header .checked").show();if($("."+prev_step+"_header .edit").hasClass("edited"))
$(".section_shipping_header .edit").trigger("click");}else{$(".section_billing_header .edit").show();}}
if(next_step==='section_shipping'){$("#section_shipping .billing_section_header").show();$(".billing_section_header").parent("div").removeClass("checkout_hide_row");$('#edit-billing-as-shipping-billing-as-shipping').trigger("change");}
if(!Drupal.settings.checkout_v2_force_section&&(next_step==='section_billing'||next_step==='section_payment'||next_step==='section_shipping')&&(!$("."+prev_step+"_header .edit").hasClass("edited"))){var status_result=checkSectionStatus(next_step);if(status_result!==true)next_step=status_result;$("."+prev_step+"_header .edit").removeClass("edited");}
if(!Drupal.settings.checkout_ajax_response)
switch(next_step){case'section_products':fls_events_add('hit_checkout_cart_section',1);break;case'section_upsells':fls_events_add('hit_checkout_upsell_section',1);break;case'section_billing':fls_events_add('hit_checkout_billing_section',1);break;case'section_shipping':fls_events_add('hit_checkout_shipping_section',1);break;case'section_account':fls_events_add('hit_checkout_account_section',1);break;case'section_payment':fls_events_add('hit_checkout_payment_section',1);break;}
Drupal.settings.checkout_ajax_response=0;$("#"+next_step).removeClass('desktop-hide');$("#"+next_step).removeClass('mobile-hide');$(".btn"+"."+next_step).removeClass("mobile-hide");$(".btn"+"."+next_step).removeClass("desktop-hide");$("#section_payment_cart").hide();if(next_step!="section_proofs"){$("#section_cart").removeClass('desktop-hide');$("#section_cart").removeClass('mobile-hide');$("#section_cart").show();}else{$("#section_cart").hide();}
$("#section_form_data .section .continue").addClass("mobile-hide desktop-hide");$("#section_form .payment_field #edit-submit-braintree-hosted-fields").hide();$("#"+next_step+" .continue").removeClass('desktop-hide mobile-hide');$("#"+next_step+" .continue").removeClass("mobile-hide desktop-hide");$("#"+next_step+" .continue").parent("div").removeClass("checkout_hide_row");if(next_step=='section_upsells'){fls_events_add("hit_upsells_on_checkout");$("#section_form").removeClass("mobile-hide");$("#section_form").removeClass("desktop-hide");$("#section_form #section_form_data").hide();$("#section_form #section_upsells").show();$("#section_upsells .back_to_cart").attr("href","#section_products");$("#section_form .checkout_total_container").hide();}else
if(next_step==='section_billing'||next_step==='section_payment'||next_step==='section_shipping'||next_step==='section_account'){var shipping_obj_dropdown=$('#shipping-up-js');fls_store_update_price(shipping_obj_dropdown);update_order_total();$("#section_form .section").hide();if(!$("#section_payment #section_payment_cart").length){var billing_cart_section=$("#section_cart").clone().attr("id",'section_payment_cart');billing_cart_section.insertAfter("#section_payment");}
$("#section_cart").hide();$("#section_payment_cart").show();$("#"+next_step).removeClass("mobile-hide desktop-hide");$("#"+next_step).show();$("#"+next_step+" .continue").removeClass("mobile-hide desktop-hide");$("#section_form").removeClass("mobile-hide");$("#section_form").removeClass("desktop-hide");showHidePaymentForms(next_step);var payment_method=$('#payment-methods .payment-methods-options input:checked').val();$("#section_form #section_upsells").hide();$("#section_form #section_form_data").show();$("#section_form .checkout_total_container").hide();if(next_step=="section_shipping"){$('#edit-billing-as-shipping-billing-as-shipping').trigger("change");}
if(next_step!=='section_payment'){$("#section_cart").addClass('desktop-hide mobile-hide');}else{if(!$('#edit-billing-as-shipping-billing-as-shipping').is(':checked')){Drupal.settings.save_shipping_address=true;}
$("#payment_overlay").hide();$("#section_form .checkout_total_container").show();if(typeof Drupal.settings.braintree_hosted_fields!='undefined'&&Drupal.settings.braintree_hosted_fields){if(payment_method=='new_payment'){$('#edit-submit-braintree-hosted-fields, #edit-submit').hide();$('#section_form #edit-submit-braintree-hosted-fields').show();}else{$('#edit-submit-braintree-hosted-fields, #edit-submit').hide();$('#edit-submit').show().css('visibility','visible');}}
$("#section_security_guarantee").removeClass("mobile-hide desktop-hide");$(".accept_terms_row").show();}
if(Drupal.settings.upsells_nr&&!$("#skip_upsells").val())
$("#section_order_review .back_to_cart").attr("href","#section_upsells");else $("#section_order_review .back_to_cart").attr("href","#section_products");}else if(next_step=='section_products'){$(".default").removeClass("mobile-hide");$(".default").removeClass("desktop-hide");$("#section_added_upgrades").removeClass("mobile-hide");$("#section_added_upgrades").removeClass("desktop-hide");}
if(next_step!=='section_payment'){$(".accept_terms_row").hide();}else{$(".accept_terms_row").show();}
if(next_step=='section_billing'){$("#fls-store-payment-form .form_table").removeClass("mobile-hide");$("#fls-store-payment-form .form_table").removeClass("desktop-hide");if(fls_store_checkout_form_freeorder_check()&&!fls_store_checkout_has_website()&&!Drupal.settings.cart_has_subscription){if($('#edit-billing-as-shipping-billing-as-shipping').length){shipping_exception_inputs='.shipping_section_header, #edit-shipping-first-name, #edit-shipping-last-name, #store-edit-shipping-country, #edit-shipping-address, #edit-shipping-address2, #edit-shipping-city, #edit-shipping-zip, #edit-shipping-phone';$("#rsvErrors,"+shipping_exception_inputs).each(function(){$(this).parent().parent().prev('.shipping_label_cont').show();});$(".section_billing_header,.section_payment_header").hide();$(".checkout_v2_redesign_shipping_country_placeholder").show();$("#section_shipping").removeClass("desktop-hide");$("#section_shipping").removeClass("mobile-hide");$("#section_shipping").show();$(".section_shipping_header>div:not(.checked), .section_shipping_header>div:not(.checked) div").show();$(".section_shipping_header").show();$("#edit-billing-as-shipping-billing-as-shipping").prop("checked",false);$(".submit_button_container").show();$(".submit_button_container #edit-submit").show();if(!$("#section_payment_cart").length){var billing_cart_section=$("#section_cart").clone().attr("id",'section_payment_cart');billing_cart_section.insertAfter("#section_payment");$("#section_cart").hide();$("#section_payment_cart").show();}}}}
Drupal.settings.checkout_current_section=next_step;if(next_step=='section_shipping'||next_step=='section_payment'){if(next_step=='section_payment'&&fls_store_checkout_btpaypal_check()){setTimeout(function(){var amount=$("#section_payment_cart .upsells_new_total_price span").html();var save_payment_status=$('#saving-card-details').is(':checked');if(!save_payment_status){fls_braintree_paypal_init(true,amount,Drupal.settings.user_currency_code);}
else{fls_braintree_paypal_init(false);}},2000);}
if(userBillingAddressChanged()){$(".braintree_err").show();}else{$(".braintree_err").hide();}
Drupal.settings.billing_edited=false;}};var oneDom_domain;var oneDom_domain_obj;var currentSuggestedDomPos=0;var alertDisplayed=0;oneDom_domain='';websites_domain_allow_submit=false;$(document).ready(function(){if(Drupal.settings.load_weebly_preview_lightbox){WEEBLYPREVIEW.init(Drupal.settings.domain_in_cart);}
if($('body').hasClass('page-body-websites-domain'))
$(".page-body-websites-domain form").submit(function(){if(!websites_domain_allow_submit)
{var form=$(this);selected_website=$(this).find('.websites_domain_suggestion').attr("value");if(typeof CHECKOUTWEBSITEBUNDLE!='undefined'){CHECKOUTWEBSITEBUNDLE.init(form);CHECKOUTWEBSITEBUNDLE.setSelectedDomain(selected_website);return false;}}});$(".alreadyowndomv2").click(function(){fls_events_add('click_already_own_dom_link',1);if(typeof LOGOWEBV2!="undefined")LOGOWEBV2.hidePopUp();if(typeof BCWEB!="undefined")BCWEB.hidePopUp();DOMAINSERVICE_POPUP.init();});if(typeof Drupal.settings.skip_domains_init=='undefined'){websites_domain_init();websites_search_init();}
if(typeof Drupal.settings.domain_init!='undefined'){websites_domain_init();}
$(".allreadyOwnDomain .ownDomain").click(function(){fls_events_add('click_alreadyowndom_link');});$('#need_domain').click(function(){$('.need_domain_content').show();return false;});});function get_checkout_v2_sections(){var lang="";if(Drupal.settings.lang!=''){lang=Drupal.settings.lang+"/";}
var get_available_upsell_ids=1;$.post(Drupal.settings.baseUrl+"/"+lang+"get_checkout_v2_sections",{available_upsell_ids:get_available_upsell_ids,added_upsell_id:$("#added_upsells").val()},function(){}).done(function(result){result=JSON.parse(result);if(result["checkout_v2_popups"])$("#main_container").after(result["checkout_v2_popups"]);if(typeof result['cart_has_subscription']!='undefined'){Drupal.settings.cart_has_subscription=result['cart_has_subscription'];}
$("#section_products").html(result["mycart"]);$("#section_cart").html(result["cart_total"]);$("#section_added_upgrades").html(result["upgrades"]);if(get_available_upsell_ids){get_available_upsell_ids=result["upsells"];$('.upsells_new_single .add_to_cart').each(function(){var item_id=($(this).attr("id")).replace('add_to_cart_','');var item_id_available=false;for(i=0;i<result["upsells"].length;i++){if(result["upsells"][i]==item_id){item_id_available=true;break;}}
if(item_id_available===false)$(this).css("visibility","hidden");else $(this).css("visibility","visible");});}else $("#section_upsells").html(result["upsells"]);$("#cart_items_order_in_cart").val(result["cart_items_order_in_cart"]);updateCartNumber(result['cart_items_nr']);var shipping_obj_dropdown=$('#shipping-up-js');fls_store_update_price(shipping_obj_dropdown);$("#section_order_review .order_total").html(result['cart_total_price']);alter_upsell_remove_url(result["cart_items_order_in_cart"]);$("#section_upsells .add_to_cart").removeClass("disabled");id=window.location.href.split('#')[1];Drupal.settings.checkout_ajax_response=1;checkout_process_step(id);checkout_v2_redesign_init("section_payment_cart");checkout_v2_redesign_init("section_cart");$("#cart_has_any_google_upsell_product").val(result['cart_has_any_google_upsell_product']);$("#cart_has_uberall").val(result['cart_has_uberall']);showHideGoogleFields();if(Drupal.settings.checkout_v2&&typeof Drupal.settings.cart_has_subscription!='undefined'&&Drupal.settings.cart_has_subscription){$(".subscription_terms_text").show();}else $(".subscription_terms_text").hide();});;}
function alter_upsell_remove_url(cart_items_order_in_cart){if(cart_items_order_in_cart){var cart_items_order=cart_items_order_in_cart.split("|");for(i=0;i<cart_items_order.length;i++){if(cart_items_order[i]){var order=cart_items_order[i].split(":");if($("#upsell_"+order[0]+"_overlay_content").length){prod_rem_link=$("#upsell_"+order[0]+"_overlay_content a").attr("href");var string_part=prod_rem_link.substr(prod_rem_link.indexOf("remove="));var string_remove_part=string_part.substr(0,string_part.indexOf("&"));if(prod_rem_link&&string_remove_part){prod_rem_link=prod_rem_link.replace(string_remove_part,"remove="+order[1]);}
$("#upsell_"+order[0]+"_overlay_content a").attr("href",prod_rem_link);$("#upsell_"+order[0]+"_overlay_content a").show();}}}
var cont_obj=$(".upsell_overlay").not("#upsell_overlay_content");}}
function add_upsell_to_cart(domain,gotopage){lang="";if(Drupal.settings.lang!=''){lang=Drupal.settings.lang+"/";}
if(Drupal.settings.weebly_preview_v2_split_set){WEEBLYPREVIEW.hidePopUp();if(Drupal.settings.workflow!="business-cards"&&Drupal.settings.weebly_preview_v2_split_set){$("#FLSBcSuggestLogoStep2Canvas-BackDesignDlg .selector-title").html("Share your new email address on matching Business Cards");$("#FLSBcSuggestLogoStep2Canvas-BackDesignDlg .fls-orangebutton.selector-action").html("Not Right Now");}
Drupal.settings.websites_add_to_cart_status=0;show_loaded_color_bc_suggestion_lightbox();}
var fields={pid:463,logo_websitesv2:1,google_apps:1,reduce_flow:"1",final_destination:gotopage,website_searched:domain,websites_domain_suggestion:domain,website_upsells:523};if(Drupal.settings.weebly_preview_v2_split_set){fields['json']=1;}
var fields_str='';for(var i in fields){fields_str+='<input type="hidden" name="'+i+'" value="'+fields[i]+'" />';}
if(Drupal.settings.weebly_preview_v2_split_set){Drupal.settings.websites_add_to_cart_status=0;$.post(Drupal.settings.baseUrl+'/'+lang+'websites/domain',fields).done(function(data){Drupal.settings.websites_add_to_cart_status=1;});}else{$('body').append('<form id="checkoutwebsitebundle_form" style="display:none;" action="'+Drupal.settings.baseUrl+'/'+lang+'websites/domain" method="post">'+fields_str+'</form>');$('#checkoutwebsitebundle_form').submit();}
return false;}
function add_email_to_upsell(domain,email,gotopage){lang="";if(Drupal.settings.lang!=''){lang=Drupal.settings.lang+"/";}
if(Drupal.settings.weebly_preview_v2_split_set){BUNDLEEMAIL.hidePopUp();if(Drupal.settings.workflow!="business-cards"){$("#FLSBcSuggestLogoStep2Canvas-BackDesignDlg .selector-title").html("Share your new email address on matching Business Cards");$("#FLSBcSuggestLogoStep2Canvas-BackDesignDlg .fls-orangebutton.selector-action").html("Not Right Now");if(Drupal.settings.workflow!="business-cards"){Drupal.settings.websites_add_to_cart_status=0;show_loaded_color_bc_suggestion_lightbox();}}}
console.log('POST DOMAIN3');var fields={pid:463,logo_websitesv2:1,google_apps:1,final_destination:gotopage,website_searched:domain,websites_domain_suggestion:domain,website_mailbox:1,website_upsells:523,websites_email_input:email};if(Drupal.settings.weebly_preview_v2_split_set){fields['json']=1;}
var fields_str='';for(var i in fields){fields_str+='<input type="hidden" name="'+i+'" value="'+fields[i]+'" />';}
if(Drupal.settings.workflow=="business-cards"&&Drupal.settings.weebly_preview_v2_split_set){bc_data["email"]=email+"@"+domain;bc_data["website"]=domain;FLSProductEditor.Init('FreelogoEditorCanvas',bc_data);}
Drupal.settings.websites_add_to_cart_status=0;$.post(Drupal.settings.baseUrl+'/'+lang+'websites/domain',fields).done(function(data){Drupal.settings.websites_add_to_cart_status=1;if(Drupal.settings.workflow!="business-cards"&&Drupal.settings.weebly_preview_v2_split_set)
return false;});return false;}
function website_select(obj){var selDomPos;if($("body[class*='page-body-step3'] .bcweb_popup.logowebv2").length){if(!Drupal.settings.freedomain_split_set){fls_events_add('accepted_paid_dom_logo_flow_lightbox');}else fls_events_add('accepted_free_dom_logo_flow');}
else if($(".page-body-step2 .bcweb_popup.logowebv2").length){if(!Drupal.settings.freedomain_split_set){fls_events_add('accepted_paid_dom_logo_flow_lightbox');}else fls_events_add('accepted_free_dom_logo_flow');}else if($(".bcweb_popup.bc_dom_lightbox").length){if(!Drupal.settings.freedomain_split_set){fls_events_add('accepted_paid_dom_bc_flow_lightbox');}else fls_events_add('accepted_free_dom_bc_flow');}else if($("#step-checkout1").length){fls_events_add('accept_freedom_from_checkout');}
fls_events_add('accepted_domain_upsell');if(Drupal.settings.domain_search_split_set&&$("input[name=source_split]").length&&!Drupal.settings.claim_domain_btn){parentForm=obj.parent('form').find('input[name=source_split]');parentForm.attr("value","domainsearch");fls_events_add('add_to_cart_from_search');}
selDomPos=$(".domain_available input[type='button']").index(obj);if(selDomPos!==-1){selDomPos=selDomPos*1+1*1;}
else{selDomPos=$(".websites_domain_suggestions_list input[type='button']").index(obj);if(selDomPos!==-1)
if($(".domain_available").css("display")=="none"){selDomPos=selDomPos*1+1*1;}else{selDomPos=selDomPos*1+2*1;}}
if(selDomPos!==-1)fls_events_add('pos_selected_dom',selDomPos);var form=$(obj).parent('form');var data=form.serializeArray();var selected_website=$(obj).parent('form').find('.websites_domain_suggestion').attr("value");if(typeof Drupal.settings.tlds_split_set!='undefined'){if(typeof Drupal.settings.websites_populate_data!='undefined'&&typeof Drupal.settings.websites_populate_data.available_tlds!='undefined'){for(var i in Drupal.settings.websites_populate_data.available_tlds){if(selected_website==Drupal.settings.websites_populate_data.available_tlds[i]['domain']){fls_events_add('last_selected_tld',Drupal.settings.websites_populate_data.available_tlds[i]['tld']);}}}}
if(typeof Drupal.settings.bcweb_latest_search_match!='undefined'){if(Drupal.settings.bcweb_latest_search_match['ga_action']&&Drupal.settings.bcweb_latest_search_match['ga_label']){ga('send','event','Website Select Match Type',Drupal.settings.bcweb_latest_search_match['ga_label']+'|'+Drupal.settings.bcweb_latest_search_match['ga_action'],selected_website);ga('send','event','Website Select Checked By',Drupal.settings.bcweb_latest_search_match['ga_country'],(Drupal.settings.bcweb_latest_search_match['ga_action']=='domainsbot')?'domainsbot':Drupal.settings.bcweb_latest_search_match['ga_checkedby']);}}
$.each(data,function(i,d){if(d.name=='websites_domain_suggestion'){$('.email_label').html('@'+d.value);$('.input_related_text span').each(function(){var text=$(this).text();text=text.replace('customerurl',d.value);$(this).text(text);});}
$('#'+d.name).val(d.value);});var isavailabeselect=$(obj).parents('div.domain_available');if(isavailabeselect.length>0)
ga('send','event','Website Save','search',$('#websites_domain_suggestion').val());else
ga('send','event','Website Save','recomended',$('#websites_domain_suggestion').val());if($('.bcweb_popup').length>0&&($('.overlay').length>0||$('#FLSPreviewOverlay').length)){if($('.logowebv2_popup_content').length>0&&$('.logowebv2_popup_content').html().length>0){}else if($('.gaweb_popup_content').length>0&&$('.gaweb_popup_content').html().length>0){fls_events_add('gaweb_email_lightbox');}else{fls_events_add('bc_web_email_lightbox');}}else{fls_events_add('email_domain_lightbox');}
if(typeof Drupal.settings.weblb_show_popup!='undefined'){fls_events_add('weblb_lightbox_fired');WEBLB.init($(obj).parent('form'));return false;}
if(typeof Drupal.settings.bcweb_popup!='undefined'){$("#bc_popup_right_mail .right_content").append($("#websites_domain_package_form"));$('#submit_mailbox, .submit_mailbox').click(function(){submit_mailbox_on_click();});var d=$('#email_label').text();$(".email_suggestions h4").each(function(){var text=$(this).text();$(this).text(text+d);});if(Drupal.settings.weebly_preview_v2_split_set&&(Drupal.settings.workflow=='business-cards'||Drupal.settings.logo_id)){$(".bcweb_popup").hide();WEEBLYPREVIEW.init(selected_website);}else{$("#bc_popup_right_domain").hide().addClass('right_domain_hide');$('#submit_mailbox, .submit_mailbox').text(Drupal.settings.mail_button);$('.bcweb_header').text(Drupal.settings.mail_header);$(".email_suggestions").show();$(".email_suggestions h3").show();$("#bc_popup_right_mail").show();}
if(bcweb_track_lightbox_data()){fls_events_add('saw_website_email');fls_events_add('business_email_lb_fired_from_all_pages');fls_events_add('lightbox_bcstep3em_views');}
Drupal.settings.onedomv2_google_popup_show=1;if($(".thankYouBox.bcweb_popup").hasClass("onedom_lb")){$(".thankYouBox.bcweb_popup").removeClass("onedom_lb");}
if(currentSuggestedDomPos!==0){alert(Drupal.settings.not_available_domain_msg);fls_events_add('fire_not_available_dom_box');alertDisplayed=1;local_storage_set("onedom_alert_box",0);currentSuggestedDomPos=0;}
$(".allreadyOwnDomain, .ownDomain").hide();$(".website_popup_button").css('margin-top','50px');$("#website_template").val(Drupal.settings.default_template);}else if(typeof Drupal.settings.gaweb_popup_fire!='undefined'){$("#bc_popup_right_mail .right_content").append($("#websites_domain_package_form"));$('#submit_mailbox, .submit_mailbox').click(function(){fls_events_add('clicked_continue_from_gaweb_lightbox');submit_mailbox_on_click();});var d=$('#email_label').text();$(".email_suggestions h4").each(function(){var text=$(this).text();$(this).text(text+d);});$("#bc_popup_right_domain").hide().addClass('right_domain_hide');$('#submit_mailbox, .submit_mailbox').text(Drupal.settings.mail_button);$('.bcweb_header').text(Drupal.settings.mail_header);$(".email_suggestions").show();$(".email_suggestions h3").show();$("#bc_popup_right_mail").show();if(bcweb_track_lightbox_data()){fls_events_add('lightbox_bcstep3em_views');fls_events_add('business_email_lb_fired_from_all_pages');}
Drupal.settings.onedomv2_google_popup_show=1;$('input[name="website_template"]').val(Drupal.settings.default_template);}else{if($('.logowebv2_popup_content').length>0){if(currentSuggestedDomPos!==0&&alertDisplayed!==1){local_storage_set("onedom_alert_box",1);}
if(typeof Drupal.settings.weebly_preview_split_set!='undefined'&&!Drupal.settings.diy_website_pickyourplan_split_set){LOGOWEBV2.hidePopUp();WEEBLYPREVIEW.init(selected_website);return false;}else if(typeof Drupal.settings.weebly_preview_split_set!='undefined'&&Drupal.settings.diy_website_pickyourplan_split_set){$(".website_template").val(Drupal.settings.default_template);$(obj).parent('form').submit();return false;}else
if(typeof Drupal.settings.gaupsell_split_set!='undefined'){fls_events_add('gaupsell_lightbox_fired');fls_events_add('business_email_lightbox_fired');var gaupsell_page_type='step2';if(typeof Drupal.settings.page_is_step2!='undefined'){gaupsell_page_type='step2';}else{gaupsell_page_type='step3';}
fls_events_add('business_email_lb_fired_from_all_pages');fls_events_add('lightbox_'+gaupsell_page_type+'em_views');$('.bcweb_popup.logowebv2 .close').mousedown(function(){fls_events_add('lightbox_'+gaupsell_page_type+'em_close');});$('.bcweb_popup.logowebv2 .orangeButton_close').mousedown(function(){fls_events_add('lightbox_'+gaupsell_page_type+'em_negativecta');});$("#logoweb_popup_right_mail .right_content").append($("#websites_domain_package_form"));$('#submit_mailbox, .submit_mailbox').click(function(){fls_events_add('clicked_continue_from_gaupsell_lightbox');submit_mailbox_on_click();});var d=$('#email_label').text();$(".email_suggestions h4").each(function(){var text=$(this).text();$(this).text(text+d);});$("#logoweb_popup_domain").hide().addClass('right_domain_hide');$(".website_popup_button_container .free_domain_info").hide();$(".website_popup_button").css('display','block').css('margin-top','20px');$(".bcweb_popup h2").text(Drupal.settings.mail_header);$(".email_suggestions").show();$(".email_suggestions h3").show();$("#logoweb_popup_mail").show();Drupal.settings.onedomv2_google_popup_show=1;if(currentSuggestedDomPos!==0){alert(Drupal.settings.not_available_domain_msg);fls_events_add('fire_not_available_dom_box');alertDisplayed=1;local_storage_set("onedom_alert_box",0);currentSuggestedDomPos=0;}
$(".allreadyOwnDomain").hide();$('input[name="website_template"]').val(Drupal.settings.default_template);$(".thankYouBox.bcweb_popup").removeClass("onedom_lb");}else{$(".website_template").val(Drupal.settings.default_template);$(obj).parent('form').submit();}}else{if(Drupal.settings.reduce_flow)
submit_mailbox_on_click(true);else $('.popup_css_mailbox').show();}}
return false;}
function websites_domain_init(){Drupal.settings.website_init_domain={domain:$('#websites_domain_search_input').val(),tld:$('#websites_domain_search_category').val(),event:0};$(".mailbox .closeBtn, .mailbox .close").click(function(e){$('#websites_domain_package_form').submit();});$('.websites_domain_search_button').click(function(e){e.preventDefault();$('#multisearch_domain_not_available').hide();$('#websites_domain_search_input_hidden').val($('#websites_domain_search_input').val());$(".domain_available .websites_domain_suggestions_form input[type='button']").addClass("orangeButton");$(".domain_available .websites_domain_suggestions_form input[type='button']").removeClass("disabled");$(".domain_available .websites_domain_suggestions_form input[type='button']").val(Drupal.settings.msg_select);if(Drupal.settings.domain_search_split_set)Drupal.settings.search_button_clicked=1;websites_domain_search_form();});$('.websites_domain_already_button').click(function(e){e.preventDefault();$(".gapps_unavailable_error").hide();if(!validate_domain($('#websites_domain_already_input').val())){$('.websites_domain_already_results_error').html(Drupal.settings.websites_domain_already_results_error);$('.websites_domain_already_results_error').slideDown();return false;}else $(".websites_domain_already_results_error").slideUp();$('.websites_domain_search_button').hide();$('.websites_domain_already_form').submit();});$('#websites_domain_search_input').keyup(websites_domain_keyup);$('#websites_domain_already_input').keyup(websites_domain_clean);$('#websites_domain_search_input').change(function(){websites_domain_clean(this);});$('#websites_domain_already_input').change(function(){websites_domain_clean(this);$('#websites_domain_search_input_hidden').val($('#websites_domain_search_input').val());});$('input[name="manage_email_input"]').click(function(){if($(this).val()==1){$('.psw').hide();$('#websites_forward_email_input').show();}
else{$('.psw').show();$('#websites_forward_email_input').hide();}});$('input[type="button"]').click(function(){website_select(this)});$(".websites_domain_package_form").submit(function(){window.onbeforeunload=null;});$('#websites_email_input').each(function(){$(this).bind('keypress',function(e){var idform=fls_find_form(this);if(e.keyCode==13&&idform=='websites_domain_package_form'){return submit_mailbox_on_click();}});});$('#submit_mailbox, .submit_mailbox').click(function(){if(typeof Drupal.settings.domain_lightbox_email_submit!='undefined')return false;window.onbeforeunload=null;submit_mailbox_on_click();});}
function submit_mailbox_on_click(skip_mailbox){var is_valid=true;if(skip_mailbox===undefined)skip_mailbox=false;if(!skip_mailbox){is_valid=validate_mailbox();}
if(is_valid){Drupal.settings.domain_lightbox_email_submit=1;if($('.bcweb_popup').length>0&&($('.overlay').length>0||$('#FLSPreviewOverlay').length)){if(!skip_mailbox){if($('.logowebv2_popup_content').length>0&&$('.logowebv2_popup_content').html().length>0){if(typeof Drupal.settings.gaupsell_split_set!='undefined'){fls_events_add('clicked_continue_from_gaupsell_lightbox');var gaupsell_page_type='step2';if(typeof Drupal.settings.page_is_step2!='undefined'){gaupsell_page_type='step2';}else{gaupsell_page_type='step3';}
fls_events_add('lightbox_'+gaupsell_page_type+'em_continue');}else{fls_events_add('logo_web_email_submit');}}else if($('.gaweb_popup_content').length>0&&$('.gaweb_popup_content').html().length>0){fls_events_add('clicked_continue_from_gaweb_lightbox');}else{fls_events_add('bc_web_email_submit');}}}
else{fls_events_add('completed_email_domain');}
$('#websites_domain_package_form').submit();}
return false;}
function websites_get_current_domain(){var domain=$('.websites_domain_search_form #websites_domain_search_input_hidden').val()+'.'+$('#websites_domain_search_category').val();return domain;}
function websites_domain_search_form(init,results){var dom_tld;dom_tld=$('#websites_domain_search_category option:selected').text().substring(1);if(Drupal.settings.domain_search_split_set){if($(".domainsearch_split_cont").length)
dom_tld=$('.domainsearch_split_cont #websites_domain_search_category option:selected').text().substring(1);}
var domain_name=$('.websites_domain_search_form #websites_domain_search_input_hidden').val().trim();if(!domain_name)return false;var domain_clean=domain_name.replace(/[^a-zA-Z0-9-]+/g,'');if(domain_clean!=domain_name){$('.websites_domain_results_error').slideDown();return false;}
var domain=domain_name+'.'+dom_tld;$(".websites_domain_search_button").prop("disabled",true);$(".websites_domain_search_button").addClass("disabled");$('.domain_available').hide();$('#domain_not_available').hide();var domain_text=domain;if(typeof Drupal.settings.bcweb_popup!='undefined'||typeof Drupal.settings.gaweb_popup_fire!='undefined'){domain_text=Drupal.settings.email_name_label+'@'+domain;}
$('.domain_available .websites_domain_suggestion').val(domain);$('.domain_available .websites_domain_suggestion_text').text(domain_text);$('#domain_not_available .websites_domain_suggestion_text').text(domain_text);$('.websites_domain_results').slideUp();$('.other_suggested_domain_names').hide();$('.suggested_domain_names').show();$('.websites_domain_results_error, .websites_domain_already_results_error, .websites_domain_results_error_noavailable').hide();$('.websites_domain_suggestions_loading').slideDown();var data={domain:domain};if(Drupal.settings.bcweb_popup||Drupal.settings.logowebv2_popup){data['source']='popup';}
$.ajax({type:"POST",url:Drupal.settings.websites_domain_search_api,data:data,cache:false,dataType:"json",success:function(response)
{$('.websites_domain_search_button').prop("disabled",false);$('.websites_domain_search_button').removeClass("disabled");if(Drupal.settings.domain_search_split_set)
response["after_search"]=1;domain_text=response["domain"];if(typeof Drupal.settings.bcweb_popup!='undefined'||typeof Drupal.settings.gaweb_popup_fire!='undefined'){domain_text=Drupal.settings.email_name_label+'@'+response["domain"];}
$('.domain_available .websites_domain_suggestion').val(response["domain"]);$('.domain_available .websites_domain_suggestion_text').text(domain_text);$('#domain_not_available .websites_domain_suggestion_text').text(domain_text);websites_domain_parse_search_results(response,init,results);var domain_name=response["domain"].split('.');$("#websites_domain_search_input").val(domain_name[0]);$('#websites_domain_search_input_hidden').val($('#websites_domain_search_input').val());websites_prepare_buttons();}});}
function websites_prepare_buttons(){if(typeof Drupal.settings.websites_populate_data!='undefined'&&typeof Drupal.settings.websites_populate_data['domain_match_type']&&Drupal.settings.websites_populate_data['domain_match_type']){fls_events_add('dom_lightbox_match_type',Drupal.settings.websites_populate_data['domain_match_type']);if(typeof Drupal.settings.websites_populate_data['tlds']!='undefined'){var first_tld_user_see='';if(typeof Drupal.settings.websites_populate_data['available_tlds'][0]!='undefined'){first_tld_user_see=Drupal.settings.websites_populate_data['available_tlds'][0]['tld'];var tld_priority=$.inArray(first_tld_user_see,Drupal.settings.websites_populate_data['tlds']);tld_priority++;fls_events_add('dom_lightbox_first_tld',tld_priority);}}}
if(typeof Drupal.settings.check_domain_cache=='undefined'){Drupal.settings.check_domain_cache={};if(typeof Drupal.settings.websites_populate_data!='undefined'&&typeof Drupal.settings.websites_populate_data['check_db']!='undefined'&&Drupal.settings.websites_populate_data['check_db']){if(typeof Drupal.settings.websites_populate_data['unavailable_tlds_db']!='undefined'&&Drupal.settings.websites_populate_data['unavailable_tlds_db']){for(var x in Drupal.settings.websites_populate_data['unavailable_tlds_db']){Drupal.settings.check_domain_cache[Drupal.settings.websites_populate_data['unavailable_tlds_db'][x]]=false;}}
if(typeof Drupal.settings.websites_populate_data['available']!='undefined'&&typeof Drupal.settings.websites_populate_data['domain']!='undefined'){Drupal.settings.check_domain_cache[Drupal.settings.websites_populate_data['domain']]=Drupal.settings.websites_populate_data['available'];}}}
websites_domain_is_sequential_check_error('init');$('.websites_domain_page input[type="button"]').unbind("click");$('.websites_domain_page input[type="button"]:not(.disabled)').click(function(){websites_domain_is_sequential_check_error('show_loading');if($(".page-body-checkout").length>0){fls_events_add('total_clicks_checkout_upsell_lightbox');}
var suggestedDomain=$(this).parent('form').find('.websites_domain_suggestion').attr("value");$('.websites_domain_results_error_noavailable').hide();if(typeof Drupal.settings.check_domain_on_dropdown_change!='undefined'&&Drupal.settings.check_domain_on_dropdown_change){if(typeof Drupal.settings.check_domain_cache!='undefined'&&typeof Drupal.settings.check_domain_cache[suggestedDomain]!='undefined'){websites_domain_is_sequential_check_error('hide_loading');if(!Drupal.settings.check_domain_cache[suggestedDomain])websites_domain_is_sequential_check_error();return false;}}
var myobj;myobj=$(this);if(myobj.hasClass("claim_domain")){oneDom_domain_obj.trigger('click');return false;}
$(".websites_domain_suggestions_list .fls-bluebutton:not(.disabled), .domain_available .fls-bluebutton:not(.disabled), .top_websites_domain_search_form .fls-bluebutton:not(.disabled)").prop("disabled",true);$('.websites_domain_suggestions_list input[type="button"]:not(.disabled), .domain_available input[type="button"]:not(.disabled), .top_websites_domain_search_form input[type="submit"]:not(.disabled)').removeClass("fls-bluebutton");$('.domain_available input[type="button"]:not(.disabled)').removeClass("orangeButton");$('.websites_domain_suggestions_list input[type="button"]:not(.disabled), .domain_available input[type="button"]:not(.disabled), .top_websites_domain_search_form input[type="submit"]:not(.disabled)').addClass("disabled_btn");$('.websites_domain_suggestions_loading').slideDown();if(typeof Drupal.settings.check_domain_cache!='undefined'&&typeof Drupal.settings.check_domain_cache[suggestedDomain]!='undefined'&&typeof Drupal.settings.websites_populate_data!='undefined'&&typeof Drupal.settings.websites_populate_data['check_db']!='undefined'&&Drupal.settings.websites_populate_data['check_db']){var resultData={available:Drupal.settings.check_domain_cache[suggestedDomain]};websites_domain_check_callback(suggestedDomain,myobj,resultData);}else{var source='';if(typeof Drupal.settings.websites_populate_data!='undefined'&&typeof Drupal.settings.websites_populate_data['check_db']!='undefined'&&Drupal.settings.websites_populate_data['check_db']){source='popup';}
var squential_domain_check='';if(typeof Drupal.settings.websites_populate_data!='undefined'&&typeof Drupal.settings.websites_populate_data['checked-by']!='undefined'){squential_domain_check=Drupal.settings.websites_populate_data['checked-by'];}
$.post(Drupal.settings.websites_domain_search_api,{domain:suggestedDomain,limit:"0",vendor:'gandi',source:source,checked_by:squential_domain_check,website_upsells:Drupal.settings.website_upsells},function res(data){websites_domain_check_callback(suggestedDomain,myobj,data);},"json");}});}
function websites_domain_check_callback(suggestedDomain,myobj,data){if(typeof data['domain']!='undefined'&&suggestedDomain!=data['domain'])data.available=false;if(typeof Drupal.settings.check_domain_cache!='undefined'&&typeof Drupal.settings.check_domain_cache[suggestedDomain]=='undefined')Drupal.settings.check_domain_cache[suggestedDomain]=data.available;if(!data.available){$('.websites_domain_suggestions_loading').slideUp();$('.websites_domain_suggestions_list input[type="button"]:not(.disabled), .domain_available input[type="button"]:not(.disabled), .top_websites_domain_search_form input[type="submit"]:not(.disabled)').prop("disabled",false);$('.websites_domain_suggestions_list input[type="button"]:not(.disabled), .domain_available input[type="button"]:not(.disabled), .top_websites_domain_search_form input[type="submit"]:not(.disabled)').removeClass("disabled_btn");$('.websites_domain_suggestions_list input[type="button"]:not(.disabled), .top_websites_domain_search_form input[type="submit"]:not(.disabled)').addClass("fls-bluebutton");$('.domain_available input[type="button"]:not(.disabled)').addClass("orangeButton");if(!$(".thankYouBox.bcweb_popup").hasClass("onedom_lb")||(typeof Drupal.settings.websites_populate_data!='undefined'&&Drupal.settings.websites_populate_data['domain_match_type']=='domainsbot')){myobj.removeClass("fls-bluebutton");myobj.addClass("disabled");myobj.val(Drupal.settings.msg_not_available);myobj.unbind("click");fls_events_add('onedom_dropdown_error_onchange');}
if(websites_domain_is_sequential_check_error())return false;return false;}else{if(typeof Drupal.settings.websites_populate_data!='undefined'&&typeof Drupal.settings.websites_populate_data['check_db']!='undefined'&&Drupal.settings.websites_populate_data['check_db']){var resultData={available:data.available};websites_domain_db_check_callback(suggestedDomain,myobj,resultData);}else{$.post(Drupal.settings.websites_domain_research_api,{domain:suggestedDomain},function result(resultData){websites_domain_db_check_callback(suggestedDomain,myobj,resultData);},"json");}}}
function websites_domain_db_check_callback(suggestedDomain,myobj,resultData){if(typeof Drupal.settings.check_domain_cache!='undefined')Drupal.settings.check_domain_cache[suggestedDomain]=resultData.available;if(resultData.available){if(typeof Drupal.settings.check_domain_on_dropdown_change=='undefined'||!Drupal.settings.check_domain_on_dropdown_change){website_select(myobj);}
websites_domain_is_sequential_check_error('hide_loading');}
else{$('.websites_domain_suggestions_loading').slideUp();if(typeof Drupal.settings.bc_logoweb_split_set=='undefined'){$('.websites_domain_suggestions_list input[type="button"]:not(.disabled), .domain_available input[type="button"]:not(.disabled), .top_websites_domain_search_form input[type="submit"]:not(.disabled)').prop("disabled",false);$('.websites_domain_suggestions_list input[type="button"]:not(.disabled), .domain_available input[type="button"]:not(.disabled), .top_websites_domain_search_form input[type="submit"]:not(.disabled)').removeClass("disabled_btn");$('.websites_domain_suggestions_list input[type="button"]:not(.disabled), .top_websites_domain_search_form input[type="submit"]:not(.disabled)').addClass("fls-bluebutton");$('.domain_available input[type="button"]:not(.disabled)').addClass("orangeButton");}
else{if(!resultData.available){$('.websites_domain_suggestions_list input[type="button"]:not(.disabled), .domain_available input[type="button"]:not(.disabled), .top_websites_domain_search_form input[type="submit"]:not(.disabled)').prop("disabled",false);$('.websites_domain_suggestions_list input[type="button"]:not(.disabled), .domain_available input[type="button"]:not(.disabled), .top_websites_domain_search_form input[type="submit"]:not(.disabled)').removeClass("disabled_btn");$('.websites_domain_suggestions_list input[type="button"]:not(.disabled), .top_websites_domain_search_form input[type="submit"]:not(.disabled)').addClass("fls-bluebutton");$('.domain_available input[type="button"]:not(.disabled)').addClass("orangeButton");}}
if(typeof Drupal.settings.websites_populate_data!='undefined'&&typeof Drupal.settings.websites_populate_data['sequential']=='undefined'){if($(".thankYouBox.bcweb_popup").hasClass("onedom_lb")&&typeof Drupal.settings.websites_populate_data!='undefined'&&Drupal.settings.websites_populate_data['domain_match_type']!='domainsbot'){currentSuggestedDomPos+=1;oneDom_domain=$('.websites_domain_suggestions_list .websites_domain_suggestions_form:nth-child('+currentSuggestedDomPos+') input[name="websites_domain_suggestion"]').val();oneDom_domain_obj=$('.websites_domain_suggestions_list .websites_domain_suggestions_form:nth-child('+currentSuggestedDomPos+') input[class="fls-bluebutton"]');if(oneDom_domain!==""){oneDom_domain_obj.trigger('click');}}}
if(!$(".thankYouBox.bcweb_popup").hasClass("onedom_lb")||(typeof Drupal.settings.websites_populate_data!='undefined'&&Drupal.settings.websites_populate_data['domain_match_type']=='domainsbot')){myobj.removeClass("fls-bluebutton");myobj.removeClass("orangeButton");myobj.addClass("disabled");myobj.val(Drupal.settings.msg_not_available);myobj.unbind("click");fls_events_add('onedom_dropdown_error_onchange');}
if(websites_domain_is_sequential_check_error())return false;return false;}}
function websites_domain_is_sequential_check_error(op){if(!$(".thankYouBox.bcweb_popup").hasClass("onedom_lb"))return false;if(typeof op=='undefined')op='error';if(typeof Drupal.settings.websites_populate_data!='undefined'&&typeof Drupal.settings.websites_populate_data['sequential']!='undefined'){if($('#one_domain_name .websites_domain_results_error_noavailable').length==0){$('.claim_domain').before($('.websites_domain_results_error_noavailable'));$('.websites_domain_results_error_noavailable').css({padding:'5px',margin:'5px',border:'0px none',color:'#000'});$('.claim_domain').after($('.websites_domain_suggestions_loading'));$('.claim_container').css({height:'37px'});$('.websites_domain_suggestions_loading').css({height:'37px',visibility:'hidden',display:'block'});}
if(op=='show_loading'){$('.claim_domain').hide();$('.websites_domain_suggestions_loading').show().css('visibility','visible');}
if(op!='show_loading'){$('.websites_domain_suggestions_loading').hide();$('.claim_domain').show();}
if(op=='error'){$('.websites_domain_results_error_noavailable').show();$('.claim_domain').hide();fls_events_add('onedom_dropdown_error_onchange');}
return true;}
return false;}
function websites_search_init(){if($("input[name='google_apps']").val()==1&&typeof Drupal.settings.gaweb_popup_fire=='undefined'){$(".website_popup_button .orangeButton").insertAfter(".websites_domain_page .right_content");$(".website_popup_button").css('margin-top','17px');}
if(Drupal.settings.skip_domain_result_population){if($(".thankYouBox.bcweb_popup").hasClass("onedom_lb")){$(".thankYouBox.bcweb_popup").removeClass("onedom_lb");$(".onedom_lb_container").remove();}
return false;}
if(typeof Drupal.settings.websites_populate_data!='undefined'){var domain=Drupal.settings.websites_populate_data["domain"];if(typeof Drupal.settings.websites_populate_data.domain_with_dash!='undefined'){fls_events_add('domain_contain_dash');}
if(typeof Drupal.settings.bcweb_popup!='undefined'||typeof Drupal.settings.gaweb_popup_fire!='undefined'){domain=Drupal.settings.email_name_label+'@'+Drupal.settings.websites_populate_data["domain"];}
$('.domain_available .websites_domain_suggestion').val(Drupal.settings.websites_populate_data["domain"]);$('.domain_available .websites_domain_suggestion_text').text(domain);$('#domain_not_available .websites_domain_suggestion_text').text(domain);websites_domain_parse_search_results(Drupal.settings.websites_populate_data);if(typeof Drupal.settings.tlds_split_set!='undefined'){fls_events_add('last_fired_dom_lightbox',1);onedomv2_close_trigger();}
onedomv2_create_dropdown();websites_prepare_buttons();if(typeof Drupal.settings.tlds_split_set!='undefined'){$('#websites_domain_search_input').val('');}
return;}
var domain=$('#websites_domain_search_input_hidden').val();if(typeof domain!='undefined'){if(domain.length>0){websites_domain_search_form(Drupal.settings.multisearch);return;}}}
function onedomv2_close_trigger(){if(typeof onedomv2_results2_rendered!='undefined')return;onedomv2_results2_rendered=true;$('.thankYouBox .close, .thankYouBox .closeBtn, .thankYouBox .orangeButton_close').click(function(){if(typeof Drupal.settings.onedomv2_google_popup_show=='undefined'){fls_events_add('last_click_close_btn',1);}});}
function onedomv2_create_dropdown(){if(typeof onedomv2_results_rendered!='undefined')return;onedomv2_results_rendered=true;var lightbox_type='list_tld';if(typeof Drupal.settings.tlds_split_set!='undefined'&&Drupal.settings.tlds_split_set==1&&typeof Drupal.settings.fls_onedom_split_set!='undefined'&&Drupal.settings.fls_onedom_split_set==1){lightbox_type='one_ltd';$("#one_domain_name").html(oneDom_domain);$('#one_domain_name').append($('.websites_domain_search_category_outer').not(".domainsearch_split_cont .websites_domain_search_category_outer").clone());$('#websites_domain_search_category').html('');var oneDom_dropdown_tlds='';var pos=0;for(var i in Drupal.settings.onedomv2_results){oneDom_dropdown_tlds+='<option value="'+pos+'">.'+Drupal.settings.onedomv2_results[i]['tld']+'</option>';pos++;}
$('#websites_domain_search_category').html(oneDom_dropdown_tlds);$('#websites_domain_search_category').change(function(){if(typeof Drupal.settings.tlds_split_set!='undefined'){fls_events_add('last_onedom_dropdown_interact',1);}
if(typeof Drupal.settings.websites_populate_data!='undefined'&&typeof Drupal.settings.websites_populate_data['sequential']!='undefined'){websites_domain_check_domain();}});setTimeout(function(){$('.claim_domain').unbind('click');$('.claim_domain').click(function(){Drupal.settings.check_domain_on_dropdown_change=0;$('.websites_domain_results_error_noavailable').hide();Drupal.settings.claim_domain_btn=1;if($(".page-body-checkout").length>0){fls_events_add('total_clicks_checkout_upsell_lightbox');fls_events_add('accept_freedom_from_checkout',1);}
var tld=$('#websites_domain_search_category option:selected').text().substring(1);$('.right_content .websites_domain_suggestions_form').each(function(){var domain_name=$(this).find('input[class="websites_domain_suggestion"]').val();if(domain_name){var domain=domain_name.split('.');domain.shift();var current_tld=domain.join('.');if(current_tld==tld){$(this).find('input[type="button"]').trigger('click');}}});});},500);}
fls_events_add('dom_lightbox_type',lightbox_type);}
function websites_domain_check_domain(){Drupal.settings.check_domain_on_dropdown_change=1;var tld=$('#websites_domain_search_category option:selected').text().substring(1);$('.right_content .websites_domain_suggestions_form').each(function(){var domain_name=$(this).find('input[class="websites_domain_suggestion"]').val();if(domain_name){var domain=domain_name.split('.');domain.shift();var current_tld=domain.join('.');if(current_tld==tld){$(this).find('input[type="button"]').trigger('click');}}});}
function websites_domain_identify_match(data){if(typeof data['domain_match_type']!=='undefined')
return data['domain_match_type'];return false;}
function websites_domain_parse_search_results(data,init,results){var error=false;if(typeof Drupal.settings.twolinesearch=='undefined'||(typeof Drupal.settings.twolinesearch!='undefined'&&!init)){if((error=websites_domain_parse_search_results_validate(data))!=false){websites_domain_search_error(error);if(Drupal.settings.domain_search_split_set&&data["after_search"]&&!$(".domain_search_err_div").length&&$(".onedom_lb_container").css("display")=="block"){var err_div;err_div=($('.websites_domain_results_error').clone()).addClass("domain_search_err_div");err_div.prependTo(".domainsearch_split_cont");}
return;}}
if(Drupal.settings.domain_search_split_set&&!$(".page-body-websites-domain").length&&Drupal.settings.search_button_clicked){fls_events_add('submit_search');}
if(Drupal.settings.domain_search_split_set&&data["after_search"]){var newButtonHref=$(".onedom_lb_container .closeBtn").attr("href");$(".onedom_lb_container .domainsearch_split_cont").remove();$('.onedom_lb_container').hide();$('.onedom_lb.bcweb_popup .right div.right_content .bottom_websites_domain_search_form').wrap('<div class="domainsearch_split_cont"></div>');$('.onedom_lb.bcweb_popup .right div.right_content').show();buttonClassName=$('#logoweb_popup_domain .right_content').next().attr("class");if(!buttonClassName||(buttonClassName&&buttonClassName.indexOf("website_popup_button")==-1)){if(buttonClassName)console.log(buttonClassName+"   "+buttonClassName.indexOf("website_popup_button"));var newButton=$(".website_popup_button:first").clone();$('#logoweb_popup_domain .right_content').after(newButton.addClass("dom_search_btn"));$(".dom_search_btn>a").attr("href",newButtonHref);$(".dom_search_btn").css('display','block').css('margin-top','20px').css("margin","0px auto");}}
if(init){if(!data['available']){if(typeof Drupal.settings.twolinesearch!='undefined'){$('#websites_domain_search_input_hidden').val(Drupal.settings.twolinesearch);var new_results=[];if(typeof data['suggest']!=='undefined'){if(data['suggest']!=null){new_results=data['suggest'].slice(0,5);}}
var domain=$('#websites_domain_search_input').val()+'.'+$('#websites_domain_search_category').val();if(typeof Drupal.settings.bcweb_popup!='undefined'||typeof Drupal.settings.gaweb_popup_fire!='undefined'){domain=Drupal.settings.email_name_label+'@'+domain;}
$('#multisearch_domain_not_available .websites_domain_suggestion_text').text(domain);$('#multisearch_domain_not_available').show();websites_domain_search_form(false,new_results);return;}}}
var ga_action=websites_domain_identify_match(data);var current_href=window.location.href;if(current_href.indexOf('business-cards/step3')>-1){ga_label='bc';}else if(current_href.indexOf('step2')>-1||current_href.indexOf('step3')>-1){ga_label='logo';}else if(current_href.indexOf('websites/domain')>-1){ga_label='DomainSearchLP';}else{var replace_base_url=Drupal.settings.baseUrl+'/';if(Drupal.settings.lang){replace_base_url+=Drupal.settings.lang;}
var current_path=current_href.replace(replace_base_url,'');var arr_current_path=current_path.split('/');ga_label=arr_current_path[0];}
ga('send','event','Website Type Search',ga_action,ga_label);Drupal.settings.bcweb_latest_search_match={ga_action:ga_action,ga_label:ga_label,ga_checkedby:data['checked-by'],ga_country:data['country']};if(typeof Drupal.settings.bcweb_initial_search_track=='undefined'){if(ga_action){ga('send','event','Website Initial Search',ga_action,ga_label);Drupal.settings.bcweb_initial_search_track=true;}}
if(typeof(data['available_tlds'])!='undefined'&&data['available_tlds'].length>0){Drupal.settings.onedomv2_results=data['available_tlds'];oneDom_domain='<span class="onedomv2_domain">'+Drupal.settings.onedomv2_results[0]['name']+'</span>';}else if(typeof(data['suggest'])!='undefined'&&data['suggest'].length>0){Drupal.settings.fls_onedom_split_set=0;$('.onedom_lb_container').hide();$('.onedom_lb.bcweb_popup .right div.right_content').show();$('.website_popup_button').css('display','inline-block');$('.website_popup_button a.orangeButton_close').css('margin-bottom','10px').css('display','block');$('.bcweb_popup_right a.orangeButton_close').css('display','block');if(!$('body').hasClass('mobile_view')){$('.onedom_lb.bcweb_popup:not(.logowebv2) .bcweb_popup_left').css('width','40%');$('.onedom_lb.bcweb_popup:not(.logowebv2) .bcweb_popup_right').css('width','59%');}}
if(typeof data['available']!=='undefined'){if(data['available']){if(Drupal.settings.tlds_split_set==1)
$('.search_header').show();ga('send','event','Website Search','Available',data['domain']);$('.suggested_domain_names').hide();$('.other_suggested_domain_names').show();oneDom_domain_obj=$('.domain_available .websites_domain_suggestions_form:first input[class="orangeButton"]');$('.domain_available').show();}else{if(typeof Drupal.settings.website_init_domain!='undefined'){if(!Drupal.settings.website_init_domain['event']){Drupal.settings.website_init_domain['event']=1;ga('send','event','Website Init Recommendation','Not Available',Drupal.settings.website_init_domain['domain']+'.'+Drupal.settings.website_init_domain['tld']);}}
if(Drupal.settings.tlds_split_set==1){$('#domain_not_available').hide();$('.search_header').hide();$('.other_suggested_domain_names').show();$('.suggested_domain_names').hide();}
else{$('.search_header').show();$('#domain_not_available').show();$('.suggested_domain_names').show();$('.other_suggested_domain_names').hide();}}}
if(typeof data['suggest']!=='undefined'){if(data['suggest']==null){$('.other_suggested_domain_names').hide();$('.suggested_domain_names').hide();}}
$('.websites_domain_results .websites_domain_results_container .websites_domain_suggestions_list').html('');if(typeof results=='undefined')results=[];if(data['suggest']!=null){results=$.merge(results,data['suggest']);results=results.slice(0,10);}
$.each(results,function(index,value){var default_entry=$('.websites_domain_results_container .template').html();$('.websites_domain_results .websites_domain_suggestions_list').append(default_entry);if(typeof Drupal.settings.bcweb_popup!='undefined'||typeof Drupal.settings.gaweb_popup_fire!='undefined'){$('.websites_domain_suggestions_list .websites_domain_suggestions_form:last .websites_domain_suggestion_text').text(Drupal.settings.email_name_label+'@'+value['domain']);}
else{$('.websites_domain_suggestions_list .websites_domain_suggestions_form:last .websites_domain_suggestion_text').text(value['domain']);}
$('.websites_domain_suggestions_list .websites_domain_suggestions_form:last .websites_domain_suggestion').val(value['domain']);$('.websites_domain_suggestions_list .websites_domain_suggestions_form:last').addClass('websites_domain_suggestion_'+index);});if(typeof data['domain']!='undefined'){$('.website_searched').val(data['domain']);}
$('.websites_domain_results').slideDown();$('.websites_domain_suggestions_loading').slideUp();if(oneDom_domain==""){oneDom_domain=$('.websites_domain_suggestions_list .websites_domain_suggestions_form:first input[name="websites_domain_suggestion"]').val();oneDom_domain_obj=$('.websites_domain_suggestions_list .websites_domain_suggestions_form:first input[class="fls-bluebutton"]');}
onedomv2_close_trigger();onedomv2_create_dropdown();}
function websites_domain_parse_search_results_validate(data){if(typeof data=='undefined')
return 101;if(data==false)
return 101;if(typeof data['isOk']=='undefined')
return 102;if(data['isOk']!=true)
return 103;if(typeof data['suggest']==false)
return 104;if((typeof data['available']=='undefined'||!data['available'])&&(typeof data.available_tlds=='undefined'||data.available_tlds.length==0)&&(typeof data.suggest=='undefined'||data.suggest.length==0)){return 105;}
return false;}
function websites_domain_search_error(error){if(error==105){$('.websites_domain_results_error_noavailable').slideDown();}else{$('.websites_domain_results_error').slideDown();}
$('.websites_domain_suggestions_loading').slideUp();}
function websites_domain_keyup(){websites_domain_clean();var domain=$('#websites_domain_search_input_hidden').val();$.each(Drupal.settings.tlds,function(index,value){if(value==domain.slice(domain.length-value.length)){$('#websites_domain_search_category').val(value);domain=domain.slice(0,-value.length);domain=domain.replace(/\./g,"");$('#websites_domain_search_input_hidden').val(domain);}});}
function websites_domain_clean(o){return false;var str=$(o).val();if(str){var str2=str.replace(/[^a-zA-Z0-9-.]+/g,'');if(str!=str2){$(o).val(str2);}}}
function validate_domain_tld(domain){if(!domain)return false;var dom_tld=domain.split(".").pop();if(dom_tld){if($.inArray(dom_tld,Drupal.settings.available_tlds)==-1)return false;return true;}else return false;return true;}
function validate_domain(domain){if(!domain)
return false;var re=new RegExp(/^(([a-zA-Z]{1})|([a-zA-Z]{1}[a-zA-Z]{1})|([a-zA-Z]{1}[0-9]{1})|([0-9]{1}[a-zA-Z]{1})|([a-zA-Z0-9][a-zA-Z0-9-_]{1,61}[a-zA-Z0-9]))\.([a-zA-Z]{2,6}|[a-zA-Z0-9-]{2,30}\.[a-zA-Z]{2,3})$/);return domain.match(re);};(function(factory){if(typeof define==="function"&&define.amd){define(["jquery"],factory);}else{factory(jQuery);}}(function($){$.ui=$.ui||{};var version=$.ui.version="1.12.1";var widgetUuid=0;var widgetSlice=Array.prototype.slice;$.cleanData=(function(orig){return function(elems){var events,elem,i;for(i=0;(elem=elems[i])!=null;i++){try{events=$._data(elem,"events");if(events&&events.remove){$(elem).triggerHandler("remove");}}catch(e){}}
orig(elems);};})($.cleanData);$.widget=function(name,base,prototype){var existingConstructor,constructor,basePrototype;var proxiedPrototype={};var namespace=name.split(".")[0];name=name.split(".")[1];var fullName=namespace+"-"+name;if(!prototype){prototype=base;base=$.Widget;}
if($.isArray(prototype)){prototype=$.extend.apply(null,[{}].concat(prototype));}
$.expr[":"][fullName.toLowerCase()]=function(elem){return!!$.data(elem,fullName);};$[namespace]=$[namespace]||{};existingConstructor=$[namespace][name];constructor=$[namespace][name]=function(options,element){if(!this._createWidget){return new constructor(options,element);}
if(arguments.length){this._createWidget(options,element);}};$.extend(constructor,existingConstructor,{version:prototype.version,_proto:$.extend({},prototype),_childConstructors:[]});basePrototype=new base();basePrototype.options=$.widget.extend({},basePrototype.options);$.each(prototype,function(prop,value){if(!$.isFunction(value)){proxiedPrototype[prop]=value;return;}
proxiedPrototype[prop]=(function(){function _super(){return base.prototype[prop].apply(this,arguments);}
function _superApply(args){return base.prototype[prop].apply(this,args);}
return function(){var __super=this._super;var __superApply=this._superApply;var returnValue;this._super=_super;this._superApply=_superApply;returnValue=value.apply(this,arguments);this._super=__super;this._superApply=__superApply;return returnValue;};})();});constructor.prototype=$.widget.extend(basePrototype,{widgetEventPrefix:existingConstructor?(basePrototype.widgetEventPrefix||name):name},proxiedPrototype,{constructor:constructor,namespace:namespace,widgetName:name,widgetFullName:fullName});if(existingConstructor){$.each(existingConstructor._childConstructors,function(i,child){var childPrototype=child.prototype;$.widget(childPrototype.namespace+"."+childPrototype.widgetName,constructor,child._proto);});delete existingConstructor._childConstructors;}else{base._childConstructors.push(constructor);}
$.widget.bridge(name,constructor);return constructor;};$.widget.extend=function(target){var input=widgetSlice.call(arguments,1);var inputIndex=0;var inputLength=input.length;var key;var value;for(;inputIndex<inputLength;inputIndex++){for(key in input[inputIndex]){value=input[inputIndex][key];if(input[inputIndex].hasOwnProperty(key)&&value!==undefined){if($.isPlainObject(value)){target[key]=$.isPlainObject(target[key])?$.widget.extend({},target[key],value):$.widget.extend({},value);}else{target[key]=value;}}}}
return target;};$.widget.bridge=function(name,object){var fullName=object.prototype.widgetFullName||name;$.fn[name]=function(options){var isMethodCall=typeof options==="string";var args=widgetSlice.call(arguments,1);var returnValue=this;if(isMethodCall){if(!this.length&&options==="instance"){returnValue=undefined;}else{this.each(function(){var methodValue;var instance=$.data(this,fullName);if(options==="instance"){returnValue=instance;return false;}
if(!instance){return $.error("cannot call methods on "+name+" prior to initialization; "+"attempted to call method '"+options+"'");}
if(!$.isFunction(instance[options])||options.charAt(0)==="_"){return $.error("no such method '"+options+"' for "+name+" widget instance");}
methodValue=instance[options].apply(instance,args);if(methodValue!==instance&&methodValue!==undefined){returnValue=methodValue&&methodValue.jquery?returnValue.pushStack(methodValue.get()):methodValue;return false;}});}}else{if(args.length){options=$.widget.extend.apply(null,[options].concat(args));}
this.each(function(){var instance=$.data(this,fullName);if(instance){instance.option(options||{});if(instance._init){instance._init();}}else{$.data(this,fullName,new object(options,this));}});}
return returnValue;};};$.Widget=function(){};$.Widget._childConstructors=[];$.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:false,create:null},_createWidget:function(options,element){element=$(element||this.defaultElement||this)[0];this.element=$(element);this.uuid=widgetUuid++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=$();this.hoverable=$();this.focusable=$();this.classesElementLookup={};if(element!==this){$.data(element,this.widgetFullName,this);this._on(true,this.element,{remove:function(event){if(event.target===element){this.destroy();}}});this.document=$(element.style?element.ownerDocument:element.document||element);this.window=$(this.document[0].defaultView||this.document[0].parentWindow);}
this.options=$.widget.extend({},this.options,this._getCreateOptions(),options);this._create();if(this.options.disabled){this._setOptionDisabled(this.options.disabled);}
this._trigger("create",null,this._getCreateEventData());this._init();},_getCreateOptions:function(){return{};},_getCreateEventData:$.noop,_create:$.noop,_init:$.noop,destroy:function(){var that=this;this._destroy();$.each(this.classesElementLookup,function(key,value){that._removeClass(value,key);});this.element.off(this.eventNamespace).removeData(this.widgetFullName);this.widget().off(this.eventNamespace).removeAttr("aria-disabled");this.bindings.off(this.eventNamespace);},_destroy:$.noop,widget:function(){return this.element;},option:function(key,value){var options=key;var parts;var curOption;var i;if(arguments.length===0){return $.widget.extend({},this.options);}
if(typeof key==="string"){options={};parts=key.split(".");key=parts.shift();if(parts.length){curOption=options[key]=$.widget.extend({},this.options[key]);for(i=0;i<parts.length-1;i++){curOption[parts[i]]=curOption[parts[i]]||{};curOption=curOption[parts[i]];}
key=parts.pop();if(arguments.length===1){return curOption[key]===undefined?null:curOption[key];}
curOption[key]=value;}else{if(arguments.length===1){return this.options[key]===undefined?null:this.options[key];}
options[key]=value;}}
this._setOptions(options);return this;},_setOptions:function(options){var key;for(key in options){this._setOption(key,options[key]);}
return this;},_setOption:function(key,value){if(key==="classes"){this._setOptionClasses(value);}
this.options[key]=value;if(key==="disabled"){this._setOptionDisabled(value);}
return this;},_setOptionClasses:function(value){var classKey,elements,currentElements;for(classKey in value){currentElements=this.classesElementLookup[classKey];if(value[classKey]===this.options.classes[classKey]||!currentElements||!currentElements.length){continue;}
elements=$(currentElements.get());this._removeClass(currentElements,classKey);elements.addClass(this._classes({element:elements,keys:classKey,classes:value,add:true}));}},_setOptionDisabled:function(value){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!value);if(value){this._removeClass(this.hoverable,null,"ui-state-hover");this._removeClass(this.focusable,null,"ui-state-focus");}},enable:function(){return this._setOptions({disabled:false});},disable:function(){return this._setOptions({disabled:true});},_classes:function(options){var full=[];var that=this;options=$.extend({element:this.element,classes:this.options.classes||{}},options);function processClassString(classes,checkOption){var current,i;for(i=0;i<classes.length;i++){current=that.classesElementLookup[classes[i]]||$();if(options.add){current=$($.unique(current.get().concat(options.element.get())));}else{current=$(current.not(options.element).get());}
that.classesElementLookup[classes[i]]=current;full.push(classes[i]);if(checkOption&&options.classes[classes[i]]){full.push(options.classes[classes[i]]);}}}
this._on(options.element,{"remove":"_untrackClassesElement"});if(options.keys){processClassString(options.keys.match(/\S+/g)||[],true);}
if(options.extra){processClassString(options.extra.match(/\S+/g)||[]);}
return full.join(" ");},_untrackClassesElement:function(event){var that=this;$.each(that.classesElementLookup,function(key,value){if($.inArray(event.target,value)!==-1){that.classesElementLookup[key]=$(value.not(event.target).get());}});},_removeClass:function(element,keys,extra){return this._toggleClass(element,keys,extra,false);},_addClass:function(element,keys,extra){return this._toggleClass(element,keys,extra,true);},_toggleClass:function(element,keys,extra,add){add=(typeof add==="boolean")?add:extra;var shift=(typeof element==="string"||element===null),options={extra:shift?keys:extra,keys:shift?element:keys,element:shift?this.element:element,add:add};options.element.toggleClass(this._classes(options),add);return this;},_on:function(suppressDisabledCheck,element,handlers){var delegateElement;var instance=this;if(typeof suppressDisabledCheck!=="boolean"){handlers=element;element=suppressDisabledCheck;suppressDisabledCheck=false;}
if(!handlers){handlers=element;element=this.element;delegateElement=this.widget();}else{element=delegateElement=$(element);this.bindings=this.bindings.add(element);}
$.each(handlers,function(event,handler){function handlerProxy(){if(!suppressDisabledCheck&&(instance.options.disabled===true||$(this).hasClass("ui-state-disabled"))){return;}
return(typeof handler==="string"?instance[handler]:handler).apply(instance,arguments);}
if(typeof handler!=="string"){handlerProxy.guid=handler.guid=handler.guid||handlerProxy.guid||$.guid++;}
var match=event.match(/^([\w:-]*)\s*(.*)$/);var eventName=match[1]+instance.eventNamespace;var selector=match[2];if(selector){delegateElement.on(eventName,selector,handlerProxy);}else{element.on(eventName,handlerProxy);}});},_off:function(element,eventName){eventName=(eventName||"").split(" ").join(this.eventNamespace+" ")+
this.eventNamespace;element.off(eventName).off(eventName);this.bindings=$(this.bindings.not(element).get());this.focusable=$(this.focusable.not(element).get());this.hoverable=$(this.hoverable.not(element).get());},_delay:function(handler,delay){function handlerProxy(){return(typeof handler==="string"?instance[handler]:handler).apply(instance,arguments);}
var instance=this;return setTimeout(handlerProxy,delay||0);},_hoverable:function(element){this.hoverable=this.hoverable.add(element);this._on(element,{mouseenter:function(event){this._addClass($(event.currentTarget),null,"ui-state-hover");},mouseleave:function(event){this._removeClass($(event.currentTarget),null,"ui-state-hover");}});},_focusable:function(element){this.focusable=this.focusable.add(element);this._on(element,{focusin:function(event){this._addClass($(event.currentTarget),null,"ui-state-focus");},focusout:function(event){this._removeClass($(event.currentTarget),null,"ui-state-focus");}});},_trigger:function(type,event,data){var prop,orig;var callback=this.options[type];data=data||{};event=$.Event(event);event.type=(type===this.widgetEventPrefix?type:this.widgetEventPrefix+type).toLowerCase();event.target=this.element[0];orig=event.originalEvent;if(orig){for(prop in orig){if(!(prop in event)){event[prop]=orig[prop];}}}
this.element.trigger(event,data);return!($.isFunction(callback)&&callback.apply(this.element[0],[event].concat(data))===false||event.isDefaultPrevented());}};$.each({show:"fadeIn",hide:"fadeOut"},function(method,defaultEffect){$.Widget.prototype["_"+method]=function(element,options,callback){if(typeof options==="string"){options={effect:options};}
var hasOptions;var effectName=!options?method:options===true||typeof options==="number"?defaultEffect:options.effect||defaultEffect;options=options||{};if(typeof options==="number"){options={duration:options};}
hasOptions=!$.isEmptyObject(options);options.complete=callback;if(options.delay){element.delay(options.delay);}
if(hasOptions&&$.effects&&$.effects.effect[effectName]){element[method](options);}else if(effectName!==method&&element[effectName]){element[effectName](options.duration,options.easing,callback);}else{element.queue(function(next){$(this)[method]();if(callback){callback.call(element[0]);}
next();});}};});var widget=$.widget;(function(){var cachedScrollbarWidth,max=Math.max,abs=Math.abs,rhorizontal=/left|center|right/,rvertical=/top|center|bottom/,roffset=/[\+\-]\d+(\.[\d]+)?%?/,rposition=/^\w+/,rpercent=/%$/,_position=$.fn.position;function getOffsets(offsets,width,height){return[parseFloat(offsets[0])*(rpercent.test(offsets[0])?width/100:1),parseFloat(offsets[1])*(rpercent.test(offsets[1])?height/100:1)];}
function parseCss(element,property){return parseInt($.css(element,property),10)||0;}
function getDimensions(elem){var raw=elem[0];if(raw.nodeType===9){return{width:elem.width(),height:elem.height(),offset:{top:0,left:0}};}
if($.isWindow(raw)){return{width:elem.width(),height:elem.height(),offset:{top:elem.scrollTop(),left:elem.scrollLeft()}};}
if(raw.preventDefault){return{width:0,height:0,offset:{top:raw.pageY,left:raw.pageX}};}
return{width:elem.outerWidth(),height:elem.outerHeight(),offset:elem.offset()};}
$.position={scrollbarWidth:function(){if(cachedScrollbarWidth!==undefined){return cachedScrollbarWidth;}
var w1,w2,div=$("<div "+"style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'>"+"<div style='height:100px;width:auto;'></div></div>"),innerDiv=div.children()[0];$("body").append(div);w1=innerDiv.offsetWidth;div.css("overflow","scroll");w2=innerDiv.offsetWidth;if(w1===w2){w2=div[0].clientWidth;}
div.remove();return(cachedScrollbarWidth=w1-w2);},getScrollInfo:function(within){var overflowX=within.isWindow||within.isDocument?"":within.element.css("overflow-x"),overflowY=within.isWindow||within.isDocument?"":within.element.css("overflow-y"),hasOverflowX=overflowX==="scroll"||(overflowX==="auto"&&within.width<within.element[0].scrollWidth),hasOverflowY=overflowY==="scroll"||(overflowY==="auto"&&within.height<within.element[0].scrollHeight);return{width:hasOverflowY?$.position.scrollbarWidth():0,height:hasOverflowX?$.position.scrollbarWidth():0};},getWithinInfo:function(element){var withinElement=$(element||window),isWindow=$.isWindow(withinElement[0]),isDocument=!!withinElement[0]&&withinElement[0].nodeType===9,hasOffset=!isWindow&&!isDocument;return{element:withinElement,isWindow:isWindow,isDocument:isDocument,offset:hasOffset?$(element).offset():{left:0,top:0},scrollLeft:withinElement.scrollLeft(),scrollTop:withinElement.scrollTop(),width:withinElement.outerWidth(),height:withinElement.outerHeight()};}};$.fn.position=function(options){if(!options||!options.of){return _position.apply(this,arguments);}
options=$.extend({},options);var atOffset,targetWidth,targetHeight,targetOffset,basePosition,dimensions,target=$(options.of),within=$.position.getWithinInfo(options.within),scrollInfo=$.position.getScrollInfo(within),collision=(options.collision||"flip").split(" "),offsets={};dimensions=getDimensions(target);if(target[0].preventDefault){options.at="left top";}
targetWidth=dimensions.width;targetHeight=dimensions.height;targetOffset=dimensions.offset;basePosition=$.extend({},targetOffset);$.each(["my","at"],function(){var pos=(options[this]||"").split(" "),horizontalOffset,verticalOffset;if(pos.length===1){pos=rhorizontal.test(pos[0])?pos.concat(["center"]):rvertical.test(pos[0])?["center"].concat(pos):["center","center"];}
pos[0]=rhorizontal.test(pos[0])?pos[0]:"center";pos[1]=rvertical.test(pos[1])?pos[1]:"center";horizontalOffset=roffset.exec(pos[0]);verticalOffset=roffset.exec(pos[1]);offsets[this]=[horizontalOffset?horizontalOffset[0]:0,verticalOffset?verticalOffset[0]:0];options[this]=[rposition.exec(pos[0])[0],rposition.exec(pos[1])[0]];});if(collision.length===1){collision[1]=collision[0];}
if(options.at[0]==="right"){basePosition.left+=targetWidth;}else if(options.at[0]==="center"){basePosition.left+=targetWidth/2;}
if(options.at[1]==="bottom"){basePosition.top+=targetHeight;}else if(options.at[1]==="center"){basePosition.top+=targetHeight/2;}
atOffset=getOffsets(offsets.at,targetWidth,targetHeight);basePosition.left+=atOffset[0];basePosition.top+=atOffset[1];return this.each(function(){var collisionPosition,using,elem=$(this),elemWidth=elem.outerWidth(),elemHeight=elem.outerHeight(),marginLeft=parseCss(this,"marginLeft"),marginTop=parseCss(this,"marginTop"),collisionWidth=elemWidth+marginLeft+parseCss(this,"marginRight")+
scrollInfo.width,collisionHeight=elemHeight+marginTop+parseCss(this,"marginBottom")+
scrollInfo.height,position=$.extend({},basePosition),myOffset=getOffsets(offsets.my,elem.outerWidth(),elem.outerHeight());if(options.my[0]==="right"){position.left-=elemWidth;}else if(options.my[0]==="center"){position.left-=elemWidth/2;}
if(options.my[1]==="bottom"){position.top-=elemHeight;}else if(options.my[1]==="center"){position.top-=elemHeight/2;}
position.left+=myOffset[0];position.top+=myOffset[1];collisionPosition={marginLeft:marginLeft,marginTop:marginTop};$.each(["left","top"],function(i,dir){if($.ui.position[collision[i]]){$.ui.position[collision[i]][dir](position,{targetWidth:targetWidth,targetHeight:targetHeight,elemWidth:elemWidth,elemHeight:elemHeight,collisionPosition:collisionPosition,collisionWidth:collisionWidth,collisionHeight:collisionHeight,offset:[atOffset[0]+myOffset[0],atOffset[1]+myOffset[1]],my:options.my,at:options.at,within:within,elem:elem});}});if(options.using){using=function(props){var left=targetOffset.left-position.left,right=left+targetWidth-elemWidth,top=targetOffset.top-position.top,bottom=top+targetHeight-elemHeight,feedback={target:{element:target,left:targetOffset.left,top:targetOffset.top,width:targetWidth,height:targetHeight},element:{element:elem,left:position.left,top:position.top,width:elemWidth,height:elemHeight},horizontal:right<0?"left":left>0?"right":"center",vertical:bottom<0?"top":top>0?"bottom":"middle"};if(targetWidth<elemWidth&&abs(left+right)<targetWidth){feedback.horizontal="center";}
if(targetHeight<elemHeight&&abs(top+bottom)<targetHeight){feedback.vertical="middle";}
if(max(abs(left),abs(right))>max(abs(top),abs(bottom))){feedback.important="horizontal";}else{feedback.important="vertical";}
options.using.call(this,props,feedback);};}
elem.offset($.extend(position,{using:using}));});};$.ui.position={fit:{left:function(position,data){var within=data.within,withinOffset=within.isWindow?within.scrollLeft:within.offset.left,outerWidth=within.width,collisionPosLeft=position.left-data.collisionPosition.marginLeft,overLeft=withinOffset-collisionPosLeft,overRight=collisionPosLeft+data.collisionWidth-outerWidth-withinOffset,newOverRight;if(data.collisionWidth>outerWidth){if(overLeft>0&&overRight<=0){newOverRight=position.left+overLeft+data.collisionWidth-outerWidth-
withinOffset;position.left+=overLeft-newOverRight;}else if(overRight>0&&overLeft<=0){position.left=withinOffset;}else{if(overLeft>overRight){position.left=withinOffset+outerWidth-data.collisionWidth;}else{position.left=withinOffset;}}}else if(overLeft>0){position.left+=overLeft;}else if(overRight>0){position.left-=overRight;}else{position.left=max(position.left-collisionPosLeft,position.left);}},top:function(position,data){var within=data.within,withinOffset=within.isWindow?within.scrollTop:within.offset.top,outerHeight=data.within.height,collisionPosTop=position.top-data.collisionPosition.marginTop,overTop=withinOffset-collisionPosTop,overBottom=collisionPosTop+data.collisionHeight-outerHeight-withinOffset,newOverBottom;if(data.collisionHeight>outerHeight){if(overTop>0&&overBottom<=0){newOverBottom=position.top+overTop+data.collisionHeight-outerHeight-
withinOffset;position.top+=overTop-newOverBottom;}else if(overBottom>0&&overTop<=0){position.top=withinOffset;}else{if(overTop>overBottom){position.top=withinOffset+outerHeight-data.collisionHeight;}else{position.top=withinOffset;}}}else if(overTop>0){position.top+=overTop;}else if(overBottom>0){position.top-=overBottom;}else{position.top=max(position.top-collisionPosTop,position.top);}}},flip:{left:function(position,data){var within=data.within,withinOffset=within.offset.left+within.scrollLeft,outerWidth=within.width,offsetLeft=within.isWindow?within.scrollLeft:within.offset.left,collisionPosLeft=position.left-data.collisionPosition.marginLeft,overLeft=collisionPosLeft-offsetLeft,overRight=collisionPosLeft+data.collisionWidth-outerWidth-offsetLeft,myOffset=data.my[0]==="left"?-data.elemWidth:data.my[0]==="right"?data.elemWidth:0,atOffset=data.at[0]==="left"?data.targetWidth:data.at[0]==="right"?-data.targetWidth:0,offset=-2*data.offset[0],newOverRight,newOverLeft;if(overLeft<0){newOverRight=position.left+myOffset+atOffset+offset+data.collisionWidth-
outerWidth-withinOffset;if(newOverRight<0||newOverRight<abs(overLeft)){position.left+=myOffset+atOffset+offset;}}else if(overRight>0){newOverLeft=position.left-data.collisionPosition.marginLeft+myOffset+
atOffset+offset-offsetLeft;if(newOverLeft>0||abs(newOverLeft)<overRight){position.left+=myOffset+atOffset+offset;}}},top:function(position,data){var within=data.within,withinOffset=within.offset.top+within.scrollTop,outerHeight=within.height,offsetTop=within.isWindow?within.scrollTop:within.offset.top,collisionPosTop=position.top-data.collisionPosition.marginTop,overTop=collisionPosTop-offsetTop,overBottom=collisionPosTop+data.collisionHeight-outerHeight-offsetTop,top=data.my[1]==="top",myOffset=top?-data.elemHeight:data.my[1]==="bottom"?data.elemHeight:0,atOffset=data.at[1]==="top"?data.targetHeight:data.at[1]==="bottom"?-data.targetHeight:0,offset=-2*data.offset[1],newOverTop,newOverBottom;if(overTop<0){newOverBottom=position.top+myOffset+atOffset+offset+data.collisionHeight-
outerHeight-withinOffset;if(newOverBottom<0||newOverBottom<abs(overTop)){position.top+=myOffset+atOffset+offset;}}else if(overBottom>0){newOverTop=position.top-data.collisionPosition.marginTop+myOffset+atOffset+
offset-offsetTop;if(newOverTop>0||abs(newOverTop)<overBottom){position.top+=myOffset+atOffset+offset;}}}},flipfit:{left:function(){$.ui.position.flip.left.apply(this,arguments);$.ui.position.fit.left.apply(this,arguments);},top:function(){$.ui.position.flip.top.apply(this,arguments);$.ui.position.fit.top.apply(this,arguments);}}};})();var position=$.ui.position;var data=$.extend($.expr[":"],{data:$.expr.createPseudo?$.expr.createPseudo(function(dataName){return function(elem){return!!$.data(elem,dataName);};}):function(elem,i,match){return!!$.data(elem,match[3]);}});var disableSelection=$.fn.extend({disableSelection:(function(){var eventType="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(eventType+".ui-disableSelection",function(event){event.preventDefault();});};})(),enableSelection:function(){return this.off(".ui-disableSelection");}});var dataSpace="ui-effects-",dataSpaceStyle="ui-effects-style",dataSpaceAnimated="ui-effects-animated",jQuery=$;$.effects={effect:{}};(function(jQuery,undefined){var stepHooks="backgroundColor borderBottomColor borderLeftColor borderRightColor "+"borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",rplusequals=/^([\-+])=\s*(\d+\.?\d*)/,stringParsers=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(execResult){return[execResult[1],execResult[2],execResult[3],execResult[4]];}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(execResult){return[execResult[1]*2.55,execResult[2]*2.55,execResult[3]*2.55,execResult[4]];}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(execResult){return[parseInt(execResult[1],16),parseInt(execResult[2],16),parseInt(execResult[3],16)];}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(execResult){return[parseInt(execResult[1]+execResult[1],16),parseInt(execResult[2]+execResult[2],16),parseInt(execResult[3]+execResult[3],16)];}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(execResult){return[execResult[1],execResult[2]/100,execResult[3]/100,execResult[4]];}}],color=jQuery.Color=function(color,green,blue,alpha){return new jQuery.Color.fn.parse(color,green,blue,alpha);},spaces={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},propTypes={"byte":{floor:true,max:255},"percent":{max:1},"degrees":{mod:360,floor:true}},support=color.support={},supportElem=jQuery("<p>")[0],colors,each=jQuery.each;supportElem.style.cssText="background-color:rgba(1,1,1,.5)";support.rgba=supportElem.style.backgroundColor.indexOf("rgba")>-1;each(spaces,function(spaceName,space){space.cache="_"+spaceName;space.props.alpha={idx:3,type:"percent",def:1};});function clamp(value,prop,allowEmpty){var type=propTypes[prop.type]||{};if(value==null){return(allowEmpty||!prop.def)?null:prop.def;}
value=type.floor?~~value:parseFloat(value);if(isNaN(value)){return prop.def;}
if(type.mod){return(value+type.mod)%type.mod;}
return 0>value?0:type.max<value?type.max:value;}
function stringParse(string){var inst=color(),rgba=inst._rgba=[];string=string.toLowerCase();each(stringParsers,function(i,parser){var parsed,match=parser.re.exec(string),values=match&&parser.parse(match),spaceName=parser.space||"rgba";if(values){parsed=inst[spaceName](values);inst[spaces[spaceName].cache]=parsed[spaces[spaceName].cache];rgba=inst._rgba=parsed._rgba;return false;}});if(rgba.length){if(rgba.join()==="0,0,0,0"){jQuery.extend(rgba,colors.transparent);}
return inst;}
return colors[string];}
color.fn=jQuery.extend(color.prototype,{parse:function(red,green,blue,alpha){if(red===undefined){this._rgba=[null,null,null,null];return this;}
if(red.jquery||red.nodeType){red=jQuery(red).css(green);green=undefined;}
var inst=this,type=jQuery.type(red),rgba=this._rgba=[];if(green!==undefined){red=[red,green,blue,alpha];type="array";}
if(type==="string"){return this.parse(stringParse(red)||colors._default);}
if(type==="array"){each(spaces.rgba.props,function(key,prop){rgba[prop.idx]=clamp(red[prop.idx],prop);});return this;}
if(type==="object"){if(red instanceof color){each(spaces,function(spaceName,space){if(red[space.cache]){inst[space.cache]=red[space.cache].slice();}});}else{each(spaces,function(spaceName,space){var cache=space.cache;each(space.props,function(key,prop){if(!inst[cache]&&space.to){if(key==="alpha"||red[key]==null){return;}
inst[cache]=space.to(inst._rgba);}
inst[cache][prop.idx]=clamp(red[key],prop,true);});if(inst[cache]&&jQuery.inArray(null,inst[cache].slice(0,3))<0){inst[cache][3]=1;if(space.from){inst._rgba=space.from(inst[cache]);}}});}
return this;}},is:function(compare){var is=color(compare),same=true,inst=this;each(spaces,function(_,space){var localCache,isCache=is[space.cache];if(isCache){localCache=inst[space.cache]||space.to&&space.to(inst._rgba)||[];each(space.props,function(_,prop){if(isCache[prop.idx]!=null){same=(isCache[prop.idx]===localCache[prop.idx]);return same;}});}
return same;});return same;},_space:function(){var used=[],inst=this;each(spaces,function(spaceName,space){if(inst[space.cache]){used.push(spaceName);}});return used.pop();},transition:function(other,distance){var end=color(other),spaceName=end._space(),space=spaces[spaceName],startColor=this.alpha()===0?color("transparent"):this,start=startColor[space.cache]||space.to(startColor._rgba),result=start.slice();end=end[space.cache];each(space.props,function(key,prop){var index=prop.idx,startValue=start[index],endValue=end[index],type=propTypes[prop.type]||{};if(endValue===null){return;}
if(startValue===null){result[index]=endValue;}else{if(type.mod){if(endValue-startValue>type.mod/2){startValue+=type.mod;}else if(startValue-endValue>type.mod/2){startValue-=type.mod;}}
result[index]=clamp((endValue-startValue)*distance+startValue,prop);}});return this[spaceName](result);},blend:function(opaque){if(this._rgba[3]===1){return this;}
var rgb=this._rgba.slice(),a=rgb.pop(),blend=color(opaque)._rgba;return color(jQuery.map(rgb,function(v,i){return(1-a)*blend[i]+a*v;}));},toRgbaString:function(){var prefix="rgba(",rgba=jQuery.map(this._rgba,function(v,i){return v==null?(i>2?1:0):v;});if(rgba[3]===1){rgba.pop();prefix="rgb(";}
return prefix+rgba.join()+")";},toHslaString:function(){var prefix="hsla(",hsla=jQuery.map(this.hsla(),function(v,i){if(v==null){v=i>2?1:0;}
if(i&&i<3){v=Math.round(v*100)+"%";}
return v;});if(hsla[3]===1){hsla.pop();prefix="hsl(";}
return prefix+hsla.join()+")";},toHexString:function(includeAlpha){var rgba=this._rgba.slice(),alpha=rgba.pop();if(includeAlpha){rgba.push(~~(alpha*255));}
return"#"+jQuery.map(rgba,function(v){v=(v||0).toString(16);return v.length===1?"0"+v:v;}).join("");},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString();}});color.fn.parse.prototype=color.fn;function hue2rgb(p,q,h){h=(h+1)%1;if(h*6<1){return p+(q-p)*h*6;}
if(h*2<1){return q;}
if(h*3<2){return p+(q-p)*((2/3)-h)*6;}
return p;}
spaces.hsla.to=function(rgba){if(rgba[0]==null||rgba[1]==null||rgba[2]==null){return[null,null,null,rgba[3]];}
var r=rgba[0]/255,g=rgba[1]/255,b=rgba[2]/255,a=rgba[3],max=Math.max(r,g,b),min=Math.min(r,g,b),diff=max-min,add=max+min,l=add*0.5,h,s;if(min===max){h=0;}else if(r===max){h=(60*(g-b)/diff)+360;}else if(g===max){h=(60*(b-r)/diff)+120;}else{h=(60*(r-g)/diff)+240;}
if(diff===0){s=0;}else if(l<=0.5){s=diff/add;}else{s=diff/(2-add);}
return[Math.round(h)%360,s,l,a==null?1:a];};spaces.hsla.from=function(hsla){if(hsla[0]==null||hsla[1]==null||hsla[2]==null){return[null,null,null,hsla[3]];}
var h=hsla[0]/360,s=hsla[1],l=hsla[2],a=hsla[3],q=l<=0.5?l*(1+s):l+s-l*s,p=2*l-q;return[Math.round(hue2rgb(p,q,h+(1/3))*255),Math.round(hue2rgb(p,q,h)*255),Math.round(hue2rgb(p,q,h-(1/3))*255),a];};each(spaces,function(spaceName,space){var props=space.props,cache=space.cache,to=space.to,from=space.from;color.fn[spaceName]=function(value){if(to&&!this[cache]){this[cache]=to(this._rgba);}
if(value===undefined){return this[cache].slice();}
var ret,type=jQuery.type(value),arr=(type==="array"||type==="object")?value:arguments,local=this[cache].slice();each(props,function(key,prop){var val=arr[type==="object"?key:prop.idx];if(val==null){val=local[prop.idx];}
local[prop.idx]=clamp(val,prop);});if(from){ret=color(from(local));ret[cache]=local;return ret;}else{return color(local);}};each(props,function(key,prop){if(color.fn[key]){return;}
color.fn[key]=function(value){var vtype=jQuery.type(value),fn=(key==="alpha"?(this._hsla?"hsla":"rgba"):spaceName),local=this[fn](),cur=local[prop.idx],match;if(vtype==="undefined"){return cur;}
if(vtype==="function"){value=value.call(this,cur);vtype=jQuery.type(value);}
if(value==null&&prop.empty){return this;}
if(vtype==="string"){match=rplusequals.exec(value);if(match){value=cur+parseFloat(match[2])*(match[1]==="+"?1:-1);}}
local[prop.idx]=value;return this[fn](local);};});});color.hook=function(hook){var hooks=hook.split(" ");each(hooks,function(i,hook){jQuery.cssHooks[hook]={set:function(elem,value){var parsed,curElem,backgroundColor="";if(value!=="transparent"&&(jQuery.type(value)!=="string"||(parsed=stringParse(value)))){value=color(parsed||value);if(!support.rgba&&value._rgba[3]!==1){curElem=hook==="backgroundColor"?elem.parentNode:elem;while((backgroundColor===""||backgroundColor==="transparent")&&curElem&&curElem.style){try{backgroundColor=jQuery.css(curElem,"backgroundColor");curElem=curElem.parentNode;}catch(e){}}
value=value.blend(backgroundColor&&backgroundColor!=="transparent"?backgroundColor:"_default");}
value=value.toRgbaString();}
try{elem.style[hook]=value;}catch(e){}}};jQuery.fx.step[hook]=function(fx){if(!fx.colorInit){fx.start=color(fx.elem,hook);fx.end=color(fx.end);fx.colorInit=true;}
jQuery.cssHooks[hook].set(fx.elem,fx.start.transition(fx.end,fx.pos));};});};color.hook(stepHooks);jQuery.cssHooks.borderColor={expand:function(value){var expanded={};each(["Top","Right","Bottom","Left"],function(i,part){expanded["border"+part+"Color"]=value;});return expanded;}};colors=jQuery.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"};})(jQuery);(function(){var classAnimationActions=["add","remove","toggle"],shorthandStyles={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};$.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(_,prop){$.fx.step[prop]=function(fx){if(fx.end!=="none"&&!fx.setAttr||fx.pos===1&&!fx.setAttr){jQuery.style(fx.elem,prop,fx.end);fx.setAttr=true;}};});function getElementStyles(elem){var key,len,style=elem.ownerDocument.defaultView?elem.ownerDocument.defaultView.getComputedStyle(elem,null):elem.currentStyle,styles={};if(style&&style.length&&style[0]&&style[style[0]]){len=style.length;while(len--){key=style[len];if(typeof style[key]==="string"){styles[$.camelCase(key)]=style[key];}}}else{for(key in style){if(typeof style[key]==="string"){styles[key]=style[key];}}}
return styles;}
function styleDifference(oldStyle,newStyle){var diff={},name,value;for(name in newStyle){value=newStyle[name];if(oldStyle[name]!==value){if(!shorthandStyles[name]){if($.fx.step[name]||!isNaN(parseFloat(value))){diff[name]=value;}}}}
return diff;}
if(!$.fn.addBack){$.fn.addBack=function(selector){return this.add(selector==null?this.prevObject:this.prevObject.filter(selector));};}
$.effects.animateClass=function(value,duration,easing,callback){var o=$.speed(duration,easing,callback);return this.queue(function(){var animated=$(this),baseClass=animated.attr("class")||"",applyClassChange,allAnimations=o.children?animated.find("*").addBack():animated;allAnimations=allAnimations.map(function(){var el=$(this);return{el:el,start:getElementStyles(this)};});applyClassChange=function(){$.each(classAnimationActions,function(i,action){if(value[action]){animated[action+"Class"](value[action]);}});};applyClassChange();allAnimations=allAnimations.map(function(){this.end=getElementStyles(this.el[0]);this.diff=styleDifference(this.start,this.end);return this;});animated.attr("class",baseClass);allAnimations=allAnimations.map(function(){var styleInfo=this,dfd=$.Deferred(),opts=$.extend({},o,{queue:false,complete:function(){dfd.resolve(styleInfo);}});this.el.animate(this.diff,opts);return dfd.promise();});$.when.apply($,allAnimations.get()).done(function(){applyClassChange();$.each(arguments,function(){var el=this.el;$.each(this.diff,function(key){el.css(key,"");});});o.complete.call(animated[0]);});});};$.fn.extend({addClass:(function(orig){return function(classNames,speed,easing,callback){return speed?$.effects.animateClass.call(this,{add:classNames},speed,easing,callback):orig.apply(this,arguments);};})($.fn.addClass),removeClass:(function(orig){return function(classNames,speed,easing,callback){return arguments.length>1?$.effects.animateClass.call(this,{remove:classNames},speed,easing,callback):orig.apply(this,arguments);};})($.fn.removeClass),toggleClass:(function(orig){return function(classNames,force,speed,easing,callback){if(typeof force==="boolean"||force===undefined){if(!speed){return orig.apply(this,arguments);}else{return $.effects.animateClass.call(this,(force?{add:classNames}:{remove:classNames}),speed,easing,callback);}}else{return $.effects.animateClass.call(this,{toggle:classNames},force,speed,easing);}};})($.fn.toggleClass),switchClass:function(remove,add,speed,easing,callback){return $.effects.animateClass.call(this,{add:add,remove:remove},speed,easing,callback);}});})();(function(){if($.expr&&$.expr.filters&&$.expr.filters.animated){$.expr.filters.animated=(function(orig){return function(elem){return!!$(elem).data(dataSpaceAnimated)||orig(elem);};})($.expr.filters.animated);}
if($.uiBackCompat!==false){$.extend($.effects,{save:function(element,set){var i=0,length=set.length;for(;i<length;i++){if(set[i]!==null){element.data(dataSpace+set[i],element[0].style[set[i]]);}}},restore:function(element,set){var val,i=0,length=set.length;for(;i<length;i++){if(set[i]!==null){val=element.data(dataSpace+set[i]);element.css(set[i],val);}}},setMode:function(el,mode){if(mode==="toggle"){mode=el.is(":hidden")?"show":"hide";}
return mode;},createWrapper:function(element){if(element.parent().is(".ui-effects-wrapper")){return element.parent();}
var props={width:element.outerWidth(true),height:element.outerHeight(true),"float":element.css("float")},wrapper=$("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),size={width:element.width(),height:element.height()},active=document.activeElement;try{active.id;}catch(e){active=document.body;}
element.wrap(wrapper);if(element[0]===active||$.contains(element[0],active)){$(active).trigger("focus");}
wrapper=element.parent();if(element.css("position")==="static"){wrapper.css({position:"relative"});element.css({position:"relative"});}else{$.extend(props,{position:element.css("position"),zIndex:element.css("z-index")});$.each(["top","left","bottom","right"],function(i,pos){props[pos]=element.css(pos);if(isNaN(parseInt(props[pos],10))){props[pos]="auto";}});element.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"});}
element.css(size);return wrapper.css(props).show();},removeWrapper:function(element){var active=document.activeElement;if(element.parent().is(".ui-effects-wrapper")){element.parent().replaceWith(element);if(element[0]===active||$.contains(element[0],active)){$(active).trigger("focus");}}
return element;}});}
$.extend($.effects,{version:"1.12.1",define:function(name,mode,effect){if(!effect){effect=mode;mode="effect";}
$.effects.effect[name]=effect;$.effects.effect[name].mode=mode;return effect;},scaledDimensions:function(element,percent,direction){if(percent===0){return{height:0,width:0,outerHeight:0,outerWidth:0};}
var x=direction!=="horizontal"?((percent||100)/100):1,y=direction!=="vertical"?((percent||100)/100):1;return{height:element.height()*y,width:element.width()*x,outerHeight:element.outerHeight()*y,outerWidth:element.outerWidth()*x};},clipToBox:function(animation){return{width:animation.clip.right-animation.clip.left,height:animation.clip.bottom-animation.clip.top,left:animation.clip.left,top:animation.clip.top};},unshift:function(element,queueLength,count){var queue=element.queue();if(queueLength>1){queue.splice.apply(queue,[1,0].concat(queue.splice(queueLength,count)));}
element.dequeue();},saveStyle:function(element){element.data(dataSpaceStyle,element[0].style.cssText);},restoreStyle:function(element){element[0].style.cssText=element.data(dataSpaceStyle)||"";element.removeData(dataSpaceStyle);},mode:function(element,mode){var hidden=element.is(":hidden");if(mode==="toggle"){mode=hidden?"show":"hide";}
if(hidden?mode==="hide":mode==="show"){mode="none";}
return mode;},getBaseline:function(origin,original){var y,x;switch(origin[0]){case"top":y=0;break;case"middle":y=0.5;break;case"bottom":y=1;break;default:y=origin[0]/original.height;}
switch(origin[1]){case"left":x=0;break;case"center":x=0.5;break;case"right":x=1;break;default:x=origin[1]/original.width;}
return{x:x,y:y};},createPlaceholder:function(element){var placeholder,cssPosition=element.css("position"),position=element.position();element.css({marginTop:element.css("marginTop"),marginBottom:element.css("marginBottom"),marginLeft:element.css("marginLeft"),marginRight:element.css("marginRight")}).outerWidth(element.outerWidth()).outerHeight(element.outerHeight());if(/^(static|relative)/.test(cssPosition)){cssPosition="absolute";placeholder=$("<"+element[0].nodeName+">").insertAfter(element).css({display:/^(inline|ruby)/.test(element.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:element.css("marginTop"),marginBottom:element.css("marginBottom"),marginLeft:element.css("marginLeft"),marginRight:element.css("marginRight"),"float":element.css("float")}).outerWidth(element.outerWidth()).outerHeight(element.outerHeight()).addClass("ui-effects-placeholder");element.data(dataSpace+"placeholder",placeholder);}
element.css({position:cssPosition,left:position.left,top:position.top});return placeholder;},removePlaceholder:function(element){var dataKey=dataSpace+"placeholder",placeholder=element.data(dataKey);if(placeholder){placeholder.remove();element.removeData(dataKey);}},cleanUp:function(element){$.effects.restoreStyle(element);$.effects.removePlaceholder(element);},setTransition:function(element,list,factor,value){value=value||{};$.each(list,function(i,x){var unit=element.cssUnit(x);if(unit[0]>0){value[x]=unit[0]*factor+unit[1];}});return value;}});function _normalizeArguments(effect,options,speed,callback){if($.isPlainObject(effect)){options=effect;effect=effect.effect;}
effect={effect:effect};if(options==null){options={};}
if($.isFunction(options)){callback=options;speed=null;options={};}
if(typeof options==="number"||$.fx.speeds[options]){callback=speed;speed=options;options={};}
if($.isFunction(speed)){callback=speed;speed=null;}
if(options){$.extend(effect,options);}
speed=speed||options.duration;effect.duration=$.fx.off?0:typeof speed==="number"?speed:speed in $.fx.speeds?$.fx.speeds[speed]:$.fx.speeds._default;effect.complete=callback||options.complete;return effect;}
function standardAnimationOption(option){if(!option||typeof option==="number"||$.fx.speeds[option]){return true;}
if(typeof option==="string"&&!$.effects.effect[option]){return true;}
if($.isFunction(option)){return true;}
if(typeof option==="object"&&!option.effect){return true;}
return false;}
$.fn.extend({effect:function(){var args=_normalizeArguments.apply(this,arguments),effectMethod=$.effects.effect[args.effect],defaultMode=effectMethod.mode,queue=args.queue,queueName=queue||"fx",complete=args.complete,mode=args.mode,modes=[],prefilter=function(next){var el=$(this),normalizedMode=$.effects.mode(el,mode)||defaultMode;el.data(dataSpaceAnimated,true);modes.push(normalizedMode);if(defaultMode&&(normalizedMode==="show"||(normalizedMode===defaultMode&&normalizedMode==="hide"))){el.show();}
if(!defaultMode||normalizedMode!=="none"){$.effects.saveStyle(el);}
if($.isFunction(next)){next();}};if($.fx.off||!effectMethod){if(mode){return this[mode](args.duration,complete);}else{return this.each(function(){if(complete){complete.call(this);}});}}
function run(next){var elem=$(this);function cleanup(){elem.removeData(dataSpaceAnimated);$.effects.cleanUp(elem);if(args.mode==="hide"){elem.hide();}
done();}
function done(){if($.isFunction(complete)){complete.call(elem[0]);}
if($.isFunction(next)){next();}}
args.mode=modes.shift();if($.uiBackCompat!==false&&!defaultMode){if(elem.is(":hidden")?mode==="hide":mode==="show"){elem[mode]();done();}else{effectMethod.call(elem[0],args,done);}}else{if(args.mode==="none"){elem[mode]();done();}else{effectMethod.call(elem[0],args,cleanup);}}}
return queue===false?this.each(prefilter).each(run):this.queue(queueName,prefilter).queue(queueName,run);},show:(function(orig){return function(option){if(standardAnimationOption(option)){return orig.apply(this,arguments);}else{var args=_normalizeArguments.apply(this,arguments);args.mode="show";return this.effect.call(this,args);}};})($.fn.show),hide:(function(orig){return function(option){if(standardAnimationOption(option)){return orig.apply(this,arguments);}else{var args=_normalizeArguments.apply(this,arguments);args.mode="hide";return this.effect.call(this,args);}};})($.fn.hide),toggle:(function(orig){return function(option){if(standardAnimationOption(option)||typeof option==="boolean"){return orig.apply(this,arguments);}else{var args=_normalizeArguments.apply(this,arguments);args.mode="toggle";return this.effect.call(this,args);}};})($.fn.toggle),cssUnit:function(key){var style=this.css(key),val=[];$.each(["em","px","%","pt"],function(i,unit){if(style.indexOf(unit)>0){val=[parseFloat(style),unit];}});return val;},cssClip:function(clipObj){if(clipObj){return this.css("clip","rect("+clipObj.top+"px "+clipObj.right+"px "+
clipObj.bottom+"px "+clipObj.left+"px)");}
return parseClip(this.css("clip"),this);},transfer:function(options,done){var element=$(this),target=$(options.to),targetFixed=target.css("position")==="fixed",body=$("body"),fixTop=targetFixed?body.scrollTop():0,fixLeft=targetFixed?body.scrollLeft():0,endPosition=target.offset(),animation={top:endPosition.top-fixTop,left:endPosition.left-fixLeft,height:target.innerHeight(),width:target.innerWidth()},startPosition=element.offset(),transfer=$("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(options.className).css({top:startPosition.top-fixTop,left:startPosition.left-fixLeft,height:element.innerHeight(),width:element.innerWidth(),position:targetFixed?"fixed":"absolute"}).animate(animation,options.duration,options.easing,function(){transfer.remove();if($.isFunction(done)){done();}});}});function parseClip(str,element){var outerWidth=element.outerWidth(),outerHeight=element.outerHeight(),clipRegex=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,values=clipRegex.exec(str)||["",0,outerWidth,outerHeight,0];return{top:parseFloat(values[1])||0,right:values[2]==="auto"?outerWidth:parseFloat(values[2]),bottom:values[3]==="auto"?outerHeight:parseFloat(values[3]),left:parseFloat(values[4])||0};}
$.fx.step.clip=function(fx){if(!fx.clipInit){fx.start=$(fx.elem).cssClip();if(typeof fx.end==="string"){fx.end=parseClip(fx.end,fx.elem);}
fx.clipInit=true;}
$(fx.elem).cssClip({top:fx.pos*(fx.end.top-fx.start.top)+fx.start.top,right:fx.pos*(fx.end.right-fx.start.right)+fx.start.right,bottom:fx.pos*(fx.end.bottom-fx.start.bottom)+fx.start.bottom,left:fx.pos*(fx.end.left-fx.start.left)+fx.start.left});};})();(function(){var baseEasings={};$.each(["Quad","Cubic","Quart","Quint","Expo"],function(i,name){baseEasings[name]=function(p){return Math.pow(p,i+2);};});$.extend(baseEasings,{Sine:function(p){return 1-Math.cos(p*Math.PI/2);},Circ:function(p){return 1-Math.sqrt(1-p*p);},Elastic:function(p){return p===0||p===1?p:-Math.pow(2,8*(p-1))*Math.sin(((p-1)*80-7.5)*Math.PI/15);},Back:function(p){return p*p*(3*p-2);},Bounce:function(p){var pow2,bounce=4;while(p<((pow2=Math.pow(2,--bounce))-1)/11){}
return 1/Math.pow(4,3-bounce)-7.5625*Math.pow((pow2*3-2)/22-p,2);}});$.each(baseEasings,function(name,easeIn){$.easing["easeIn"+name]=easeIn;$.easing["easeOut"+name]=function(p){return 1-easeIn(1-p);};$.easing["easeInOut"+name]=function(p){return p<0.5?easeIn(p*2)/2:1-easeIn(p*-2+2)/2;};});})();var effect=$.effects;var effectsEffectBlind=$.effects.define("blind","hide",function(options,done){var map={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},element=$(this),direction=options.direction||"up",start=element.cssClip(),animate={clip:$.extend({},start)},placeholder=$.effects.createPlaceholder(element);animate.clip[map[direction][0]]=animate.clip[map[direction][1]];if(options.mode==="show"){element.cssClip(animate.clip);if(placeholder){placeholder.css($.effects.clipToBox(animate));}
animate.clip=start;}
if(placeholder){placeholder.animate($.effects.clipToBox(animate),options.duration,options.easing);}
element.animate(animate,{queue:false,duration:options.duration,easing:options.easing,complete:done});});var effectsEffectBounce=$.effects.define("bounce",function(options,done){var upAnim,downAnim,refValue,element=$(this),mode=options.mode,hide=mode==="hide",show=mode==="show",direction=options.direction||"up",distance=options.distance,times=options.times||5,anims=times*2+(show||hide?1:0),speed=options.duration/anims,easing=options.easing,ref=(direction==="up"||direction==="down")?"top":"left",motion=(direction==="up"||direction==="left"),i=0,queuelen=element.queue().length;$.effects.createPlaceholder(element);refValue=element.css(ref);if(!distance){distance=element[ref==="top"?"outerHeight":"outerWidth"]()/3;}
if(show){downAnim={opacity:1};downAnim[ref]=refValue;element.css("opacity",0).css(ref,motion?-distance*2:distance*2).animate(downAnim,speed,easing);}
if(hide){distance=distance/Math.pow(2,times-1);}
downAnim={};downAnim[ref]=refValue;for(;i<times;i++){upAnim={};upAnim[ref]=(motion?"-=":"+=")+distance;element.animate(upAnim,speed,easing).animate(downAnim,speed,easing);distance=hide?distance*2:distance/2;}
if(hide){upAnim={opacity:0};upAnim[ref]=(motion?"-=":"+=")+distance;element.animate(upAnim,speed,easing);}
element.queue(done);$.effects.unshift(element,queuelen,anims+1);});var effectsEffectClip=$.effects.define("clip","hide",function(options,done){var start,animate={},element=$(this),direction=options.direction||"vertical",both=direction==="both",horizontal=both||direction==="horizontal",vertical=both||direction==="vertical";start=element.cssClip();animate.clip={top:vertical?(start.bottom-start.top)/2:start.top,right:horizontal?(start.right-start.left)/2:start.right,bottom:vertical?(start.bottom-start.top)/2:start.bottom,left:horizontal?(start.right-start.left)/2:start.left};$.effects.createPlaceholder(element);if(options.mode==="show"){element.cssClip(animate.clip);animate.clip=start;}
element.animate(animate,{queue:false,duration:options.duration,easing:options.easing,complete:done});});var effectsEffectDrop=$.effects.define("drop","hide",function(options,done){var distance,element=$(this),mode=options.mode,show=mode==="show",direction=options.direction||"left",ref=(direction==="up"||direction==="down")?"top":"left",motion=(direction==="up"||direction==="left")?"-=":"+=",oppositeMotion=(motion==="+=")?"-=":"+=",animation={opacity:0};$.effects.createPlaceholder(element);distance=options.distance||element[ref==="top"?"outerHeight":"outerWidth"](true)/2;animation[ref]=motion+distance;if(show){element.css(animation);animation[ref]=oppositeMotion+distance;animation.opacity=1;}
element.animate(animation,{queue:false,duration:options.duration,easing:options.easing,complete:done});});var effectsEffectExplode=$.effects.define("explode","hide",function(options,done){var i,j,left,top,mx,my,rows=options.pieces?Math.round(Math.sqrt(options.pieces)):3,cells=rows,element=$(this),mode=options.mode,show=mode==="show",offset=element.show().css("visibility","hidden").offset(),width=Math.ceil(element.outerWidth()/cells),height=Math.ceil(element.outerHeight()/rows),pieces=[];function childComplete(){pieces.push(this);if(pieces.length===rows*cells){animComplete();}}
for(i=0;i<rows;i++){top=offset.top+i*height;my=i-(rows-1)/2;for(j=0;j<cells;j++){left=offset.left+j*width;mx=j-(cells-1)/2;element.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-j*width,top:-i*height}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:width,height:height,left:left+(show?mx*width:0),top:top+(show?my*height:0),opacity:show?0:1}).animate({left:left+(show?0:mx*width),top:top+(show?0:my*height),opacity:show?1:0},options.duration||500,options.easing,childComplete);}}
function animComplete(){element.css({visibility:"visible"});$(pieces).remove();done();}});var effectsEffectFade=$.effects.define("fade","toggle",function(options,done){var show=options.mode==="show";$(this).css("opacity",show?0:1).animate({opacity:show?1:0},{queue:false,duration:options.duration,easing:options.easing,complete:done});});var effectsEffectFold=$.effects.define("fold","hide",function(options,done){var element=$(this),mode=options.mode,show=mode==="show",hide=mode==="hide",size=options.size||15,percent=/([0-9]+)%/.exec(size),horizFirst=!!options.horizFirst,ref=horizFirst?["right","bottom"]:["bottom","right"],duration=options.duration/2,placeholder=$.effects.createPlaceholder(element),start=element.cssClip(),animation1={clip:$.extend({},start)},animation2={clip:$.extend({},start)},distance=[start[ref[0]],start[ref[1]]],queuelen=element.queue().length;if(percent){size=parseInt(percent[1],10)/100*distance[hide?0:1];}
animation1.clip[ref[0]]=size;animation2.clip[ref[0]]=size;animation2.clip[ref[1]]=0;if(show){element.cssClip(animation2.clip);if(placeholder){placeholder.css($.effects.clipToBox(animation2));}
animation2.clip=start;}
element.queue(function(next){if(placeholder){placeholder.animate($.effects.clipToBox(animation1),duration,options.easing).animate($.effects.clipToBox(animation2),duration,options.easing);}
next();}).animate(animation1,duration,options.easing).animate(animation2,duration,options.easing).queue(done);$.effects.unshift(element,queuelen,4);});var effectsEffectHighlight=$.effects.define("highlight","show",function(options,done){var element=$(this),animation={backgroundColor:element.css("backgroundColor")};if(options.mode==="hide"){animation.opacity=0;}
$.effects.saveStyle(element);element.css({backgroundImage:"none",backgroundColor:options.color||"#ffff99"}).animate(animation,{queue:false,duration:options.duration,easing:options.easing,complete:done});});var effectsEffectSize=$.effects.define("size",function(options,done){var baseline,factor,temp,element=$(this),cProps=["fontSize"],vProps=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],hProps=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],mode=options.mode,restore=mode!=="effect",scale=options.scale||"both",origin=options.origin||["middle","center"],position=element.css("position"),pos=element.position(),original=$.effects.scaledDimensions(element),from=options.from||original,to=options.to||$.effects.scaledDimensions(element,0);$.effects.createPlaceholder(element);if(mode==="show"){temp=from;from=to;to=temp;}
factor={from:{y:from.height/original.height,x:from.width/original.width},to:{y:to.height/original.height,x:to.width/original.width}};if(scale==="box"||scale==="both"){if(factor.from.y!==factor.to.y){from=$.effects.setTransition(element,vProps,factor.from.y,from);to=$.effects.setTransition(element,vProps,factor.to.y,to);}
if(factor.from.x!==factor.to.x){from=$.effects.setTransition(element,hProps,factor.from.x,from);to=$.effects.setTransition(element,hProps,factor.to.x,to);}}
if(scale==="content"||scale==="both"){if(factor.from.y!==factor.to.y){from=$.effects.setTransition(element,cProps,factor.from.y,from);to=$.effects.setTransition(element,cProps,factor.to.y,to);}}
if(origin){baseline=$.effects.getBaseline(origin,original);from.top=(original.outerHeight-from.outerHeight)*baseline.y+pos.top;from.left=(original.outerWidth-from.outerWidth)*baseline.x+pos.left;to.top=(original.outerHeight-to.outerHeight)*baseline.y+pos.top;to.left=(original.outerWidth-to.outerWidth)*baseline.x+pos.left;}
element.css(from);if(scale==="content"||scale==="both"){vProps=vProps.concat(["marginTop","marginBottom"]).concat(cProps);hProps=hProps.concat(["marginLeft","marginRight"]);element.find("*[width]").each(function(){var child=$(this),childOriginal=$.effects.scaledDimensions(child),childFrom={height:childOriginal.height*factor.from.y,width:childOriginal.width*factor.from.x,outerHeight:childOriginal.outerHeight*factor.from.y,outerWidth:childOriginal.outerWidth*factor.from.x},childTo={height:childOriginal.height*factor.to.y,width:childOriginal.width*factor.to.x,outerHeight:childOriginal.height*factor.to.y,outerWidth:childOriginal.width*factor.to.x};if(factor.from.y!==factor.to.y){childFrom=$.effects.setTransition(child,vProps,factor.from.y,childFrom);childTo=$.effects.setTransition(child,vProps,factor.to.y,childTo);}
if(factor.from.x!==factor.to.x){childFrom=$.effects.setTransition(child,hProps,factor.from.x,childFrom);childTo=$.effects.setTransition(child,hProps,factor.to.x,childTo);}
if(restore){$.effects.saveStyle(child);}
child.css(childFrom);child.animate(childTo,options.duration,options.easing,function(){if(restore){$.effects.restoreStyle(child);}});});}
element.animate(to,{queue:false,duration:options.duration,easing:options.easing,complete:function(){var offset=element.offset();if(to.opacity===0){element.css("opacity",from.opacity);}
if(!restore){element.css("position",position==="static"?"relative":position).offset(offset);$.effects.saveStyle(element);}
done();}});});var effectsEffectScale=$.effects.define("scale",function(options,done){var el=$(this),mode=options.mode,percent=parseInt(options.percent,10)||(parseInt(options.percent,10)===0?0:(mode!=="effect"?0:100)),newOptions=$.extend(true,{from:$.effects.scaledDimensions(el),to:$.effects.scaledDimensions(el,percent,options.direction||"both"),origin:options.origin||["middle","center"]},options);if(options.fade){newOptions.from.opacity=1;newOptions.to.opacity=0;}
$.effects.effect.size.call(this,newOptions,done);});var effectsEffectPuff=$.effects.define("puff","hide",function(options,done){var newOptions=$.extend(true,{},options,{fade:true,percent:parseInt(options.percent,10)||150});$.effects.effect.scale.call(this,newOptions,done);});var effectsEffectPulsate=$.effects.define("pulsate","show",function(options,done){var element=$(this),mode=options.mode,show=mode==="show",hide=mode==="hide",showhide=show||hide,anims=((options.times||5)*2)+(showhide?1:0),duration=options.duration/anims,animateTo=0,i=1,queuelen=element.queue().length;if(show||!element.is(":visible")){element.css("opacity",0).show();animateTo=1;}
for(;i<anims;i++){element.animate({opacity:animateTo},duration,options.easing);animateTo=1-animateTo;}
element.animate({opacity:animateTo},duration,options.easing);element.queue(done);$.effects.unshift(element,queuelen,anims+1);});var effectsEffectShake=$.effects.define("shake",function(options,done){var i=1,element=$(this),direction=options.direction||"left",distance=options.distance||20,times=options.times||3,anims=times*2+1,speed=Math.round(options.duration/anims),ref=(direction==="up"||direction==="down")?"top":"left",positiveMotion=(direction==="up"||direction==="left"),animation={},animation1={},animation2={},queuelen=element.queue().length;$.effects.createPlaceholder(element);animation[ref]=(positiveMotion?"-=":"+=")+distance;animation1[ref]=(positiveMotion?"+=":"-=")+distance*2;animation2[ref]=(positiveMotion?"-=":"+=")+distance*2;element.animate(animation,speed,options.easing);for(;i<times;i++){element.animate(animation1,speed,options.easing).animate(animation2,speed,options.easing);}
element.animate(animation1,speed,options.easing).animate(animation,speed/2,options.easing).queue(done);$.effects.unshift(element,queuelen,anims+1);});var effectsEffectSlide=$.effects.define("slide","show",function(options,done){var startClip,startRef,element=$(this),map={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},mode=options.mode,direction=options.direction||"left",ref=(direction==="up"||direction==="down")?"top":"left",positiveMotion=(direction==="up"||direction==="left"),distance=options.distance||element[ref==="top"?"outerHeight":"outerWidth"](true),animation={};$.effects.createPlaceholder(element);startClip=element.cssClip();startRef=element.position()[ref];animation[ref]=(positiveMotion?-1:1)*distance+startRef;animation.clip=element.cssClip();animation.clip[map[direction][1]]=animation.clip[map[direction][0]];if(mode==="show"){element.cssClip(animation.clip);element.css(ref,animation[ref]);animation.clip=startClip;animation[ref]=startRef;}
element.animate(animation,{queue:false,duration:options.duration,easing:options.easing,complete:done});});var effect;if($.uiBackCompat!==false){effect=$.effects.define("transfer",function(options,done){$(this).transfer(options,done);});}
var effectsEffectTransfer=effect;$.ui.focusable=function(element,hasTabindex){var map,mapName,img,focusableIfVisible,fieldset,nodeName=element.nodeName.toLowerCase();if("area"===nodeName){map=element.parentNode;mapName=map.name;if(!element.href||!mapName||map.nodeName.toLowerCase()!=="map"){return false;}
img=$("img[usemap='#"+mapName+"']");return img.length>0&&img.is(":visible");}
if(/^(input|select|textarea|button|object)$/.test(nodeName)){focusableIfVisible=!element.disabled;if(focusableIfVisible){fieldset=$(element).closest("fieldset")[0];if(fieldset){focusableIfVisible=!fieldset.disabled;}}}else if("a"===nodeName){focusableIfVisible=element.href||hasTabindex;}else{focusableIfVisible=hasTabindex;}
return focusableIfVisible&&$(element).is(":visible")&&visible($(element));};function visible(element){var visibility=element.css("visibility");while(visibility==="inherit"){element=element.parent();visibility=element.css("visibility");}
return visibility!=="hidden";}
$.extend($.expr[":"],{focusable:function(element){return $.ui.focusable(element,$.attr(element,"tabindex")!=null);}});var focusable=$.ui.focusable;var form=$.fn.form=function(){return typeof this[0].form==="string"?this.closest("form"):$(this[0].form);};var formResetMixin=$.ui.formResetMixin={_formResetHandler:function(){var form=$(this);setTimeout(function(){var instances=form.data("ui-form-reset-instances");$.each(instances,function(){this.refresh();});});},_bindFormResetHandler:function(){this.form=this.element.form();if(!this.form.length){return;}
var instances=this.form.data("ui-form-reset-instances")||[];if(!instances.length){this.form.on("reset.ui-form-reset",this._formResetHandler);}
instances.push(this);this.form.data("ui-form-reset-instances",instances);},_unbindFormResetHandler:function(){if(!this.form.length){return;}
var instances=this.form.data("ui-form-reset-instances");instances.splice($.inArray(this,instances),1);if(instances.length){this.form.data("ui-form-reset-instances",instances);}else{this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset");}}};if($.fn.jquery.substring(0,3)==="1.7"){$.each(["Width","Height"],function(i,name){var side=name==="Width"?["Left","Right"]:["Top","Bottom"],type=name.toLowerCase(),orig={innerWidth:$.fn.innerWidth,innerHeight:$.fn.innerHeight,outerWidth:$.fn.outerWidth,outerHeight:$.fn.outerHeight};function reduce(elem,size,border,margin){$.each(side,function(){size-=parseFloat($.css(elem,"padding"+this))||0;if(border){size-=parseFloat($.css(elem,"border"+this+"Width"))||0;}
if(margin){size-=parseFloat($.css(elem,"margin"+this))||0;}});return size;}
$.fn["inner"+name]=function(size){if(size===undefined){return orig["inner"+name].call(this);}
return this.each(function(){$(this).css(type,reduce(this,size)+"px");});};$.fn["outer"+name]=function(size,margin){if(typeof size!=="number"){return orig["outer"+name].call(this,size);}
return this.each(function(){$(this).css(type,reduce(this,size,true,margin)+"px");});};});$.fn.addBack=function(selector){return this.add(selector==null?this.prevObject:this.prevObject.filter(selector));};};var keycode=$.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38};var escapeSelector=$.ui.escapeSelector=(function(){var selectorEscape=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g;return function(selector){return selector.replace(selectorEscape,"\\$1");};})();var labels=$.fn.labels=function(){var ancestor,selector,id,labels,ancestors;if(this[0].labels&&this[0].labels.length){return this.pushStack(this[0].labels);}
labels=this.eq(0).parents("label");id=this.attr("id");if(id){ancestor=this.eq(0).parents().last();ancestors=ancestor.add(ancestor.length?ancestor.siblings():this.siblings());selector="label[for='"+$.ui.escapeSelector(id)+"']";labels=labels.add(ancestors.find(selector).addBack(selector));}
return this.pushStack(labels);};var scrollParent=$.fn.scrollParent=function(includeHidden){var position=this.css("position"),excludeStaticParent=position==="absolute",overflowRegex=includeHidden?/(auto|scroll|hidden)/:/(auto|scroll)/,scrollParent=this.parents().filter(function(){var parent=$(this);if(excludeStaticParent&&parent.css("position")==="static"){return false;}
return overflowRegex.test(parent.css("overflow")+parent.css("overflow-y")+
parent.css("overflow-x"));}).eq(0);return position==="fixed"||!scrollParent.length?$(this[0].ownerDocument||document):scrollParent;};var tabbable=$.extend($.expr[":"],{tabbable:function(element){var tabIndex=$.attr(element,"tabindex"),hasTabindex=tabIndex!=null;return(!hasTabindex||tabIndex>=0)&&$.ui.focusable(element,hasTabindex);}});var uniqueId=$.fn.extend({uniqueId:(function(){var uuid=0;return function(){return this.each(function(){if(!this.id){this.id="ui-id-"+(++uuid);}});};})(),removeUniqueId:function(){return this.each(function(){if(/^ui-id-\d+$/.test(this.id)){$(this).removeAttr("id");}});}});var widgetsAccordion=$.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:false,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var options=this.options;this.prevShow=this.prevHide=$();this._addClass("ui-accordion","ui-widget ui-helper-reset");this.element.attr("role","tablist");if(!options.collapsible&&(options.active===false||options.active==null)){options.active=0;}
this._processPanels();if(options.active<0){options.active+=this.headers.length;}
this._refresh();},_getCreateEventData:function(){return{header:this.active,panel:!this.active.length?$():this.active.next()};},_createIcons:function(){var icon,children,icons=this.options.icons;if(icons){icon=$("<span>");this._addClass(icon,"ui-accordion-header-icon","ui-icon "+icons.header);icon.prependTo(this.headers);children=this.active.children(".ui-accordion-header-icon");this._removeClass(children,icons.header)._addClass(children,null,icons.activeHeader)._addClass(this.headers,"ui-accordion-icons");}},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons");this.headers.children(".ui-accordion-header-icon").remove();},_destroy:function(){var contents;this.element.removeAttr("role");this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId();this._destroyIcons();contents=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId();if(this.options.heightStyle!=="content"){contents.css("height","");}},_setOption:function(key,value){if(key==="active"){this._activate(value);return;}
if(key==="event"){if(this.options.event){this._off(this.headers,this.options.event);}
this._setupEvents(value);}
this._super(key,value);if(key==="collapsible"&&!value&&this.options.active===false){this._activate(0);}
if(key==="icons"){this._destroyIcons();if(value){this._createIcons();}}},_setOptionDisabled:function(value){this._super(value);this.element.attr("aria-disabled",value);this._toggleClass(null,"ui-state-disabled",!!value);this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!value);},_keydown:function(event){if(event.altKey||event.ctrlKey){return;}
var keyCode=$.ui.keyCode,length=this.headers.length,currentIndex=this.headers.index(event.target),toFocus=false;switch(event.keyCode){case keyCode.RIGHT:case keyCode.DOWN:toFocus=this.headers[(currentIndex+1)%length];break;case keyCode.LEFT:case keyCode.UP:toFocus=this.headers[(currentIndex-1+length)%length];break;case keyCode.SPACE:case keyCode.ENTER:this._eventHandler(event);break;case keyCode.HOME:toFocus=this.headers[0];break;case keyCode.END:toFocus=this.headers[length-1];break;}
if(toFocus){$(event.target).attr("tabIndex",-1);$(toFocus).attr("tabIndex",0);$(toFocus).trigger("focus");event.preventDefault();}},_panelKeyDown:function(event){if(event.keyCode===$.ui.keyCode.UP&&event.ctrlKey){$(event.currentTarget).prev().trigger("focus");}},refresh:function(){var options=this.options;this._processPanels();if((options.active===false&&options.collapsible===true)||!this.headers.length){options.active=false;this.active=$();}else if(options.active===false){this._activate(0);}else if(this.active.length&&!$.contains(this.element[0],this.active[0])){if(this.headers.length===this.headers.find(".ui-state-disabled").length){options.active=false;this.active=$();}else{this._activate(Math.max(0,options.active-1));}}else{options.active=this.headers.index(this.active);}
this._destroyIcons();this._refresh();},_processPanels:function(){var prevHeaders=this.headers,prevPanels=this.panels;this.headers=this.element.find(this.options.header);this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default");this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide();this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content");if(prevPanels){this._off(prevHeaders.not(this.headers));this._off(prevPanels.not(this.panels));}},_refresh:function(){var maxHeight,options=this.options,heightStyle=options.heightStyle,parent=this.element.parent();this.active=this._findActive(options.active);this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed");this._addClass(this.active.next(),"ui-accordion-content-active");this.active.next().show();this.headers.attr("role","tab").each(function(){var header=$(this),headerId=header.uniqueId().attr("id"),panel=header.next(),panelId=panel.uniqueId().attr("id");header.attr("aria-controls",panelId);panel.attr("aria-labelledby",headerId);}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide();if(!this.active.length){this.headers.eq(0).attr("tabIndex",0);}else{this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"});}
this._createIcons();this._setupEvents(options.event);if(heightStyle==="fill"){maxHeight=parent.height();this.element.siblings(":visible").each(function(){var elem=$(this),position=elem.css("position");if(position==="absolute"||position==="fixed"){return;}
maxHeight-=elem.outerHeight(true);});this.headers.each(function(){maxHeight-=$(this).outerHeight(true);});this.headers.next().each(function(){$(this).height(Math.max(0,maxHeight-
$(this).innerHeight()+$(this).height()));}).css("overflow","auto");}else if(heightStyle==="auto"){maxHeight=0;this.headers.next().each(function(){var isVisible=$(this).is(":visible");if(!isVisible){$(this).show();}
maxHeight=Math.max(maxHeight,$(this).css("height","").height());if(!isVisible){$(this).hide();}}).height(maxHeight);}},_activate:function(index){var active=this._findActive(index)[0];if(active===this.active[0]){return;}
active=active||this.active[0];this._eventHandler({target:active,currentTarget:active,preventDefault:$.noop});},_findActive:function(selector){return typeof selector==="number"?this.headers.eq(selector):$();},_setupEvents:function(event){var events={keydown:"_keydown"};if(event){$.each(event.split(" "),function(index,eventName){events[eventName]="_eventHandler";});}
this._off(this.headers.add(this.headers.next()));this._on(this.headers,events);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers);},_eventHandler:function(event){var activeChildren,clickedChildren,options=this.options,active=this.active,clicked=$(event.currentTarget),clickedIsActive=clicked[0]===active[0],collapsing=clickedIsActive&&options.collapsible,toShow=collapsing?$():clicked.next(),toHide=active.next(),eventData={oldHeader:active,oldPanel:toHide,newHeader:collapsing?$():clicked,newPanel:toShow};event.preventDefault();if((clickedIsActive&&!options.collapsible)||(this._trigger("beforeActivate",event,eventData)===false)){return;}
options.active=collapsing?false:this.headers.index(clicked);this.active=clickedIsActive?$():clicked;this._toggle(eventData);this._removeClass(active,"ui-accordion-header-active","ui-state-active");if(options.icons){activeChildren=active.children(".ui-accordion-header-icon");this._removeClass(activeChildren,null,options.icons.activeHeader)._addClass(activeChildren,null,options.icons.header);}
if(!clickedIsActive){this._removeClass(clicked,"ui-accordion-header-collapsed")._addClass(clicked,"ui-accordion-header-active","ui-state-active");if(options.icons){clickedChildren=clicked.children(".ui-accordion-header-icon");this._removeClass(clickedChildren,null,options.icons.header)._addClass(clickedChildren,null,options.icons.activeHeader);}
this._addClass(clicked.next(),"ui-accordion-content-active");}},_toggle:function(data){var toShow=data.newPanel,toHide=this.prevShow.length?this.prevShow:data.oldPanel;this.prevShow.add(this.prevHide).stop(true,true);this.prevShow=toShow;this.prevHide=toHide;if(this.options.animate){this._animate(toShow,toHide,data);}else{toHide.hide();toShow.show();this._toggleComplete(data);}
toHide.attr({"aria-hidden":"true"});toHide.prev().attr({"aria-selected":"false","aria-expanded":"false"});if(toShow.length&&toHide.length){toHide.prev().attr({"tabIndex":-1,"aria-expanded":"false"});}else if(toShow.length){this.headers.filter(function(){return parseInt($(this).attr("tabIndex"),10)===0;}).attr("tabIndex",-1);}
toShow.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0});},_animate:function(toShow,toHide,data){var total,easing,duration,that=this,adjust=0,boxSizing=toShow.css("box-sizing"),down=toShow.length&&(!toHide.length||(toShow.index()<toHide.index())),animate=this.options.animate||{},options=down&&animate.down||animate,complete=function(){that._toggleComplete(data);};if(typeof options==="number"){duration=options;}
if(typeof options==="string"){easing=options;}
easing=easing||options.easing||animate.easing;duration=duration||options.duration||animate.duration;if(!toHide.length){return toShow.animate(this.showProps,duration,easing,complete);}
if(!toShow.length){return toHide.animate(this.hideProps,duration,easing,complete);}
total=toShow.show().outerHeight();toHide.animate(this.hideProps,{duration:duration,easing:easing,step:function(now,fx){fx.now=Math.round(now);}});toShow.hide().animate(this.showProps,{duration:duration,easing:easing,complete:complete,step:function(now,fx){fx.now=Math.round(now);if(fx.prop!=="height"){if(boxSizing==="content-box"){adjust+=fx.now;}}else if(that.options.heightStyle!=="content"){fx.now=Math.round(total-toHide.outerHeight()-adjust);adjust=0;}}});},_toggleComplete:function(data){var toHide=data.oldPanel,prev=toHide.prev();this._removeClass(toHide,"ui-accordion-content-active");this._removeClass(prev,"ui-accordion-header-active")._addClass(prev,"ui-accordion-header-collapsed");if(toHide.length){toHide.parent()[0].className=toHide.parent()[0].className;}
this._trigger("activate",null,data);}});var safeActiveElement=$.ui.safeActiveElement=function(document){var activeElement;try{activeElement=document.activeElement;}catch(error){activeElement=document.body;}
if(!activeElement){activeElement=document.body;}
if(!activeElement.nodeName){activeElement=document.body;}
return activeElement;};var widgetsMenu=$.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=false;this.element.uniqueId().attr({role:this.options.role,tabIndex:0});this._addClass("ui-menu","ui-widget ui-widget-content");this._on({"mousedown .ui-menu-item":function(event){event.preventDefault();},"click .ui-menu-item":function(event){var target=$(event.target);var active=$($.ui.safeActiveElement(this.document[0]));if(!this.mouseHandled&&target.not(".ui-state-disabled").length){this.select(event);if(!event.isPropagationStopped()){this.mouseHandled=true;}
if(target.has(".ui-menu").length){this.expand(event);}else if(!this.element.is(":focus")&&active.closest(".ui-menu").length){this.element.trigger("focus",[true]);if(this.active&&this.active.parents(".ui-menu").length===1){clearTimeout(this.timer);}}}},"mouseenter .ui-menu-item":function(event){if(this.previousFilter){return;}
var actualTarget=$(event.target).closest(".ui-menu-item"),target=$(event.currentTarget);if(actualTarget[0]!==target[0]){return;}
this._removeClass(target.siblings().children(".ui-state-active"),null,"ui-state-active");this.focus(event,target);},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(event,keepActiveItem){var item=this.active||this.element.find(this.options.items).eq(0);if(!keepActiveItem){this.focus(event,item);}},blur:function(event){this._delay(function(){var notContained=!$.contains(this.element[0],$.ui.safeActiveElement(this.document[0]));if(notContained){this.collapseAll(event);}});},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(event){if(this._closeOnDocumentClick(event)){this.collapseAll(event);}
this.mouseHandled=false;}});},_destroy:function(){var items=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),submenus=items.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled "+"tabIndex").removeUniqueId().show();submenus.children().each(function(){var elem=$(this);if(elem.data("ui-menu-submenu-caret")){elem.remove();}});},_keydown:function(event){var match,prev,character,skip,preventDefault=true;switch(event.keyCode){case $.ui.keyCode.PAGE_UP:this.previousPage(event);break;case $.ui.keyCode.PAGE_DOWN:this.nextPage(event);break;case $.ui.keyCode.HOME:this._move("first","first",event);break;case $.ui.keyCode.END:this._move("last","last",event);break;case $.ui.keyCode.UP:this.previous(event);break;case $.ui.keyCode.DOWN:this.next(event);break;case $.ui.keyCode.LEFT:this.collapse(event);break;case $.ui.keyCode.RIGHT:if(this.active&&!this.active.is(".ui-state-disabled")){this.expand(event);}
break;case $.ui.keyCode.ENTER:case $.ui.keyCode.SPACE:this._activate(event);break;case $.ui.keyCode.ESCAPE:this.collapse(event);break;default:preventDefault=false;prev=this.previousFilter||"";skip=false;character=event.keyCode>=96&&event.keyCode<=105?(event.keyCode-96).toString():String.fromCharCode(event.keyCode);clearTimeout(this.filterTimer);if(character===prev){skip=true;}else{character=prev+character;}
match=this._filterMenuItems(character);match=skip&&match.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):match;if(!match.length){character=String.fromCharCode(event.keyCode);match=this._filterMenuItems(character);}
if(match.length){this.focus(event,match);this.previousFilter=character;this.filterTimer=this._delay(function(){delete this.previousFilter;},1000);}else{delete this.previousFilter;}}
if(preventDefault){event.preventDefault();}},_activate:function(event){if(this.active&&!this.active.is(".ui-state-disabled")){if(this.active.children("[aria-haspopup='true']").length){this.expand(event);}else{this.select(event);}}},refresh:function(){var menus,items,newSubmenus,newItems,newWrappers,that=this,icon=this.options.icons.submenu,submenus=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length);newSubmenus=submenus.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var menu=$(this),item=menu.prev(),submenuCaret=$("<span>").data("ui-menu-submenu-caret",true);that._addClass(submenuCaret,"ui-menu-icon","ui-icon "+icon);item.attr("aria-haspopup","true").prepend(submenuCaret);menu.attr("aria-labelledby",item.attr("id"));});this._addClass(newSubmenus,"ui-menu","ui-widget ui-widget-content ui-front");menus=submenus.add(this.element);items=menus.find(this.options.items);items.not(".ui-menu-item").each(function(){var item=$(this);if(that._isDivider(item)){that._addClass(item,"ui-menu-divider","ui-widget-content");}});newItems=items.not(".ui-menu-item, .ui-menu-divider");newWrappers=newItems.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()});this._addClass(newItems,"ui-menu-item")._addClass(newWrappers,"ui-menu-item-wrapper");items.filter(".ui-state-disabled").attr("aria-disabled","true");if(this.active&&!$.contains(this.element[0],this.active[0])){this.blur();}},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role];},_setOption:function(key,value){if(key==="icons"){var icons=this.element.find(".ui-menu-icon");this._removeClass(icons,null,this.options.icons.submenu)._addClass(icons,null,value.submenu);}
this._super(key,value);},_setOptionDisabled:function(value){this._super(value);this.element.attr("aria-disabled",String(value));this._toggleClass(null,"ui-state-disabled",!!value);},focus:function(event,item){var nested,focused,activeParent;this.blur(event,event&&event.type==="focus");this._scrollIntoView(item);this.active=item.first();focused=this.active.children(".ui-menu-item-wrapper");this._addClass(focused,null,"ui-state-active");if(this.options.role){this.element.attr("aria-activedescendant",focused.attr("id"));}
activeParent=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper");this._addClass(activeParent,null,"ui-state-active");if(event&&event.type==="keydown"){this._close();}else{this.timer=this._delay(function(){this._close();},this.delay);}
nested=item.children(".ui-menu");if(nested.length&&event&&(/^mouse/.test(event.type))){this._startOpening(nested);}
this.activeMenu=item.parent();this._trigger("focus",event,{item:item});},_scrollIntoView:function(item){var borderTop,paddingTop,offset,scroll,elementHeight,itemHeight;if(this._hasScroll()){borderTop=parseFloat($.css(this.activeMenu[0],"borderTopWidth"))||0;paddingTop=parseFloat($.css(this.activeMenu[0],"paddingTop"))||0;offset=item.offset().top-this.activeMenu.offset().top-borderTop-paddingTop;scroll=this.activeMenu.scrollTop();elementHeight=this.activeMenu.height();itemHeight=item.outerHeight();if(offset<0){this.activeMenu.scrollTop(scroll+offset);}else if(offset+itemHeight>elementHeight){this.activeMenu.scrollTop(scroll+offset-elementHeight+itemHeight);}}},blur:function(event,fromFocus){if(!fromFocus){clearTimeout(this.timer);}
if(!this.active){return;}
this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active");this._trigger("blur",event,{item:this.active});this.active=null;},_startOpening:function(submenu){clearTimeout(this.timer);if(submenu.attr("aria-hidden")!=="true"){return;}
this.timer=this._delay(function(){this._close();this._open(submenu);},this.delay);},_open:function(submenu){var position=$.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(submenu.parents(".ui-menu")).hide().attr("aria-hidden","true");submenu.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(position);},collapseAll:function(event,all){clearTimeout(this.timer);this.timer=this._delay(function(){var currentMenu=all?this.element:$(event&&event.target).closest(this.element.find(".ui-menu"));if(!currentMenu.length){currentMenu=this.element;}
this._close(currentMenu);this.blur(event);this._removeClass(currentMenu.find(".ui-state-active"),null,"ui-state-active");this.activeMenu=currentMenu;},this.delay);},_close:function(startMenu){if(!startMenu){startMenu=this.active?this.active.parent():this.element;}
startMenu.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false");},_closeOnDocumentClick:function(event){return!$(event.target).closest(".ui-menu").length;},_isDivider:function(item){return!/[^\-\u2014\u2013\s]/.test(item.text());},collapse:function(event){var newItem=this.active&&this.active.parent().closest(".ui-menu-item",this.element);if(newItem&&newItem.length){this._close();this.focus(event,newItem);}},expand:function(event){var newItem=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();if(newItem&&newItem.length){this._open(newItem.parent());this._delay(function(){this.focus(event,newItem);});}},next:function(event){this._move("next","first",event);},previous:function(event){this._move("prev","last",event);},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length;},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length;},_move:function(direction,filter,event){var next;if(this.active){if(direction==="first"||direction==="last"){next=this.active
[direction==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1);}else{next=this.active
[direction+"All"](".ui-menu-item").eq(0);}}
if(!next||!next.length||!this.active){next=this.activeMenu.find(this.options.items)[filter]();}
this.focus(event,next);},nextPage:function(event){var item,base,height;if(!this.active){this.next(event);return;}
if(this.isLastItem()){return;}
if(this._hasScroll()){base=this.active.offset().top;height=this.element.height();this.active.nextAll(".ui-menu-item").each(function(){item=$(this);return item.offset().top-base-height<0;});this.focus(event,item);}else{this.focus(event,this.activeMenu.find(this.options.items)
[!this.active?"first":"last"]());}},previousPage:function(event){var item,base,height;if(!this.active){this.next(event);return;}
if(this.isFirstItem()){return;}
if(this._hasScroll()){base=this.active.offset().top;height=this.element.height();this.active.prevAll(".ui-menu-item").each(function(){item=$(this);return item.offset().top-base+height>0;});this.focus(event,item);}else{this.focus(event,this.activeMenu.find(this.options.items).first());}},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight");},select:function(event){this.active=this.active||$(event.target).closest(".ui-menu-item");var ui={item:this.active};if(!this.active.has(".ui-menu").length){this.collapseAll(event,true);}
this._trigger("select",event,ui);},_filterMenuItems:function(character){var escapedCharacter=character.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),regex=new RegExp("^"+escapedCharacter,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return regex.test($.trim($(this).children(".ui-menu-item-wrapper").text()));});}});$.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:false,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var suppressKeyPress,suppressKeyPressRepeat,suppressInput,nodeName=this.element[0].nodeName.toLowerCase(),isTextarea=nodeName==="textarea",isInput=nodeName==="input";this.isMultiLine=isTextarea||!isInput&&this._isContentEditable(this.element);this.valueMethod=this.element[isTextarea||isInput?"val":"text"];this.isNewMenu=true;this._addClass("ui-autocomplete-input");this.element.attr("autocomplete","off");this._on(this.element,{keydown:function(event){if(this.element.prop("readOnly")){suppressKeyPress=true;suppressInput=true;suppressKeyPressRepeat=true;return;}
suppressKeyPress=false;suppressInput=false;suppressKeyPressRepeat=false;var keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.PAGE_UP:suppressKeyPress=true;this._move("previousPage",event);break;case keyCode.PAGE_DOWN:suppressKeyPress=true;this._move("nextPage",event);break;case keyCode.UP:suppressKeyPress=true;this._keyEvent("previous",event);break;case keyCode.DOWN:suppressKeyPress=true;this._keyEvent("next",event);break;case keyCode.ENTER:if(this.menu.active){suppressKeyPress=true;event.preventDefault();this.menu.select(event);}
break;case keyCode.TAB:if(this.menu.active){this.menu.select(event);}
break;case keyCode.ESCAPE:if(this.menu.element.is(":visible")){if(!this.isMultiLine){this._value(this.term);}
this.close(event);event.preventDefault();}
break;default:suppressKeyPressRepeat=true;this._searchTimeout(event);break;}},keypress:function(event){if(suppressKeyPress){suppressKeyPress=false;if(!this.isMultiLine||this.menu.element.is(":visible")){event.preventDefault();}
return;}
if(suppressKeyPressRepeat){return;}
var keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.PAGE_UP:this._move("previousPage",event);break;case keyCode.PAGE_DOWN:this._move("nextPage",event);break;case keyCode.UP:this._keyEvent("previous",event);break;case keyCode.DOWN:this._keyEvent("next",event);break;}},input:function(event){if(suppressInput){suppressInput=false;event.preventDefault();return;}
this._searchTimeout(event);},focus:function(){this.selectedItem=null;this.previous=this._value();},blur:function(event){if(this.cancelBlur){delete this.cancelBlur;return;}
clearTimeout(this.searching);this.close(event);this._change(event);}});this._initSource();this.menu=$("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance");this._addClass(this.menu.element,"ui-autocomplete","ui-front");this._on(this.menu.element,{mousedown:function(event){event.preventDefault();this.cancelBlur=true;this._delay(function(){delete this.cancelBlur;if(this.element[0]!==$.ui.safeActiveElement(this.document[0])){this.element.trigger("focus");}});},menufocus:function(event,ui){var label,item;if(this.isNewMenu){this.isNewMenu=false;if(event.originalEvent&&/^mouse/.test(event.originalEvent.type)){this.menu.blur();this.document.one("mousemove",function(){$(event.target).trigger(event.originalEvent);});return;}}
item=ui.item.data("ui-autocomplete-item");if(false!==this._trigger("focus",event,{item:item})){if(event.originalEvent&&/^key/.test(event.originalEvent.type)){this._value(item.value);}}
label=ui.item.attr("aria-label")||item.value;if(label&&$.trim(label).length){this.liveRegion.children().hide();$("<div>").text(label).appendTo(this.liveRegion);}},menuselect:function(event,ui){var item=ui.item.data("ui-autocomplete-item"),previous=this.previous;if(this.element[0]!==$.ui.safeActiveElement(this.document[0])){this.element.trigger("focus");this.previous=previous;this._delay(function(){this.previous=previous;this.selectedItem=item;});}
if(false!==this._trigger("select",event,{item:item})){this._value(item.value);}
this.term=this._value();this.close(event);this.selectedItem=item;}});this.liveRegion=$("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body);this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible");this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete");}});},_destroy:function(){clearTimeout(this.searching);this.element.removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove();},_setOption:function(key,value){this._super(key,value);if(key==="source"){this._initSource();}
if(key==="appendTo"){this.menu.element.appendTo(this._appendTo());}
if(key==="disabled"&&value&&this.xhr){this.xhr.abort();}},_isEventTargetInWidget:function(event){var menuElement=this.menu.element[0];return event.target===this.element[0]||event.target===menuElement||$.contains(menuElement,event.target);},_closeOnClickOutside:function(event){if(!this._isEventTargetInWidget(event)){this.close();}},_appendTo:function(){var element=this.options.appendTo;if(element){element=element.jquery||element.nodeType?$(element):this.document.find(element).eq(0);}
if(!element||!element[0]){element=this.element.closest(".ui-front, dialog");}
if(!element.length){element=this.document[0].body;}
return element;},_initSource:function(){var array,url,that=this;if($.isArray(this.options.source)){array=this.options.source;this.source=function(request,response){response($.ui.autocomplete.filter(array,request.term));};}else if(typeof this.options.source==="string"){url=this.options.source;this.source=function(request,response){if(that.xhr){that.xhr.abort();}
that.xhr=$.ajax({url:url,data:request,dataType:"json",success:function(data){response(data);},error:function(){response([]);}});};}else{this.source=this.options.source;}},_searchTimeout:function(event){clearTimeout(this.searching);this.searching=this._delay(function(){var equalValues=this.term===this._value(),menuVisible=this.menu.element.is(":visible"),modifierKey=event.altKey||event.ctrlKey||event.metaKey||event.shiftKey;if(!equalValues||(equalValues&&!menuVisible&&!modifierKey)){this.selectedItem=null;this.search(null,event);}},this.options.delay);},search:function(value,event){value=value!=null?value:this._value();this.term=this._value();if(value.length<this.options.minLength){return this.close(event);}
if(this._trigger("search",event)===false){return;}
return this._search(value);},_search:function(value){this.pending++;this._addClass("ui-autocomplete-loading");this.cancelSearch=false;this.source({term:value},this._response());},_response:function(){var index=++this.requestIndex;return $.proxy(function(content){if(index===this.requestIndex){this.__response(content);}
this.pending--;if(!this.pending){this._removeClass("ui-autocomplete-loading");}},this);},__response:function(content){if(content){content=this._normalize(content);}
this._trigger("response",null,{content:content});if(!this.options.disabled&&content&&content.length&&!this.cancelSearch){this._suggest(content);this._trigger("open");}else{this._close();}},close:function(event){this.cancelSearch=true;this._close(event);},_close:function(event){this._off(this.document,"mousedown");if(this.menu.element.is(":visible")){this.menu.element.hide();this.menu.blur();this.isNewMenu=true;this._trigger("close",event);}},_change:function(event){if(this.previous!==this._value()){this._trigger("change",event,{item:this.selectedItem});}},_normalize:function(items){if(items.length&&items[0].label&&items[0].value){return items;}
return $.map(items,function(item){if(typeof item==="string"){return{label:item,value:item};}
return $.extend({},item,{label:item.label||item.value,value:item.value||item.label});});},_suggest:function(items){var ul=this.menu.element.empty();this._renderMenu(ul,items);this.isNewMenu=true;this.menu.refresh();ul.show();this._resizeMenu();ul.position($.extend({of:this.element},this.options.position));if(this.options.autoFocus){this.menu.next();}
this._on(this.document,{mousedown:"_closeOnClickOutside"});},_resizeMenu:function(){var ul=this.menu.element;ul.outerWidth(Math.max(ul.width("").outerWidth()+1,this.element.outerWidth()));},_renderMenu:function(ul,items){var that=this;$.each(items,function(index,item){that._renderItemData(ul,item);});},_renderItemData:function(ul,item){return this._renderItem(ul,item).data("ui-autocomplete-item",item);},_renderItem:function(ul,item){return $("<li>").append($("<div>").text(item.label)).appendTo(ul);},_move:function(direction,event){if(!this.menu.element.is(":visible")){this.search(null,event);return;}
if(this.menu.isFirstItem()&&/^previous/.test(direction)||this.menu.isLastItem()&&/^next/.test(direction)){if(!this.isMultiLine){this._value(this.term);}
this.menu.blur();return;}
this.menu[direction](event);},widget:function(){return this.menu.element;},_value:function(){return this.valueMethod.apply(this.element,arguments);},_keyEvent:function(keyEvent,event){if(!this.isMultiLine||this.menu.element.is(":visible")){this._move(keyEvent,event);event.preventDefault();}},_isContentEditable:function(element){if(!element.length){return false;}
var editable=element.prop("contentEditable");if(editable==="inherit"){return this._isContentEditable(element.parent());}
return editable==="true";}});$.extend($.ui.autocomplete,{escapeRegex:function(value){return value.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");},filter:function(array,term){var matcher=new RegExp($.ui.autocomplete.escapeRegex(term),"i");return $.grep(array,function(value){return matcher.test(value.label||value.value||value);});}});$.widget("ui.autocomplete",$.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(amount){return amount+(amount>1?" results are":" result is")+" available, use up and down arrow keys to navigate.";}}},__response:function(content){var message;this._superApply(arguments);if(this.options.disabled||this.cancelSearch){return;}
if(content&&content.length){message=this.options.messages.results(content.length);}else{message=this.options.messages.noResults;}
this.liveRegion.children().hide();$("<div>").text(message).appendTo(this.liveRegion);}});var widgetsAutocomplete=$.ui.autocomplete;var controlgroupCornerRegex=/ui-corner-([a-z]){2,6}/g;var widgetsControlgroup=$.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:true,items:{"button":"input[type=button], input[type=submit], input[type=reset], button, a","controlgroupLabel":".ui-controlgroup-label","checkboxradio":"input[type='checkbox'], input[type='radio']","selectmenu":"select","spinner":".ui-spinner-input"}},_create:function(){this._enhance();},_enhance:function(){this.element.attr("role","toolbar");this.refresh();},_destroy:function(){this._callChildMethod("destroy");this.childWidgets.removeData("ui-controlgroup-data");this.element.removeAttr("role");if(this.options.items.controlgroupLabel){this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap();}},_initWidgets:function(){var that=this,childWidgets=[];$.each(this.options.items,function(widget,selector){var labels;var options={};if(!selector){return;}
if(widget==="controlgroupLabel"){labels=that.element.find(selector);labels.each(function(){var element=$(this);if(element.children(".ui-controlgroup-label-contents").length){return;}
element.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>");});that._addClass(labels,null,"ui-widget ui-widget-content ui-state-default");childWidgets=childWidgets.concat(labels.get());return;}
if(!$.fn[widget]){return;}
if(that["_"+widget+"Options"]){options=that["_"+widget+"Options"]("middle");}else{options={classes:{}};}
that.element.find(selector).each(function(){var element=$(this);var instance=element[widget]("instance");var instanceOptions=$.widget.extend({},options);if(widget==="button"&&element.parent(".ui-spinner").length){return;}
if(!instance){instance=element[widget]()[widget]("instance");}
if(instance){instanceOptions.classes=that._resolveClassesValues(instanceOptions.classes,instance);}
element[widget](instanceOptions);var widgetElement=element[widget]("widget");$.data(widgetElement[0],"ui-controlgroup-data",instance?instance:element[widget]("instance"));childWidgets.push(widgetElement[0]);});});this.childWidgets=$($.unique(childWidgets));this._addClass(this.childWidgets,"ui-controlgroup-item");},_callChildMethod:function(method){this.childWidgets.each(function(){var element=$(this),data=element.data("ui-controlgroup-data");if(data&&data[method]){data[method]();}});},_updateCornerClass:function(element,position){var remove="ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all";var add=this._buildSimpleOptions(position,"label").classes.label;this._removeClass(element,null,remove);this._addClass(element,null,add);},_buildSimpleOptions:function(position,key){var direction=this.options.direction==="vertical";var result={classes:{}};result.classes[key]={"middle":"","first":"ui-corner-"+(direction?"top":"left"),"last":"ui-corner-"+(direction?"bottom":"right"),"only":"ui-corner-all"}[position];return result;},_spinnerOptions:function(position){var options=this._buildSimpleOptions(position,"ui-spinner");options.classes["ui-spinner-up"]="";options.classes["ui-spinner-down"]="";return options;},_buttonOptions:function(position){return this._buildSimpleOptions(position,"ui-button");},_checkboxradioOptions:function(position){return this._buildSimpleOptions(position,"ui-checkboxradio-label");},_selectmenuOptions:function(position){var direction=this.options.direction==="vertical";return{width:direction?"auto":false,classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(direction?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(direction?"top":"left")},last:{"ui-selectmenu-button-open":direction?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(direction?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[position]};},_resolveClassesValues:function(classes,instance){var result={};$.each(classes,function(key){var current=instance.options.classes[key]||"";current=$.trim(current.replace(controlgroupCornerRegex,""));result[key]=(current+" "+classes[key]).replace(/\s+/g," ");});return result;},_setOption:function(key,value){if(key==="direction"){this._removeClass("ui-controlgroup-"+this.options.direction);}
this._super(key,value);if(key==="disabled"){this._callChildMethod(value?"disable":"enable");return;}
this.refresh();},refresh:function(){var children,that=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction);if(this.options.direction==="horizontal"){this._addClass(null,"ui-helper-clearfix");}
this._initWidgets();children=this.childWidgets;if(this.options.onlyVisible){children=children.filter(":visible");}
if(children.length){$.each(["first","last"],function(index,value){var instance=children[value]().data("ui-controlgroup-data");if(instance&&that["_"+instance.widgetName+"Options"]){var options=that["_"+instance.widgetName+"Options"](children.length===1?"only":value);options.classes=that._resolveClassesValues(options.classes,instance);instance.element[instance.widgetName](options);}else{that._updateCornerClass(children[value](),value);}});this._callChildMethod("refresh");}}});$.widget("ui.checkboxradio",[$.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:true,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var disabled,labels;var that=this;var options=this._super()||{};this._readType();labels=this.element.labels();this.label=$(labels[labels.length-1]);if(!this.label.length){$.error("No label found for checkboxradio widget");}
this.originalLabel="";this.label.contents().not(this.element[0]).each(function(){that.originalLabel+=this.nodeType===3?$(this).text():this.outerHTML;});if(this.originalLabel){options.label=this.originalLabel;}
disabled=this.element[0].disabled;if(disabled!=null){options.disabled=disabled;}
return options;},_create:function(){var checked=this.element[0].checked;this._bindFormResetHandler();if(this.options.disabled==null){this.options.disabled=this.element[0].disabled;}
this._setOption("disabled",this.options.disabled);this._addClass("ui-checkboxradio","ui-helper-hidden-accessible");this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget");if(this.type==="radio"){this._addClass(this.label,"ui-checkboxradio-radio-label");}
if(this.options.label&&this.options.label!==this.originalLabel){this._updateLabel();}else if(this.originalLabel){this.options.label=this.originalLabel;}
this._enhance();if(checked){this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active");if(this.icon){this._addClass(this.icon,null,"ui-state-hover");}}
this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus");},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus");}});},_readType:function(){var nodeName=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type;if(nodeName!=="input"||!/radio|checkbox/.test(this.type)){$.error("Can't create checkboxradio on element.nodeName="+nodeName+" and element.type="+this.type);}},_enhance:function(){this._updateIcon(this.element[0].checked);},widget:function(){return this.label;},_getRadioGroup:function(){var group;var name=this.element[0].name;var nameSelector="input[name='"+$.ui.escapeSelector(name)+"']";if(!name){return $([]);}
if(this.form.length){group=$(this.form[0].elements).filter(nameSelector);}else{group=$(nameSelector).filter(function(){return $(this).form().length===0;});}
return group.not(this.element);},_toggleClasses:function(){var checked=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",checked);if(this.options.icon&&this.type==="checkbox"){this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",checked)._toggleClass(this.icon,null,"ui-icon-blank",!checked);}
if(this.type==="radio"){this._getRadioGroup().each(function(){var instance=$(this).checkboxradio("instance");if(instance){instance._removeClass(instance.label,"ui-checkboxradio-checked","ui-state-active");}});}},_destroy:function(){this._unbindFormResetHandler();if(this.icon){this.icon.remove();this.iconSpace.remove();}},_setOption:function(key,value){if(key==="label"&&!value){return;}
this._super(key,value);if(key==="disabled"){this._toggleClass(this.label,null,"ui-state-disabled",value);this.element[0].disabled=value;return;}
this.refresh();},_updateIcon:function(checked){var toAdd="ui-icon ui-icon-background ";if(this.options.icon){if(!this.icon){this.icon=$("<span>");this.iconSpace=$("<span> </span>");this._addClass(this.iconSpace,"ui-checkboxradio-icon-space");}
if(this.type==="checkbox"){toAdd+=checked?"ui-icon-check ui-state-checked":"ui-icon-blank";this._removeClass(this.icon,null,checked?"ui-icon-blank":"ui-icon-check");}else{toAdd+="ui-icon-blank";}
this._addClass(this.icon,"ui-checkboxradio-icon",toAdd);if(!checked){this._removeClass(this.icon,null,"ui-icon-check ui-state-checked");}
this.icon.prependTo(this.label).after(this.iconSpace);}else if(this.icon!==undefined){this.icon.remove();this.iconSpace.remove();delete this.icon;}},_updateLabel:function(){var contents=this.label.contents().not(this.element[0]);if(this.icon){contents=contents.not(this.icon[0]);}
if(this.iconSpace){contents=contents.not(this.iconSpace[0]);}
contents.remove();this.label.append(this.options.label);},refresh:function(){var checked=this.element[0].checked,isDisabled=this.element[0].disabled;this._updateIcon(checked);this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",checked);if(this.options.label!==null){this._updateLabel();}
if(isDisabled!==this.options.disabled){this._setOptions({"disabled":isDisabled});}}}]);var widgetsCheckboxradio=$.ui.checkboxradio;$.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:true},_getCreateOptions:function(){var disabled,options=this._super()||{};this.isInput=this.element.is("input");disabled=this.element[0].disabled;if(disabled!=null){options.disabled=disabled;}
this.originalLabel=this.isInput?this.element.val():this.element.html();if(this.originalLabel){options.label=this.originalLabel;}
return options;},_create:function(){if(!this.option.showLabel&!this.options.icon){this.options.showLabel=true;}
if(this.options.disabled==null){this.options.disabled=this.element[0].disabled||false;}
this.hasTitle=!!this.element.attr("title");if(this.options.label&&this.options.label!==this.originalLabel){if(this.isInput){this.element.val(this.options.label);}else{this.element.html(this.options.label);}}
this._addClass("ui-button","ui-widget");this._setOption("disabled",this.options.disabled);this._enhance();if(this.element.is("a")){this._on({"keyup":function(event){if(event.keyCode===$.ui.keyCode.SPACE){event.preventDefault();if(this.element[0].click){this.element[0].click();}else{this.element.trigger("click");}}}});}},_enhance:function(){if(!this.element.is("button")){this.element.attr("role","button");}
if(this.options.icon){this._updateIcon("icon",this.options.icon);this._updateTooltip();}},_updateTooltip:function(){this.title=this.element.attr("title");if(!this.options.showLabel&&!this.title){this.element.attr("title",this.options.label);}},_updateIcon:function(option,value){var icon=option!=="iconPosition",position=icon?this.options.iconPosition:value,displayBlock=position==="top"||position==="bottom";if(!this.icon){this.icon=$("<span>");this._addClass(this.icon,"ui-button-icon","ui-icon");if(!this.options.showLabel){this._addClass("ui-button-icon-only");}}else if(icon){this._removeClass(this.icon,null,this.options.icon);}
if(icon){this._addClass(this.icon,null,value);}
this._attachIcon(position);if(displayBlock){this._addClass(this.icon,null,"ui-widget-icon-block");if(this.iconSpace){this.iconSpace.remove();}}else{if(!this.iconSpace){this.iconSpace=$("<span> </span>");this._addClass(this.iconSpace,"ui-button-icon-space");}
this._removeClass(this.icon,null,"ui-wiget-icon-block");this._attachIconSpace(position);}},_destroy:function(){this.element.removeAttr("role");if(this.icon){this.icon.remove();}
if(this.iconSpace){this.iconSpace.remove();}
if(!this.hasTitle){this.element.removeAttr("title");}},_attachIconSpace:function(iconPosition){this.icon[/^(?:end|bottom)/.test(iconPosition)?"before":"after"](this.iconSpace);},_attachIcon:function(iconPosition){this.element[/^(?:end|bottom)/.test(iconPosition)?"append":"prepend"](this.icon);},_setOptions:function(options){var newShowLabel=options.showLabel===undefined?this.options.showLabel:options.showLabel,newIcon=options.icon===undefined?this.options.icon:options.icon;if(!newShowLabel&&!newIcon){options.showLabel=true;}
this._super(options);},_setOption:function(key,value){if(key==="icon"){if(value){this._updateIcon(key,value);}else if(this.icon){this.icon.remove();if(this.iconSpace){this.iconSpace.remove();}}}
if(key==="iconPosition"){this._updateIcon(key,value);}
if(key==="showLabel"){this._toggleClass("ui-button-icon-only",null,!value);this._updateTooltip();}
if(key==="label"){if(this.isInput){this.element.val(value);}else{this.element.html(value);if(this.icon){this._attachIcon(this.options.iconPosition);this._attachIconSpace(this.options.iconPosition);}}}
this._super(key,value);if(key==="disabled"){this._toggleClass(null,"ui-state-disabled",value);this.element[0].disabled=value;if(value){this.element.blur();}}},refresh:function(){var isDisabled=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");if(isDisabled!==this.options.disabled){this._setOptions({disabled:isDisabled});}
this._updateTooltip();}});if($.uiBackCompat!==false){$.widget("ui.button",$.ui.button,{options:{text:true,icons:{primary:null,secondary:null}},_create:function(){if(this.options.showLabel&&!this.options.text){this.options.showLabel=this.options.text;}
if(!this.options.showLabel&&this.options.text){this.options.text=this.options.showLabel;}
if(!this.options.icon&&(this.options.icons.primary||this.options.icons.secondary)){if(this.options.icons.primary){this.options.icon=this.options.icons.primary;}else{this.options.icon=this.options.icons.secondary;this.options.iconPosition="end";}}else if(this.options.icon){this.options.icons.primary=this.options.icon;}
this._super();},_setOption:function(key,value){if(key==="text"){this._super("showLabel",value);return;}
if(key==="showLabel"){this.options.text=value;}
if(key==="icon"){this.options.icons.primary=value;}
if(key==="icons"){if(value.primary){this._super("icon",value.primary);this._super("iconPosition","beginning");}else if(value.secondary){this._super("icon",value.secondary);this._super("iconPosition","end");}}
this._superApply(arguments);}});$.fn.button=(function(orig){return function(){if(!this.length||(this.length&&this[0].tagName!=="INPUT")||(this.length&&this[0].tagName==="INPUT"&&(this.attr("type")!=="checkbox"&&this.attr("type")!=="radio"))){return orig.apply(this,arguments);}
if(!$.ui.checkboxradio){$.error("Checkboxradio widget missing");}
if(arguments.length===0){return this.checkboxradio({"icon":false});}
return this.checkboxradio.apply(this,arguments);};})($.fn.button);$.fn.buttonset=function(){if(!$.ui.controlgroup){$.error("Controlgroup widget missing");}
if(arguments[0]==="option"&&arguments[1]==="items"&&arguments[2]){return this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]);}
if(arguments[0]==="option"&&arguments[1]==="items"){return this.controlgroup.apply(this,[arguments[0],"items.button"]);}
if(typeof arguments[0]==="object"&&arguments[0].items){arguments[0].items={button:arguments[0].items};}
return this.controlgroup.apply(this,arguments);};}
var widgetsButton=$.ui.button;$.extend($.ui,{datepicker:{version:"1.12.1"}});var datepicker_instActive;function datepicker_getZindex(elem){var position,value;while(elem.length&&elem[0]!==document){position=elem.css("position");if(position==="absolute"||position==="relative"||position==="fixed"){value=parseInt(elem.css("zIndex"),10);if(!isNaN(value)&&value!==0){return value;}}
elem=elem.parent();}
return 0;}
function Datepicker(){this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._datepickerShowing=false;this._inDialog=false;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,changeYear:false,yearRange:"c-10:c+10",showOtherMonths:false,selectOtherMonths:false,showWeek:false,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:true,showButtonPanel:false,autoSize:false,disabled:false};$.extend(this._defaults,this.regional[""]);this.regional.en=$.extend(true,{},this.regional[""]);this.regional["en-US"]=$.extend(true,{},this.regional.en);this.dpDiv=datepicker_bindHover($("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"));}
$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv;},setDefaults:function(settings){datepicker_extendRemove(this._defaults,settings||{});return this;},_attachDatepicker:function(target,settings){var nodeName,inline,inst;nodeName=target.nodeName.toLowerCase();inline=(nodeName==="div"||nodeName==="span");if(!target.id){this.uuid+=1;target.id="dp"+this.uuid;}
inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{});if(nodeName==="input"){this._connectDatepicker(target,inst);}else if(inline){this._inlineDatepicker(target,inst);}},_newInst:function(target,inline){var id=target[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:id,input:target,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:inline,dpDiv:(!inline?this.dpDiv:datepicker_bindHover($("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")))};},_connectDatepicker:function(target,inst){var input=$(target);inst.append=$([]);inst.trigger=$([]);if(input.hasClass(this.markerClassName)){return;}
this._attachments(input,inst);input.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp);this._autoSize(inst);$.data(target,"datepicker",inst);if(inst.settings.disabled){this._disableDatepicker(target);}},_attachments:function(input,inst){var showOn,buttonText,buttonImage,appendText=this._get(inst,"appendText"),isRTL=this._get(inst,"isRTL");if(inst.append){inst.append.remove();}
if(appendText){inst.append=$("<span class='"+this._appendClass+"'>"+appendText+"</span>");input[isRTL?"before":"after"](inst.append);}
input.off("focus",this._showDatepicker);if(inst.trigger){inst.trigger.remove();}
showOn=this._get(inst,"showOn");if(showOn==="focus"||showOn==="both"){input.on("focus",this._showDatepicker);}
if(showOn==="button"||showOn==="both"){buttonText=this._get(inst,"buttonText");buttonImage=this._get(inst,"buttonImage");inst.trigger=$(this._get(inst,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:buttonImage,alt:buttonText,title:buttonText}):$("<button type='button'></button>").addClass(this._triggerClass).html(!buttonImage?buttonText:$("<img/>").attr({src:buttonImage,alt:buttonText,title:buttonText})));input[isRTL?"before":"after"](inst.trigger);inst.trigger.on("click",function(){if($.datepicker._datepickerShowing&&$.datepicker._lastInput===input[0]){$.datepicker._hideDatepicker();}else if($.datepicker._datepickerShowing&&$.datepicker._lastInput!==input[0]){$.datepicker._hideDatepicker();$.datepicker._showDatepicker(input[0]);}else{$.datepicker._showDatepicker(input[0]);}
return false;});}},_autoSize:function(inst){if(this._get(inst,"autoSize")&&!inst.inline){var findMax,max,maxI,i,date=new Date(2009,12-1,20),dateFormat=this._get(inst,"dateFormat");if(dateFormat.match(/[DM]/)){findMax=function(names){max=0;maxI=0;for(i=0;i<names.length;i++){if(names[i].length>max){max=names[i].length;maxI=i;}}
return maxI;};date.setMonth(findMax(this._get(inst,(dateFormat.match(/MM/)?"monthNames":"monthNamesShort"))));date.setDate(findMax(this._get(inst,(dateFormat.match(/DD/)?"dayNames":"dayNamesShort")))+20-date.getDay());}
inst.input.attr("size",this._formatDate(inst,date).length);}},_inlineDatepicker:function(target,inst){var divSpan=$(target);if(divSpan.hasClass(this.markerClassName)){return;}
divSpan.addClass(this.markerClassName).append(inst.dpDiv);$.data(target,"datepicker",inst);this._setDate(inst,this._getDefaultDate(inst),true);this._updateDatepicker(inst);this._updateAlternate(inst);if(inst.settings.disabled){this._disableDatepicker(target);}
inst.dpDiv.css("display","block");},_dialogDatepicker:function(input,date,onSelect,settings,pos){var id,browserWidth,browserHeight,scrollX,scrollY,inst=this._dialogInst;if(!inst){this.uuid+=1;id="dp"+this.uuid;this._dialogInput=$("<input type='text' id='"+id+"' style='position: absolute; top: -100px; width: 0px;'/>");this._dialogInput.on("keydown",this._doKeyDown);$("body").append(this._dialogInput);inst=this._dialogInst=this._newInst(this._dialogInput,false);inst.settings={};$.data(this._dialogInput[0],"datepicker",inst);}
datepicker_extendRemove(inst.settings,settings||{});date=(date&&date.constructor===Date?this._formatDate(inst,date):date);this._dialogInput.val(date);this._pos=(pos?(pos.length?pos:[pos.pageX,pos.pageY]):null);if(!this._pos){browserWidth=document.documentElement.clientWidth;browserHeight=document.documentElement.clientHeight;scrollX=document.documentElement.scrollLeft||document.body.scrollLeft;scrollY=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[(browserWidth/2)-100+scrollX,(browserHeight/2)-150+scrollY];}
this._dialogInput.css("left",(this._pos[0]+20)+"px").css("top",this._pos[1]+"px");inst.settings.onSelect=onSelect;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);if($.blockUI){$.blockUI(this.dpDiv);}
$.data(this._dialogInput[0],"datepicker",inst);return this;},_destroyDatepicker:function(target){var nodeName,$target=$(target),inst=$.data(target,"datepicker");if(!$target.hasClass(this.markerClassName)){return;}
nodeName=target.nodeName.toLowerCase();$.removeData(target,"datepicker");if(nodeName==="input"){inst.append.remove();inst.trigger.remove();$target.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp);}else if(nodeName==="div"||nodeName==="span"){$target.removeClass(this.markerClassName).empty();}
if(datepicker_instActive===inst){datepicker_instActive=null;}},_enableDatepicker:function(target){var nodeName,inline,$target=$(target),inst=$.data(target,"datepicker");if(!$target.hasClass(this.markerClassName)){return;}
nodeName=target.nodeName.toLowerCase();if(nodeName==="input"){target.disabled=false;inst.trigger.filter("button").each(function(){this.disabled=false;}).end().filter("img").css({opacity:"1.0",cursor:""});}else if(nodeName==="div"||nodeName==="span"){inline=$target.children("."+this._inlineClass);inline.children().removeClass("ui-state-disabled");inline.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",false);}
this._disabledInputs=$.map(this._disabledInputs,function(value){return(value===target?null:value);});},_disableDatepicker:function(target){var nodeName,inline,$target=$(target),inst=$.data(target,"datepicker");if(!$target.hasClass(this.markerClassName)){return;}
nodeName=target.nodeName.toLowerCase();if(nodeName==="input"){target.disabled=true;inst.trigger.filter("button").each(function(){this.disabled=true;}).end().filter("img").css({opacity:"0.5",cursor:"default"});}else if(nodeName==="div"||nodeName==="span"){inline=$target.children("."+this._inlineClass);inline.children().addClass("ui-state-disabled");inline.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",true);}
this._disabledInputs=$.map(this._disabledInputs,function(value){return(value===target?null:value);});this._disabledInputs[this._disabledInputs.length]=target;},_isDisabledDatepicker:function(target){if(!target){return false;}
for(var i=0;i<this._disabledInputs.length;i++){if(this._disabledInputs[i]===target){return true;}}
return false;},_getInst:function(target){try{return $.data(target,"datepicker");}
catch(err){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(target,name,value){var settings,date,minDate,maxDate,inst=this._getInst(target);if(arguments.length===2&&typeof name==="string"){return(name==="defaults"?$.extend({},$.datepicker._defaults):(inst?(name==="all"?$.extend({},inst.settings):this._get(inst,name)):null));}
settings=name||{};if(typeof name==="string"){settings={};settings[name]=value;}
if(inst){if(this._curInst===inst){this._hideDatepicker();}
date=this._getDateDatepicker(target,true);minDate=this._getMinMaxDate(inst,"min");maxDate=this._getMinMaxDate(inst,"max");datepicker_extendRemove(inst.settings,settings);if(minDate!==null&&settings.dateFormat!==undefined&&settings.minDate===undefined){inst.settings.minDate=this._formatDate(inst,minDate);}
if(maxDate!==null&&settings.dateFormat!==undefined&&settings.maxDate===undefined){inst.settings.maxDate=this._formatDate(inst,maxDate);}
if("disabled"in settings){if(settings.disabled){this._disableDatepicker(target);}else{this._enableDatepicker(target);}}
this._attachments($(target),inst);this._autoSize(inst);this._setDate(inst,date);this._updateAlternate(inst);this._updateDatepicker(inst);}},_changeDatepicker:function(target,name,value){this._optionDatepicker(target,name,value);},_refreshDatepicker:function(target){var inst=this._getInst(target);if(inst){this._updateDatepicker(inst);}},_setDateDatepicker:function(target,date){var inst=this._getInst(target);if(inst){this._setDate(inst,date);this._updateDatepicker(inst);this._updateAlternate(inst);}},_getDateDatepicker:function(target,noDefault){var inst=this._getInst(target);if(inst&&!inst.inline){this._setDateFromField(inst,noDefault);}
return(inst?this._getDate(inst):null);},_doKeyDown:function(event){var onSelect,dateStr,sel,inst=$.datepicker._getInst(event.target),handled=true,isRTL=inst.dpDiv.is(".ui-datepicker-rtl");inst._keyEvent=true;if($.datepicker._datepickerShowing){switch(event.keyCode){case 9:$.datepicker._hideDatepicker();handled=false;break;case 13:sel=$("td."+$.datepicker._dayOverClass+":not(."+
$.datepicker._currentClass+")",inst.dpDiv);if(sel[0]){$.datepicker._selectDay(event.target,inst.selectedMonth,inst.selectedYear,sel[0]);}
onSelect=$.datepicker._get(inst,"onSelect");if(onSelect){dateStr=$.datepicker._formatDate(inst);onSelect.apply((inst.input?inst.input[0]:null),[dateStr,inst]);}else{$.datepicker._hideDatepicker();}
return false;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(event.target,(event.ctrlKey?-$.datepicker._get(inst,"stepBigMonths"):-$.datepicker._get(inst,"stepMonths")),"M");break;case 34:$.datepicker._adjustDate(event.target,(event.ctrlKey?+$.datepicker._get(inst,"stepBigMonths"):+$.datepicker._get(inst,"stepMonths")),"M");break;case 35:if(event.ctrlKey||event.metaKey){$.datepicker._clearDate(event.target);}
handled=event.ctrlKey||event.metaKey;break;case 36:if(event.ctrlKey||event.metaKey){$.datepicker._gotoToday(event.target);}
handled=event.ctrlKey||event.metaKey;break;case 37:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,(isRTL?+1:-1),"D");}
handled=event.ctrlKey||event.metaKey;if(event.originalEvent.altKey){$.datepicker._adjustDate(event.target,(event.ctrlKey?-$.datepicker._get(inst,"stepBigMonths"):-$.datepicker._get(inst,"stepMonths")),"M");}
break;case 38:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,-7,"D");}
handled=event.ctrlKey||event.metaKey;break;case 39:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,(isRTL?-1:+1),"D");}
handled=event.ctrlKey||event.metaKey;if(event.originalEvent.altKey){$.datepicker._adjustDate(event.target,(event.ctrlKey?+$.datepicker._get(inst,"stepBigMonths"):+$.datepicker._get(inst,"stepMonths")),"M");}
break;case 40:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,+7,"D");}
handled=event.ctrlKey||event.metaKey;break;default:handled=false;}}else if(event.keyCode===36&&event.ctrlKey){$.datepicker._showDatepicker(this);}else{handled=false;}
if(handled){event.preventDefault();event.stopPropagation();}},_doKeyPress:function(event){var chars,chr,inst=$.datepicker._getInst(event.target);if($.datepicker._get(inst,"constrainInput")){chars=$.datepicker._possibleChars($.datepicker._get(inst,"dateFormat"));chr=String.fromCharCode(event.charCode==null?event.keyCode:event.charCode);return event.ctrlKey||event.metaKey||(chr<" "||!chars||chars.indexOf(chr)>-1);}},_doKeyUp:function(event){var date,inst=$.datepicker._getInst(event.target);if(inst.input.val()!==inst.lastVal){try{date=$.datepicker.parseDate($.datepicker._get(inst,"dateFormat"),(inst.input?inst.input.val():null),$.datepicker._getFormatConfig(inst));if(date){$.datepicker._setDateFromField(inst);$.datepicker._updateAlternate(inst);$.datepicker._updateDatepicker(inst);}}
catch(err){}}
return true;},_showDatepicker:function(input){input=input.target||input;if(input.nodeName.toLowerCase()!=="input"){input=$("input",input.parentNode)[0];}
if($.datepicker._isDisabledDatepicker(input)||$.datepicker._lastInput===input){return;}
var inst,beforeShow,beforeShowSettings,isFixed,offset,showAnim,duration;inst=$.datepicker._getInst(input);if($.datepicker._curInst&&$.datepicker._curInst!==inst){$.datepicker._curInst.dpDiv.stop(true,true);if(inst&&$.datepicker._datepickerShowing){$.datepicker._hideDatepicker($.datepicker._curInst.input[0]);}}
beforeShow=$.datepicker._get(inst,"beforeShow");beforeShowSettings=beforeShow?beforeShow.apply(input,[input,inst]):{};if(beforeShowSettings===false){return;}
datepicker_extendRemove(inst.settings,beforeShowSettings);inst.lastVal=null;$.datepicker._lastInput=input;$.datepicker._setDateFromField(inst);if($.datepicker._inDialog){input.value="";}
if(!$.datepicker._pos){$.datepicker._pos=$.datepicker._findPos(input);$.datepicker._pos[1]+=input.offsetHeight;}
isFixed=false;$(input).parents().each(function(){isFixed|=$(this).css("position")==="fixed";return!isFixed;});offset={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};$.datepicker._pos=null;inst.dpDiv.empty();inst.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});$.datepicker._updateDatepicker(inst);offset=$.datepicker._checkOffset(inst,offset,isFixed);inst.dpDiv.css({position:($.datepicker._inDialog&&$.blockUI?"static":(isFixed?"fixed":"absolute")),display:"none",left:offset.left+"px",top:offset.top+"px"});if(!inst.inline){showAnim=$.datepicker._get(inst,"showAnim");duration=$.datepicker._get(inst,"duration");inst.dpDiv.css("z-index",datepicker_getZindex($(input))+1);$.datepicker._datepickerShowing=true;if($.effects&&$.effects.effect[showAnim]){inst.dpDiv.show(showAnim,$.datepicker._get(inst,"showOptions"),duration);}else{inst.dpDiv[showAnim||"show"](showAnim?duration:null);}
if($.datepicker._shouldFocusInput(inst)){inst.input.trigger("focus");}
$.datepicker._curInst=inst;}},_updateDatepicker:function(inst){this.maxRows=4;datepicker_instActive=inst;inst.dpDiv.empty().append(this._generateHTML(inst));this._attachHandlers(inst);var origyearshtml,numMonths=this._getNumberOfMonths(inst),cols=numMonths[1],width=17,activeCell=inst.dpDiv.find("."+this._dayOverClass+" a");if(activeCell.length>0){datepicker_handleMouseover.apply(activeCell.get(0));}
inst.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");if(cols>1){inst.dpDiv.addClass("ui-datepicker-multi-"+cols).css("width",(width*cols)+"em");}
inst.dpDiv[(numMonths[0]!==1||numMonths[1]!==1?"add":"remove")+"Class"]("ui-datepicker-multi");inst.dpDiv[(this._get(inst,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");if(inst===$.datepicker._curInst&&$.datepicker._datepickerShowing&&$.datepicker._shouldFocusInput(inst)){inst.input.trigger("focus");}
if(inst.yearshtml){origyearshtml=inst.yearshtml;setTimeout(function(){if(origyearshtml===inst.yearshtml&&inst.yearshtml){inst.dpDiv.find("select.ui-datepicker-year:first").replaceWith(inst.yearshtml);}
origyearshtml=inst.yearshtml=null;},0);}},_shouldFocusInput:function(inst){return inst.input&&inst.input.is(":visible")&&!inst.input.is(":disabled")&&!inst.input.is(":focus");},_checkOffset:function(inst,offset,isFixed){var dpWidth=inst.dpDiv.outerWidth(),dpHeight=inst.dpDiv.outerHeight(),inputWidth=inst.input?inst.input.outerWidth():0,inputHeight=inst.input?inst.input.outerHeight():0,viewWidth=document.documentElement.clientWidth+(isFixed?0:$(document).scrollLeft()),viewHeight=document.documentElement.clientHeight+(isFixed?0:$(document).scrollTop());offset.left-=(this._get(inst,"isRTL")?(dpWidth-inputWidth):0);offset.left-=(isFixed&&offset.left===inst.input.offset().left)?$(document).scrollLeft():0;offset.top-=(isFixed&&offset.top===(inst.input.offset().top+inputHeight))?$(document).scrollTop():0;offset.left-=Math.min(offset.left,(offset.left+dpWidth>viewWidth&&viewWidth>dpWidth)?Math.abs(offset.left+dpWidth-viewWidth):0);offset.top-=Math.min(offset.top,(offset.top+dpHeight>viewHeight&&viewHeight>dpHeight)?Math.abs(dpHeight+inputHeight):0);return offset;},_findPos:function(obj){var position,inst=this._getInst(obj),isRTL=this._get(inst,"isRTL");while(obj&&(obj.type==="hidden"||obj.nodeType!==1||$.expr.filters.hidden(obj))){obj=obj[isRTL?"previousSibling":"nextSibling"];}
position=$(obj).offset();return[position.left,position.top];},_hideDatepicker:function(input){var showAnim,duration,postProcess,onClose,inst=this._curInst;if(!inst||(input&&inst!==$.data(input,"datepicker"))){return;}
if(this._datepickerShowing){showAnim=this._get(inst,"showAnim");duration=this._get(inst,"duration");postProcess=function(){$.datepicker._tidyDialog(inst);};if($.effects&&($.effects.effect[showAnim]||$.effects[showAnim])){inst.dpDiv.hide(showAnim,$.datepicker._get(inst,"showOptions"),duration,postProcess);}else{inst.dpDiv[(showAnim==="slideDown"?"slideUp":(showAnim==="fadeIn"?"fadeOut":"hide"))]((showAnim?duration:null),postProcess);}
if(!showAnim){postProcess();}
this._datepickerShowing=false;onClose=this._get(inst,"onClose");if(onClose){onClose.apply((inst.input?inst.input[0]:null),[(inst.input?inst.input.val():""),inst]);}
this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if($.blockUI){$.unblockUI();$("body").append(this.dpDiv);}}
this._inDialog=false;}},_tidyDialog:function(inst){inst.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar");},_checkExternalClick:function(event){if(!$.datepicker._curInst){return;}
var $target=$(event.target),inst=$.datepicker._getInst($target[0]);if((($target[0].id!==$.datepicker._mainDivId&&$target.parents("#"+$.datepicker._mainDivId).length===0&&!$target.hasClass($.datepicker.markerClassName)&&!$target.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&!($.datepicker._inDialog&&$.blockUI)))||($target.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!==inst)){$.datepicker._hideDatepicker();}},_adjustDate:function(id,offset,period){var target=$(id),inst=this._getInst(target[0]);if(this._isDisabledDatepicker(target[0])){return;}
this._adjustInstDate(inst,offset+
(period==="M"?this._get(inst,"showCurrentAtPos"):0),period);this._updateDatepicker(inst);},_gotoToday:function(id){var date,target=$(id),inst=this._getInst(target[0]);if(this._get(inst,"gotoCurrent")&&inst.currentDay){inst.selectedDay=inst.currentDay;inst.drawMonth=inst.selectedMonth=inst.currentMonth;inst.drawYear=inst.selectedYear=inst.currentYear;}else{date=new Date();inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear();}
this._notifyChange(inst);this._adjustDate(target);},_selectMonthYear:function(id,select,period){var target=$(id),inst=this._getInst(target[0]);inst["selected"+(period==="M"?"Month":"Year")]=inst["draw"+(period==="M"?"Month":"Year")]=parseInt(select.options[select.selectedIndex].value,10);this._notifyChange(inst);this._adjustDate(target);},_selectDay:function(id,month,year,td){var inst,target=$(id);if($(td).hasClass(this._unselectableClass)||this._isDisabledDatepicker(target[0])){return;}
inst=this._getInst(target[0]);inst.selectedDay=inst.currentDay=$("a",td).html();inst.selectedMonth=inst.currentMonth=month;inst.selectedYear=inst.currentYear=year;this._selectDate(id,this._formatDate(inst,inst.currentDay,inst.currentMonth,inst.currentYear));},_clearDate:function(id){var target=$(id);this._selectDate(target,"");},_selectDate:function(id,dateStr){var onSelect,target=$(id),inst=this._getInst(target[0]);dateStr=(dateStr!=null?dateStr:this._formatDate(inst));if(inst.input){inst.input.val(dateStr);}
this._updateAlternate(inst);onSelect=this._get(inst,"onSelect");if(onSelect){onSelect.apply((inst.input?inst.input[0]:null),[dateStr,inst]);}else if(inst.input){inst.input.trigger("change");}
if(inst.inline){this._updateDatepicker(inst);}else{this._hideDatepicker();this._lastInput=inst.input[0];if(typeof(inst.input[0])!=="object"){inst.input.trigger("focus");}
this._lastInput=null;}},_updateAlternate:function(inst){var altFormat,date,dateStr,altField=this._get(inst,"altField");if(altField){altFormat=this._get(inst,"altFormat")||this._get(inst,"dateFormat");date=this._getDate(inst);dateStr=this.formatDate(altFormat,date,this._getFormatConfig(inst));$(altField).val(dateStr);}},noWeekends:function(date){var day=date.getDay();return[(day>0&&day<6),""];},iso8601Week:function(date){var time,checkDate=new Date(date.getTime());checkDate.setDate(checkDate.getDate()+4-(checkDate.getDay()||7));time=checkDate.getTime();checkDate.setMonth(0);checkDate.setDate(1);return Math.floor(Math.round((time-checkDate)/86400000)/7)+1;},parseDate:function(format,value,settings){if(format==null||value==null){throw"Invalid arguments";}
value=(typeof value==="object"?value.toString():value+"");if(value===""){return null;}
var iFormat,dim,extra,iValue=0,shortYearCutoffTemp=(settings?settings.shortYearCutoff:null)||this._defaults.shortYearCutoff,shortYearCutoff=(typeof shortYearCutoffTemp!=="string"?shortYearCutoffTemp:new Date().getFullYear()%100+parseInt(shortYearCutoffTemp,10)),dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort,dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames,monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort,monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames,year=-1,month=-1,day=-1,doy=-1,literal=false,date,lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)===match);if(matches){iFormat++;}
return matches;},getNumber=function(match){var isDoubled=lookAhead(match),size=(match==="@"?14:(match==="!"?20:(match==="y"&&isDoubled?4:(match==="o"?3:2)))),minSize=(match==="y"?size:1),digits=new RegExp("^\\d{"+minSize+","+size+"}"),num=value.substring(iValue).match(digits);if(!num){throw"Missing number at position "+iValue;}
iValue+=num[0].length;return parseInt(num[0],10);},getName=function(match,shortNames,longNames){var index=-1,names=$.map(lookAhead(match)?longNames:shortNames,function(v,k){return[[k,v]];}).sort(function(a,b){return-(a[1].length-b[1].length);});$.each(names,function(i,pair){var name=pair[1];if(value.substr(iValue,name.length).toLowerCase()===name.toLowerCase()){index=pair[0];iValue+=name.length;return false;}});if(index!==-1){return index+1;}else{throw"Unknown name at position "+iValue;}},checkLiteral=function(){if(value.charAt(iValue)!==format.charAt(iFormat)){throw"Unexpected literal at position "+iValue;}
iValue++;};for(iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)==="'"&&!lookAhead("'")){literal=false;}else{checkLiteral();}}else{switch(format.charAt(iFormat)){case"d":day=getNumber("d");break;case"D":getName("D",dayNamesShort,dayNames);break;case"o":doy=getNumber("o");break;case"m":month=getNumber("m");break;case"M":month=getName("M",monthNamesShort,monthNames);break;case"y":year=getNumber("y");break;case"@":date=new Date(getNumber("@"));year=date.getFullYear();month=date.getMonth()+1;day=date.getDate();break;case"!":date=new Date((getNumber("!")-this._ticksTo1970)/10000);year=date.getFullYear();month=date.getMonth()+1;day=date.getDate();break;case"'":if(lookAhead("'")){checkLiteral();}else{literal=true;}
break;default:checkLiteral();}}}
if(iValue<value.length){extra=value.substr(iValue);if(!/^\s+/.test(extra)){throw"Extra/unparsed characters found in date: "+extra;}}
if(year===-1){year=new Date().getFullYear();}else if(year<100){year+=new Date().getFullYear()-new Date().getFullYear()%100+
(year<=shortYearCutoff?0:-100);}
if(doy>-1){month=1;day=doy;do{dim=this._getDaysInMonth(year,month-1);if(day<=dim){break;}
month++;day-=dim;}while(true);}
date=this._daylightSavingAdjust(new Date(year,month-1,day));if(date.getFullYear()!==year||date.getMonth()+1!==month||date.getDate()!==day){throw"Invalid date";}
return date;},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(((1970-1)*365+Math.floor(1970/4)-Math.floor(1970/100)+
Math.floor(1970/400))*24*60*60*10000000),formatDate:function(format,date,settings){if(!date){return"";}
var iFormat,dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort,dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames,monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort,monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames,lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)===match);if(matches){iFormat++;}
return matches;},formatNumber=function(match,value,len){var num=""+value;if(lookAhead(match)){while(num.length<len){num="0"+num;}}
return num;},formatName=function(match,value,shortNames,longNames){return(lookAhead(match)?longNames[value]:shortNames[value]);},output="",literal=false;if(date){for(iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)==="'"&&!lookAhead("'")){literal=false;}else{output+=format.charAt(iFormat);}}else{switch(format.charAt(iFormat)){case"d":output+=formatNumber("d",date.getDate(),2);break;case"D":output+=formatName("D",date.getDay(),dayNamesShort,dayNames);break;case"o":output+=formatNumber("o",Math.round((new Date(date.getFullYear(),date.getMonth(),date.getDate()).getTime()-new Date(date.getFullYear(),0,0).getTime())/86400000),3);break;case"m":output+=formatNumber("m",date.getMonth()+1,2);break;case"M":output+=formatName("M",date.getMonth(),monthNamesShort,monthNames);break;case"y":output+=(lookAhead("y")?date.getFullYear():(date.getFullYear()%100<10?"0":"")+date.getFullYear()%100);break;case"@":output+=date.getTime();break;case"!":output+=date.getTime()*10000+this._ticksTo1970;break;case"'":if(lookAhead("'")){output+="'";}else{literal=true;}
break;default:output+=format.charAt(iFormat);}}}}
return output;},_possibleChars:function(format){var iFormat,chars="",literal=false,lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)===match);if(matches){iFormat++;}
return matches;};for(iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)==="'"&&!lookAhead("'")){literal=false;}else{chars+=format.charAt(iFormat);}}else{switch(format.charAt(iFormat)){case"d":case"m":case"y":case"@":chars+="0123456789";break;case"D":case"M":return null;case"'":if(lookAhead("'")){chars+="'";}else{literal=true;}
break;default:chars+=format.charAt(iFormat);}}}
return chars;},_get:function(inst,name){return inst.settings[name]!==undefined?inst.settings[name]:this._defaults[name];},_setDateFromField:function(inst,noDefault){if(inst.input.val()===inst.lastVal){return;}
var dateFormat=this._get(inst,"dateFormat"),dates=inst.lastVal=inst.input?inst.input.val():null,defaultDate=this._getDefaultDate(inst),date=defaultDate,settings=this._getFormatConfig(inst);try{date=this.parseDate(dateFormat,dates,settings)||defaultDate;}catch(event){dates=(noDefault?"":dates);}
inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear();inst.currentDay=(dates?date.getDate():0);inst.currentMonth=(dates?date.getMonth():0);inst.currentYear=(dates?date.getFullYear():0);this._adjustInstDate(inst);},_getDefaultDate:function(inst){return this._restrictMinMax(inst,this._determineDate(inst,this._get(inst,"defaultDate"),new Date()));},_determineDate:function(inst,date,defaultDate){var offsetNumeric=function(offset){var date=new Date();date.setDate(date.getDate()+offset);return date;},offsetString=function(offset){try{return $.datepicker.parseDate($.datepicker._get(inst,"dateFormat"),offset,$.datepicker._getFormatConfig(inst));}
catch(e){}
var date=(offset.toLowerCase().match(/^c/)?$.datepicker._getDate(inst):null)||new Date(),year=date.getFullYear(),month=date.getMonth(),day=date.getDate(),pattern=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,matches=pattern.exec(offset);while(matches){switch(matches[2]||"d"){case"d":case"D":day+=parseInt(matches[1],10);break;case"w":case"W":day+=parseInt(matches[1],10)*7;break;case"m":case"M":month+=parseInt(matches[1],10);day=Math.min(day,$.datepicker._getDaysInMonth(year,month));break;case"y":case"Y":year+=parseInt(matches[1],10);day=Math.min(day,$.datepicker._getDaysInMonth(year,month));break;}
matches=pattern.exec(offset);}
return new Date(year,month,day);},newDate=(date==null||date===""?defaultDate:(typeof date==="string"?offsetString(date):(typeof date==="number"?(isNaN(date)?defaultDate:offsetNumeric(date)):new Date(date.getTime()))));newDate=(newDate&&newDate.toString()==="Invalid Date"?defaultDate:newDate);if(newDate){newDate.setHours(0);newDate.setMinutes(0);newDate.setSeconds(0);newDate.setMilliseconds(0);}
return this._daylightSavingAdjust(newDate);},_daylightSavingAdjust:function(date){if(!date){return null;}
date.setHours(date.getHours()>12?date.getHours()+2:0);return date;},_setDate:function(inst,date,noChange){var clear=!date,origMonth=inst.selectedMonth,origYear=inst.selectedYear,newDate=this._restrictMinMax(inst,this._determineDate(inst,date,new Date()));inst.selectedDay=inst.currentDay=newDate.getDate();inst.drawMonth=inst.selectedMonth=inst.currentMonth=newDate.getMonth();inst.drawYear=inst.selectedYear=inst.currentYear=newDate.getFullYear();if((origMonth!==inst.selectedMonth||origYear!==inst.selectedYear)&&!noChange){this._notifyChange(inst);}
this._adjustInstDate(inst);if(inst.input){inst.input.val(clear?"":this._formatDate(inst));}},_getDate:function(inst){var startDate=(!inst.currentYear||(inst.input&&inst.input.val()==="")?null:this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay)));return startDate;},_attachHandlers:function(inst){var stepMonths=this._get(inst,"stepMonths"),id="#"+inst.id.replace(/\\\\/g,"\\");inst.dpDiv.find("[data-handler]").map(function(){var handler={prev:function(){$.datepicker._adjustDate(id,-stepMonths,"M");},next:function(){$.datepicker._adjustDate(id,+stepMonths,"M");},hide:function(){$.datepicker._hideDatepicker();},today:function(){$.datepicker._gotoToday(id);},selectDay:function(){$.datepicker._selectDay(id,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this);return false;},selectMonth:function(){$.datepicker._selectMonthYear(id,this,"M");return false;},selectYear:function(){$.datepicker._selectMonthYear(id,this,"Y");return false;}};$(this).on(this.getAttribute("data-event"),handler[this.getAttribute("data-handler")]);});},_generateHTML:function(inst){var maxDraw,prevText,prev,nextText,next,currentText,gotoDate,controls,buttonPanel,firstDay,showWeek,dayNames,dayNamesMin,monthNames,monthNamesShort,beforeShowDay,showOtherMonths,selectOtherMonths,defaultDate,html,dow,row,group,col,selectedDate,cornerClass,calender,thead,day,daysInMonth,leadDays,curRows,numRows,printDate,dRow,tbody,daySettings,otherMonth,unselectable,tempDate=new Date(),today=this._daylightSavingAdjust(new Date(tempDate.getFullYear(),tempDate.getMonth(),tempDate.getDate())),isRTL=this._get(inst,"isRTL"),showButtonPanel=this._get(inst,"showButtonPanel"),hideIfNoPrevNext=this._get(inst,"hideIfNoPrevNext"),navigationAsDateFormat=this._get(inst,"navigationAsDateFormat"),numMonths=this._getNumberOfMonths(inst),showCurrentAtPos=this._get(inst,"showCurrentAtPos"),stepMonths=this._get(inst,"stepMonths"),isMultiMonth=(numMonths[0]!==1||numMonths[1]!==1),currentDate=this._daylightSavingAdjust((!inst.currentDay?new Date(9999,9,9):new Date(inst.currentYear,inst.currentMonth,inst.currentDay))),minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max"),drawMonth=inst.drawMonth-showCurrentAtPos,drawYear=inst.drawYear;if(drawMonth<0){drawMonth+=12;drawYear--;}
if(maxDate){maxDraw=this._daylightSavingAdjust(new Date(maxDate.getFullYear(),maxDate.getMonth()-(numMonths[0]*numMonths[1])+1,maxDate.getDate()));maxDraw=(minDate&&maxDraw<minDate?minDate:maxDraw);while(this._daylightSavingAdjust(new Date(drawYear,drawMonth,1))>maxDraw){drawMonth--;if(drawMonth<0){drawMonth=11;drawYear--;}}}
inst.drawMonth=drawMonth;inst.drawYear=drawYear;prevText=this._get(inst,"prevText");prevText=(!navigationAsDateFormat?prevText:this.formatDate(prevText,this._daylightSavingAdjust(new Date(drawYear,drawMonth-stepMonths,1)),this._getFormatConfig(inst)));prev=(this._canAdjustMonth(inst,-1,drawYear,drawMonth)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click'"+" title='"+prevText+"'><span class='ui-icon ui-icon-circle-triangle-"+(isRTL?"e":"w")+"'>"+prevText+"</span></a>":(hideIfNoPrevNext?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+prevText+"'><span class='ui-icon ui-icon-circle-triangle-"+(isRTL?"e":"w")+"'>"+prevText+"</span></a>"));nextText=this._get(inst,"nextText");nextText=(!navigationAsDateFormat?nextText:this.formatDate(nextText,this._daylightSavingAdjust(new Date(drawYear,drawMonth+stepMonths,1)),this._getFormatConfig(inst)));next=(this._canAdjustMonth(inst,+1,drawYear,drawMonth)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click'"+" title='"+nextText+"'><span class='ui-icon ui-icon-circle-triangle-"+(isRTL?"w":"e")+"'>"+nextText+"</span></a>":(hideIfNoPrevNext?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+nextText+"'><span class='ui-icon ui-icon-circle-triangle-"+(isRTL?"w":"e")+"'>"+nextText+"</span></a>"));currentText=this._get(inst,"currentText");gotoDate=(this._get(inst,"gotoCurrent")&&inst.currentDay?currentDate:today);currentText=(!navigationAsDateFormat?currentText:this.formatDate(currentText,gotoDate,this._getFormatConfig(inst)));controls=(!inst.inline?"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+
this._get(inst,"closeText")+"</button>":"");buttonPanel=(showButtonPanel)?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(isRTL?controls:"")+
(this._isInRange(inst,gotoDate)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'"+">"+currentText+"</button>":"")+(isRTL?"":controls)+"</div>":"";firstDay=parseInt(this._get(inst,"firstDay"),10);firstDay=(isNaN(firstDay)?0:firstDay);showWeek=this._get(inst,"showWeek");dayNames=this._get(inst,"dayNames");dayNamesMin=this._get(inst,"dayNamesMin");monthNames=this._get(inst,"monthNames");monthNamesShort=this._get(inst,"monthNamesShort");beforeShowDay=this._get(inst,"beforeShowDay");showOtherMonths=this._get(inst,"showOtherMonths");selectOtherMonths=this._get(inst,"selectOtherMonths");defaultDate=this._getDefaultDate(inst);html="";for(row=0;row<numMonths[0];row++){group="";this.maxRows=4;for(col=0;col<numMonths[1];col++){selectedDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,inst.selectedDay));cornerClass=" ui-corner-all";calender="";if(isMultiMonth){calender+="<div class='ui-datepicker-group";if(numMonths[1]>1){switch(col){case 0:calender+=" ui-datepicker-group-first";cornerClass=" ui-corner-"+(isRTL?"right":"left");break;case numMonths[1]-1:calender+=" ui-datepicker-group-last";cornerClass=" ui-corner-"+(isRTL?"left":"right");break;default:calender+=" ui-datepicker-group-middle";cornerClass="";break;}}
calender+="'>";}
calender+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+cornerClass+"'>"+
(/all|left/.test(cornerClass)&&row===0?(isRTL?next:prev):"")+
(/all|right/.test(cornerClass)&&row===0?(isRTL?prev:next):"")+
this._generateMonthYearHeader(inst,drawMonth,drawYear,minDate,maxDate,row>0||col>0,monthNames,monthNamesShort)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>";thead=(showWeek?"<th class='ui-datepicker-week-col'>"+this._get(inst,"weekHeader")+"</th>":"");for(dow=0;dow<7;dow++){day=(dow+firstDay)%7;thead+="<th scope='col'"+((dow+firstDay+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+dayNames[day]+"'>"+dayNamesMin[day]+"</span></th>";}
calender+=thead+"</tr></thead><tbody>";daysInMonth=this._getDaysInMonth(drawYear,drawMonth);if(drawYear===inst.selectedYear&&drawMonth===inst.selectedMonth){inst.selectedDay=Math.min(inst.selectedDay,daysInMonth);}
leadDays=(this._getFirstDayOfMonth(drawYear,drawMonth)-firstDay+7)%7;curRows=Math.ceil((leadDays+daysInMonth)/7);numRows=(isMultiMonth?this.maxRows>curRows?this.maxRows:curRows:curRows);this.maxRows=numRows;printDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,1-leadDays));for(dRow=0;dRow<numRows;dRow++){calender+="<tr>";tbody=(!showWeek?"":"<td class='ui-datepicker-week-col'>"+
this._get(inst,"calculateWeek")(printDate)+"</td>");for(dow=0;dow<7;dow++){daySettings=(beforeShowDay?beforeShowDay.apply((inst.input?inst.input[0]:null),[printDate]):[true,""]);otherMonth=(printDate.getMonth()!==drawMonth);unselectable=(otherMonth&&!selectOtherMonths)||!daySettings[0]||(minDate&&printDate<minDate)||(maxDate&&printDate>maxDate);tbody+="<td class='"+
((dow+firstDay+6)%7>=5?" ui-datepicker-week-end":"")+
(otherMonth?" ui-datepicker-other-month":"")+
((printDate.getTime()===selectedDate.getTime()&&drawMonth===inst.selectedMonth&&inst._keyEvent)||(defaultDate.getTime()===printDate.getTime()&&defaultDate.getTime()===selectedDate.getTime())?" "+this._dayOverClass:"")+
(unselectable?" "+this._unselectableClass+" ui-state-disabled":"")+
(otherMonth&&!showOtherMonths?"":" "+daySettings[1]+
(printDate.getTime()===currentDate.getTime()?" "+this._currentClass:"")+
(printDate.getTime()===today.getTime()?" ui-datepicker-today":""))+"'"+
((!otherMonth||showOtherMonths)&&daySettings[2]?" title='"+daySettings[2].replace(/'/g,"&#39;")+"'":"")+
(unselectable?"":" data-handler='selectDay' data-event='click' data-month='"+printDate.getMonth()+"' data-year='"+printDate.getFullYear()+"'")+">"+
(otherMonth&&!showOtherMonths?"&#xa0;":(unselectable?"<span class='ui-state-default'>"+printDate.getDate()+"</span>":"<a class='ui-state-default"+
(printDate.getTime()===today.getTime()?" ui-state-highlight":"")+
(printDate.getTime()===currentDate.getTime()?" ui-state-active":"")+
(otherMonth?" ui-priority-secondary":"")+"' href='#'>"+printDate.getDate()+"</a>"))+"</td>";printDate.setDate(printDate.getDate()+1);printDate=this._daylightSavingAdjust(printDate);}
calender+=tbody+"</tr>";}
drawMonth++;if(drawMonth>11){drawMonth=0;drawYear++;}
calender+="</tbody></table>"+(isMultiMonth?"</div>"+
((numMonths[0]>0&&col===numMonths[1]-1)?"<div class='ui-datepicker-row-break'></div>":""):"");group+=calender;}
html+=group;}
html+=buttonPanel;inst._keyEvent=false;return html;},_generateMonthYearHeader:function(inst,drawMonth,drawYear,minDate,maxDate,secondary,monthNames,monthNamesShort){var inMinYear,inMaxYear,month,years,thisYear,determineYear,year,endYear,changeMonth=this._get(inst,"changeMonth"),changeYear=this._get(inst,"changeYear"),showMonthAfterYear=this._get(inst,"showMonthAfterYear"),html="<div class='ui-datepicker-title'>",monthHtml="";if(secondary||!changeMonth){monthHtml+="<span class='ui-datepicker-month'>"+monthNames[drawMonth]+"</span>";}else{inMinYear=(minDate&&minDate.getFullYear()===drawYear);inMaxYear=(maxDate&&maxDate.getFullYear()===drawYear);monthHtml+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(month=0;month<12;month++){if((!inMinYear||month>=minDate.getMonth())&&(!inMaxYear||month<=maxDate.getMonth())){monthHtml+="<option value='"+month+"'"+
(month===drawMonth?" selected='selected'":"")+">"+monthNamesShort[month]+"</option>";}}
monthHtml+="</select>";}
if(!showMonthAfterYear){html+=monthHtml+(secondary||!(changeMonth&&changeYear)?"&#xa0;":"");}
if(!inst.yearshtml){inst.yearshtml="";if(secondary||!changeYear){html+="<span class='ui-datepicker-year'>"+drawYear+"</span>";}else{years=this._get(inst,"yearRange").split(":");thisYear=new Date().getFullYear();determineYear=function(value){var year=(value.match(/c[+\-].*/)?drawYear+parseInt(value.substring(1),10):(value.match(/[+\-].*/)?thisYear+parseInt(value,10):parseInt(value,10)));return(isNaN(year)?thisYear:year);};year=determineYear(years[0]);endYear=Math.max(year,determineYear(years[1]||""));year=(minDate?Math.max(year,minDate.getFullYear()):year);endYear=(maxDate?Math.min(endYear,maxDate.getFullYear()):endYear);inst.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";for(;year<=endYear;year++){inst.yearshtml+="<option value='"+year+"'"+
(year===drawYear?" selected='selected'":"")+">"+year+"</option>";}
inst.yearshtml+="</select>";html+=inst.yearshtml;inst.yearshtml=null;}}
html+=this._get(inst,"yearSuffix");if(showMonthAfterYear){html+=(secondary||!(changeMonth&&changeYear)?"&#xa0;":"")+monthHtml;}
html+="</div>";return html;},_adjustInstDate:function(inst,offset,period){var year=inst.selectedYear+(period==="Y"?offset:0),month=inst.selectedMonth+(period==="M"?offset:0),day=Math.min(inst.selectedDay,this._getDaysInMonth(year,month))+(period==="D"?offset:0),date=this._restrictMinMax(inst,this._daylightSavingAdjust(new Date(year,month,day)));inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear();if(period==="M"||period==="Y"){this._notifyChange(inst);}},_restrictMinMax:function(inst,date){var minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max"),newDate=(minDate&&date<minDate?minDate:date);return(maxDate&&newDate>maxDate?maxDate:newDate);},_notifyChange:function(inst){var onChange=this._get(inst,"onChangeMonthYear");if(onChange){onChange.apply((inst.input?inst.input[0]:null),[inst.selectedYear,inst.selectedMonth+1,inst]);}},_getNumberOfMonths:function(inst){var numMonths=this._get(inst,"numberOfMonths");return(numMonths==null?[1,1]:(typeof numMonths==="number"?[1,numMonths]:numMonths));},_getMinMaxDate:function(inst,minMax){return this._determineDate(inst,this._get(inst,minMax+"Date"),null);},_getDaysInMonth:function(year,month){return 32-this._daylightSavingAdjust(new Date(year,month,32)).getDate();},_getFirstDayOfMonth:function(year,month){return new Date(year,month,1).getDay();},_canAdjustMonth:function(inst,offset,curYear,curMonth){var numMonths=this._getNumberOfMonths(inst),date=this._daylightSavingAdjust(new Date(curYear,curMonth+(offset<0?offset:numMonths[0]*numMonths[1]),1));if(offset<0){date.setDate(this._getDaysInMonth(date.getFullYear(),date.getMonth()));}
return this._isInRange(inst,date);},_isInRange:function(inst,date){var yearSplit,currentYear,minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max"),minYear=null,maxYear=null,years=this._get(inst,"yearRange");if(years){yearSplit=years.split(":");currentYear=new Date().getFullYear();minYear=parseInt(yearSplit[0],10);maxYear=parseInt(yearSplit[1],10);if(yearSplit[0].match(/[+\-].*/)){minYear+=currentYear;}
if(yearSplit[1].match(/[+\-].*/)){maxYear+=currentYear;}}
return((!minDate||date.getTime()>=minDate.getTime())&&(!maxDate||date.getTime()<=maxDate.getTime())&&(!minYear||date.getFullYear()>=minYear)&&(!maxYear||date.getFullYear()<=maxYear));},_getFormatConfig:function(inst){var shortYearCutoff=this._get(inst,"shortYearCutoff");shortYearCutoff=(typeof shortYearCutoff!=="string"?shortYearCutoff:new Date().getFullYear()%100+parseInt(shortYearCutoff,10));return{shortYearCutoff:shortYearCutoff,dayNamesShort:this._get(inst,"dayNamesShort"),dayNames:this._get(inst,"dayNames"),monthNamesShort:this._get(inst,"monthNamesShort"),monthNames:this._get(inst,"monthNames")};},_formatDate:function(inst,day,month,year){if(!day){inst.currentDay=inst.selectedDay;inst.currentMonth=inst.selectedMonth;inst.currentYear=inst.selectedYear;}
var date=(day?(typeof day==="object"?day:this._daylightSavingAdjust(new Date(year,month,day))):this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay)));return this.formatDate(this._get(inst,"dateFormat"),date,this._getFormatConfig(inst));}});function datepicker_bindHover(dpDiv){var selector="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return dpDiv.on("mouseout",selector,function(){$(this).removeClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!==-1){$(this).removeClass("ui-datepicker-prev-hover");}
if(this.className.indexOf("ui-datepicker-next")!==-1){$(this).removeClass("ui-datepicker-next-hover");}}).on("mouseover",selector,datepicker_handleMouseover);}
function datepicker_handleMouseover(){if(!$.datepicker._isDisabledDatepicker(datepicker_instActive.inline?datepicker_instActive.dpDiv.parent()[0]:datepicker_instActive.input[0])){$(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");$(this).addClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!==-1){$(this).addClass("ui-datepicker-prev-hover");}
if(this.className.indexOf("ui-datepicker-next")!==-1){$(this).addClass("ui-datepicker-next-hover");}}}
function datepicker_extendRemove(target,props){$.extend(target,props);for(var name in props){if(props[name]==null){target[name]=props[name];}}
return target;}
$.fn.datepicker=function(options){if(!this.length){return this;}
if(!$.datepicker.initialized){$(document).on("mousedown",$.datepicker._checkExternalClick);$.datepicker.initialized=true;}
if($("#"+$.datepicker._mainDivId).length===0){$("body").append($.datepicker.dpDiv);}
var otherArgs=Array.prototype.slice.call(arguments,1);if(typeof options==="string"&&(options==="isDisabled"||options==="getDate"||options==="widget")){return $.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this[0]].concat(otherArgs));}
if(options==="option"&&arguments.length===2&&typeof arguments[1]==="string"){return $.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this[0]].concat(otherArgs));}
return this.each(function(){typeof options==="string"?$.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this].concat(otherArgs)):$.datepicker._attachDatepicker(this,options);});};$.datepicker=new Datepicker();$.datepicker.initialized=false;$.datepicker.uuid=new Date().getTime();$.datepicker.version="1.12.1";var widgetsDatepicker=$.datepicker;var ie=$.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var mouseHandled=false;$(document).on("mouseup",function(){mouseHandled=false;});var widgetsMouse=$.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var that=this;this.element.on("mousedown."+this.widgetName,function(event){return that._mouseDown(event);}).on("click."+this.widgetName,function(event){if(true===$.data(event.target,that.widgetName+".preventClickEvent")){$.removeData(event.target,that.widgetName+".preventClickEvent");event.stopImmediatePropagation();return false;}});this.started=false;},_mouseDestroy:function(){this.element.off("."+this.widgetName);if(this._mouseMoveDelegate){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate);}},_mouseDown:function(event){if(mouseHandled){return;}
this._mouseMoved=false;(this._mouseStarted&&this._mouseUp(event));this._mouseDownEvent=event;var that=this,btnIsLeft=(event.which===1),elIsCancel=(typeof this.options.cancel==="string"&&event.target.nodeName?$(event.target).closest(this.options.cancel).length:false);if(!btnIsLeft||elIsCancel||!this._mouseCapture(event)){return true;}
this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){that.mouseDelayMet=true;},this.options.delay);}
if(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)){this._mouseStarted=(this._mouseStart(event)!==false);if(!this._mouseStarted){event.preventDefault();return true;}}
if(true===$.data(event.target,this.widgetName+".preventClickEvent")){$.removeData(event.target,this.widgetName+".preventClickEvent");}
this._mouseMoveDelegate=function(event){return that._mouseMove(event);};this._mouseUpDelegate=function(event){return that._mouseUp(event);};this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate);event.preventDefault();mouseHandled=true;return true;},_mouseMove:function(event){if(this._mouseMoved){if($.ui.ie&&(!document.documentMode||document.documentMode<9)&&!event.button){return this._mouseUp(event);}else if(!event.which){if(event.originalEvent.altKey||event.originalEvent.ctrlKey||event.originalEvent.metaKey||event.originalEvent.shiftKey){this.ignoreMissingWhich=true;}else if(!this.ignoreMissingWhich){return this._mouseUp(event);}}}
if(event.which||event.button){this._mouseMoved=true;}
if(this._mouseStarted){this._mouseDrag(event);return event.preventDefault();}
if(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,event)!==false);(this._mouseStarted?this._mouseDrag(event):this._mouseUp(event));}
return!this._mouseStarted;},_mouseUp:function(event){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(event.target===this._mouseDownEvent.target){$.data(event.target,this.widgetName+".preventClickEvent",true);}
this._mouseStop(event);}
if(this._mouseDelayTimer){clearTimeout(this._mouseDelayTimer);delete this._mouseDelayTimer;}
this.ignoreMissingWhich=false;mouseHandled=false;event.preventDefault();},_mouseDistanceMet:function(event){return(Math.max(Math.abs(this._mouseDownEvent.pageX-event.pageX),Math.abs(this._mouseDownEvent.pageY-event.pageY))>=this.options.distance);},_mouseDelayMet:function(){return this.mouseDelayMet;},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true;}});var plugin=$.ui.plugin={add:function(module,option,set){var i,proto=$.ui[module].prototype;for(i in set){proto.plugins[i]=proto.plugins[i]||[];proto.plugins[i].push([option,set[i]]);}},call:function(instance,name,args,allowDisconnected){var i,set=instance.plugins[name];if(!set){return;}
if(!allowDisconnected&&(!instance.element[0].parentNode||instance.element[0].parentNode.nodeType===11)){return;}
for(i=0;i<set.length;i++){if(instance.options[set[i][0]]){set[i][1].apply(instance.element,args);}}}};var safeBlur=$.ui.safeBlur=function(element){if(element&&element.nodeName.toLowerCase()!=="body"){$(element).trigger("blur");}};$.widget("ui.draggable",$.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false,drag:null,start:null,stop:null},_create:function(){if(this.options.helper==="original"){this._setPositionRelative();}
if(this.options.addClasses){this._addClass("ui-draggable");}
this._setHandleClassName();this._mouseInit();},_setOption:function(key,value){this._super(key,value);if(key==="handle"){this._removeHandleClassName();this._setHandleClassName();}},_destroy:function(){if((this.helper||this.element).is(".ui-draggable-dragging")){this.destroyOnClear=true;return;}
this._removeHandleClassName();this._mouseDestroy();},_mouseCapture:function(event){var o=this.options;if(this.helper||o.disabled||$(event.target).closest(".ui-resizable-handle").length>0){return false;}
this.handle=this._getHandle(event);if(!this.handle){return false;}
this._blurActiveElement(event);this._blockFrames(o.iframeFix===true?"iframe":o.iframeFix);return true;},_blockFrames:function(selector){this.iframeBlocks=this.document.find(selector).map(function(){var iframe=$(this);return $("<div>").css("position","absolute").appendTo(iframe.parent()).outerWidth(iframe.outerWidth()).outerHeight(iframe.outerHeight()).offset(iframe.offset())[0];});},_unblockFrames:function(){if(this.iframeBlocks){this.iframeBlocks.remove();delete this.iframeBlocks;}},_blurActiveElement:function(event){var activeElement=$.ui.safeActiveElement(this.document[0]),target=$(event.target);if(target.closest(activeElement).length){return;}
$.ui.safeBlur(activeElement);},_mouseStart:function(event){var o=this.options;this.helper=this._createHelper(event);this._addClass(this.helper,"ui-draggable-dragging");this._cacheHelperProportions();if($.ui.ddmanager){$.ui.ddmanager.current=this;}
this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent(true);this.offsetParent=this.helper.offsetParent();this.hasFixedAncestor=this.helper.parents().filter(function(){return $(this).css("position")==="fixed";}).length>0;this.positionAbs=this.element.offset();this._refreshOffsets(event);this.originalPosition=this.position=this._generatePosition(event,false);this.originalPageX=event.pageX;this.originalPageY=event.pageY;(o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt));this._setContainment();if(this._trigger("start",event)===false){this._clear();return false;}
this._cacheHelperProportions();if($.ui.ddmanager&&!o.dropBehaviour){$.ui.ddmanager.prepareOffsets(this,event);}
this._mouseDrag(event,true);if($.ui.ddmanager){$.ui.ddmanager.dragStart(this,event);}
return true;},_refreshOffsets:function(event){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:false,parent:this._getParentOffset(),relative:this._getRelativeOffset()};this.offset.click={left:event.pageX-this.offset.left,top:event.pageY-this.offset.top};},_mouseDrag:function(event,noPropagation){if(this.hasFixedAncestor){this.offset.parent=this._getParentOffset();}
this.position=this._generatePosition(event,true);this.positionAbs=this._convertPositionTo("absolute");if(!noPropagation){var ui=this._uiHash();if(this._trigger("drag",event,ui)===false){this._mouseUp(new $.Event("mouseup",event));return false;}
this.position=ui.position;}
this.helper[0].style.left=this.position.left+"px";this.helper[0].style.top=this.position.top+"px";if($.ui.ddmanager){$.ui.ddmanager.drag(this,event);}
return false;},_mouseStop:function(event){var that=this,dropped=false;if($.ui.ddmanager&&!this.options.dropBehaviour){dropped=$.ui.ddmanager.drop(this,event);}
if(this.dropped){dropped=this.dropped;this.dropped=false;}
if((this.options.revert==="invalid"&&!dropped)||(this.options.revert==="valid"&&dropped)||this.options.revert===true||($.isFunction(this.options.revert)&&this.options.revert.call(this.element,dropped))){$(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(that._trigger("stop",event)!==false){that._clear();}});}else{if(this._trigger("stop",event)!==false){this._clear();}}
return false;},_mouseUp:function(event){this._unblockFrames();if($.ui.ddmanager){$.ui.ddmanager.dragStop(this,event);}
if(this.handleElement.is(event.target)){this.element.trigger("focus");}
return $.ui.mouse.prototype._mouseUp.call(this,event);},cancel:function(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp(new $.Event("mouseup",{target:this.element[0]}));}else{this._clear();}
return this;},_getHandle:function(event){return this.options.handle?!!$(event.target).closest(this.element.find(this.options.handle)).length:true;},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element;this._addClass(this.handleElement,"ui-draggable-handle");},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle");},_createHelper:function(event){var o=this.options,helperIsFunction=$.isFunction(o.helper),helper=helperIsFunction?$(o.helper.apply(this.element[0],[event])):(o.helper==="clone"?this.element.clone().removeAttr("id"):this.element);if(!helper.parents("body").length){helper.appendTo((o.appendTo==="parent"?this.element[0].parentNode:o.appendTo));}
if(helperIsFunction&&helper[0]===this.element[0]){this._setPositionRelative();}
if(helper[0]!==this.element[0]&&!(/(fixed|absolute)/).test(helper.css("position"))){helper.css("position","absolute");}
return helper;},_setPositionRelative:function(){if(!(/^(?:r|a|f)/).test(this.element.css("position"))){this.element[0].style.position="relative";}},_adjustOffsetFromHelper:function(obj){if(typeof obj==="string"){obj=obj.split(" ");}
if($.isArray(obj)){obj={left:+obj[0],top:+obj[1]||0};}
if("left"in obj){this.offset.click.left=obj.left+this.margins.left;}
if("right"in obj){this.offset.click.left=this.helperProportions.width-obj.right+this.margins.left;}
if("top"in obj){this.offset.click.top=obj.top+this.margins.top;}
if("bottom"in obj){this.offset.click.top=this.helperProportions.height-obj.bottom+this.margins.top;}},_isRootNode:function(element){return(/(html|body)/i).test(element.tagName)||element===this.document[0];},_getParentOffset:function(){var po=this.offsetParent.offset(),document=this.document[0];if(this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&$.contains(this.scrollParent[0],this.offsetParent[0])){po.left+=this.scrollParent.scrollLeft();po.top+=this.scrollParent.scrollTop();}
if(this._isRootNode(this.offsetParent[0])){po={top:0,left:0};}
return{top:po.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:po.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)};},_getRelativeOffset:function(){if(this.cssPosition!=="relative"){return{top:0,left:0};}
var p=this.element.position(),scrollIsRootNode=this._isRootNode(this.scrollParent[0]);return{top:p.top-(parseInt(this.helper.css("top"),10)||0)+
(!scrollIsRootNode?this.scrollParent.scrollTop():0),left:p.left-(parseInt(this.helper.css("left"),10)||0)+
(!scrollIsRootNode?this.scrollParent.scrollLeft():0)};},_cacheMargins:function(){this.margins={left:(parseInt(this.element.css("marginLeft"),10)||0),top:(parseInt(this.element.css("marginTop"),10)||0),right:(parseInt(this.element.css("marginRight"),10)||0),bottom:(parseInt(this.element.css("marginBottom"),10)||0)};},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()};},_setContainment:function(){var isUserScrollable,c,ce,o=this.options,document=this.document[0];this.relativeContainer=null;if(!o.containment){this.containment=null;return;}
if(o.containment==="window"){this.containment=[$(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,$(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,$(window).scrollLeft()+$(window).width()-
this.helperProportions.width-this.margins.left,$(window).scrollTop()+
($(window).height()||document.body.parentNode.scrollHeight)-
this.helperProportions.height-this.margins.top];return;}
if(o.containment==="document"){this.containment=[0,0,$(document).width()-this.helperProportions.width-this.margins.left,($(document).height()||document.body.parentNode.scrollHeight)-
this.helperProportions.height-this.margins.top];return;}
if(o.containment.constructor===Array){this.containment=o.containment;return;}
if(o.containment==="parent"){o.containment=this.helper[0].parentNode;}
c=$(o.containment);ce=c[0];if(!ce){return;}
isUserScrollable=/(scroll|auto)/.test(c.css("overflow"));this.containment=[(parseInt(c.css("borderLeftWidth"),10)||0)+
(parseInt(c.css("paddingLeft"),10)||0),(parseInt(c.css("borderTopWidth"),10)||0)+
(parseInt(c.css("paddingTop"),10)||0),(isUserScrollable?Math.max(ce.scrollWidth,ce.offsetWidth):ce.offsetWidth)-
(parseInt(c.css("borderRightWidth"),10)||0)-
(parseInt(c.css("paddingRight"),10)||0)-
this.helperProportions.width-
this.margins.left-
this.margins.right,(isUserScrollable?Math.max(ce.scrollHeight,ce.offsetHeight):ce.offsetHeight)-
(parseInt(c.css("borderBottomWidth"),10)||0)-
(parseInt(c.css("paddingBottom"),10)||0)-
this.helperProportions.height-
this.margins.top-
this.margins.bottom];this.relativeContainer=c;},_convertPositionTo:function(d,pos){if(!pos){pos=this.position;}
var mod=d==="absolute"?1:-1,scrollIsRootNode=this._isRootNode(this.scrollParent[0]);return{top:(pos.top+
this.offset.relative.top*mod+
this.offset.parent.top*mod-
((this.cssPosition==="fixed"?-this.offset.scroll.top:(scrollIsRootNode?0:this.offset.scroll.top))*mod)),left:(pos.left+
this.offset.relative.left*mod+
this.offset.parent.left*mod-
((this.cssPosition==="fixed"?-this.offset.scroll.left:(scrollIsRootNode?0:this.offset.scroll.left))*mod))};},_generatePosition:function(event,constrainPosition){var containment,co,top,left,o=this.options,scrollIsRootNode=this._isRootNode(this.scrollParent[0]),pageX=event.pageX,pageY=event.pageY;if(!scrollIsRootNode||!this.offset.scroll){this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()};}
if(constrainPosition){if(this.containment){if(this.relativeContainer){co=this.relativeContainer.offset();containment=[this.containment[0]+co.left,this.containment[1]+co.top,this.containment[2]+co.left,this.containment[3]+co.top];}else{containment=this.containment;}
if(event.pageX-this.offset.click.left<containment[0]){pageX=containment[0]+this.offset.click.left;}
if(event.pageY-this.offset.click.top<containment[1]){pageY=containment[1]+this.offset.click.top;}
if(event.pageX-this.offset.click.left>containment[2]){pageX=containment[2]+this.offset.click.left;}
if(event.pageY-this.offset.click.top>containment[3]){pageY=containment[3]+this.offset.click.top;}}
if(o.grid){top=o.grid[1]?this.originalPageY+Math.round((pageY-
this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY;pageY=containment?((top-this.offset.click.top>=containment[1]||top-this.offset.click.top>containment[3])?top:((top-this.offset.click.top>=containment[1])?top-o.grid[1]:top+o.grid[1])):top;left=o.grid[0]?this.originalPageX+
Math.round((pageX-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX;pageX=containment?((left-this.offset.click.left>=containment[0]||left-this.offset.click.left>containment[2])?left:((left-this.offset.click.left>=containment[0])?left-o.grid[0]:left+o.grid[0])):left;}
if(o.axis==="y"){pageX=this.originalPageX;}
if(o.axis==="x"){pageY=this.originalPageY;}}
return{top:(pageY-
this.offset.click.top-
this.offset.relative.top-
this.offset.parent.top+
(this.cssPosition==="fixed"?-this.offset.scroll.top:(scrollIsRootNode?0:this.offset.scroll.top))),left:(pageX-
this.offset.click.left-
this.offset.relative.left-
this.offset.parent.left+
(this.cssPosition==="fixed"?-this.offset.scroll.left:(scrollIsRootNode?0:this.offset.scroll.left)))};},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging");if(this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval){this.helper.remove();}
this.helper=null;this.cancelHelperRemoval=false;if(this.destroyOnClear){this.destroy();}},_trigger:function(type,event,ui){ui=ui||this._uiHash();$.ui.plugin.call(this,type,[event,ui,this],true);if(/^(drag|start|stop)/.test(type)){this.positionAbs=this._convertPositionTo("absolute");ui.offset=this.positionAbs;}
return $.Widget.prototype._trigger.call(this,type,event,ui);},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs};}});$.ui.plugin.add("draggable","connectToSortable",{start:function(event,ui,draggable){var uiSortable=$.extend({},ui,{item:draggable.element});draggable.sortables=[];$(draggable.options.connectToSortable).each(function(){var sortable=$(this).sortable("instance");if(sortable&&!sortable.options.disabled){draggable.sortables.push(sortable);sortable.refreshPositions();sortable._trigger("activate",event,uiSortable);}});},stop:function(event,ui,draggable){var uiSortable=$.extend({},ui,{item:draggable.element});draggable.cancelHelperRemoval=false;$.each(draggable.sortables,function(){var sortable=this;if(sortable.isOver){sortable.isOver=0;draggable.cancelHelperRemoval=true;sortable.cancelHelperRemoval=false;sortable._storedCSS={position:sortable.placeholder.css("position"),top:sortable.placeholder.css("top"),left:sortable.placeholder.css("left")};sortable._mouseStop(event);sortable.options.helper=sortable.options._helper;}else{sortable.cancelHelperRemoval=true;sortable._trigger("deactivate",event,uiSortable);}});},drag:function(event,ui,draggable){$.each(draggable.sortables,function(){var innermostIntersecting=false,sortable=this;sortable.positionAbs=draggable.positionAbs;sortable.helperProportions=draggable.helperProportions;sortable.offset.click=draggable.offset.click;if(sortable._intersectsWith(sortable.containerCache)){innermostIntersecting=true;$.each(draggable.sortables,function(){this.positionAbs=draggable.positionAbs;this.helperProportions=draggable.helperProportions;this.offset.click=draggable.offset.click;if(this!==sortable&&this._intersectsWith(this.containerCache)&&$.contains(sortable.element[0],this.element[0])){innermostIntersecting=false;}
return innermostIntersecting;});}
if(innermostIntersecting){if(!sortable.isOver){sortable.isOver=1;draggable._parent=ui.helper.parent();sortable.currentItem=ui.helper.appendTo(sortable.element).data("ui-sortable-item",true);sortable.options._helper=sortable.options.helper;sortable.options.helper=function(){return ui.helper[0];};event.target=sortable.currentItem[0];sortable._mouseCapture(event,true);sortable._mouseStart(event,true,true);sortable.offset.click.top=draggable.offset.click.top;sortable.offset.click.left=draggable.offset.click.left;sortable.offset.parent.left-=draggable.offset.parent.left-
sortable.offset.parent.left;sortable.offset.parent.top-=draggable.offset.parent.top-
sortable.offset.parent.top;draggable._trigger("toSortable",event);draggable.dropped=sortable.element;$.each(draggable.sortables,function(){this.refreshPositions();});draggable.currentItem=draggable.element;sortable.fromOutside=draggable;}
if(sortable.currentItem){sortable._mouseDrag(event);ui.position=sortable.position;}}else{if(sortable.isOver){sortable.isOver=0;sortable.cancelHelperRemoval=true;sortable.options._revert=sortable.options.revert;sortable.options.revert=false;sortable._trigger("out",event,sortable._uiHash(sortable));sortable._mouseStop(event,true);sortable.options.revert=sortable.options._revert;sortable.options.helper=sortable.options._helper;if(sortable.placeholder){sortable.placeholder.remove();}
ui.helper.appendTo(draggable._parent);draggable._refreshOffsets(event);ui.position=draggable._generatePosition(event,true);draggable._trigger("fromSortable",event);draggable.dropped=false;$.each(draggable.sortables,function(){this.refreshPositions();});}}});}});$.ui.plugin.add("draggable","cursor",{start:function(event,ui,instance){var t=$("body"),o=instance.options;if(t.css("cursor")){o._cursor=t.css("cursor");}
t.css("cursor",o.cursor);},stop:function(event,ui,instance){var o=instance.options;if(o._cursor){$("body").css("cursor",o._cursor);}}});$.ui.plugin.add("draggable","opacity",{start:function(event,ui,instance){var t=$(ui.helper),o=instance.options;if(t.css("opacity")){o._opacity=t.css("opacity");}
t.css("opacity",o.opacity);},stop:function(event,ui,instance){var o=instance.options;if(o._opacity){$(ui.helper).css("opacity",o._opacity);}}});$.ui.plugin.add("draggable","scroll",{start:function(event,ui,i){if(!i.scrollParentNotHidden){i.scrollParentNotHidden=i.helper.scrollParent(false);}
if(i.scrollParentNotHidden[0]!==i.document[0]&&i.scrollParentNotHidden[0].tagName!=="HTML"){i.overflowOffset=i.scrollParentNotHidden.offset();}},drag:function(event,ui,i){var o=i.options,scrolled=false,scrollParent=i.scrollParentNotHidden[0],document=i.document[0];if(scrollParent!==document&&scrollParent.tagName!=="HTML"){if(!o.axis||o.axis!=="x"){if((i.overflowOffset.top+scrollParent.offsetHeight)-event.pageY<o.scrollSensitivity){scrollParent.scrollTop=scrolled=scrollParent.scrollTop+o.scrollSpeed;}else if(event.pageY-i.overflowOffset.top<o.scrollSensitivity){scrollParent.scrollTop=scrolled=scrollParent.scrollTop-o.scrollSpeed;}}
if(!o.axis||o.axis!=="y"){if((i.overflowOffset.left+scrollParent.offsetWidth)-event.pageX<o.scrollSensitivity){scrollParent.scrollLeft=scrolled=scrollParent.scrollLeft+o.scrollSpeed;}else if(event.pageX-i.overflowOffset.left<o.scrollSensitivity){scrollParent.scrollLeft=scrolled=scrollParent.scrollLeft-o.scrollSpeed;}}}else{if(!o.axis||o.axis!=="x"){if(event.pageY-$(document).scrollTop()<o.scrollSensitivity){scrolled=$(document).scrollTop($(document).scrollTop()-o.scrollSpeed);}else if($(window).height()-(event.pageY-$(document).scrollTop())<o.scrollSensitivity){scrolled=$(document).scrollTop($(document).scrollTop()+o.scrollSpeed);}}
if(!o.axis||o.axis!=="y"){if(event.pageX-$(document).scrollLeft()<o.scrollSensitivity){scrolled=$(document).scrollLeft($(document).scrollLeft()-o.scrollSpeed);}else if($(window).width()-(event.pageX-$(document).scrollLeft())<o.scrollSensitivity){scrolled=$(document).scrollLeft($(document).scrollLeft()+o.scrollSpeed);}}}
if(scrolled!==false&&$.ui.ddmanager&&!o.dropBehaviour){$.ui.ddmanager.prepareOffsets(i,event);}}});$.ui.plugin.add("draggable","snap",{start:function(event,ui,i){var o=i.options;i.snapElements=[];$(o.snap.constructor!==String?(o.snap.items||":data(ui-draggable)"):o.snap).each(function(){var $t=$(this),$o=$t.offset();if(this!==i.element[0]){i.snapElements.push({item:this,width:$t.outerWidth(),height:$t.outerHeight(),top:$o.top,left:$o.left});}});},drag:function(event,ui,inst){var ts,bs,ls,rs,l,r,t,b,i,first,o=inst.options,d=o.snapTolerance,x1=ui.offset.left,x2=x1+inst.helperProportions.width,y1=ui.offset.top,y2=y1+inst.helperProportions.height;for(i=inst.snapElements.length-1;i>=0;i--){l=inst.snapElements[i].left-inst.margins.left;r=l+inst.snapElements[i].width;t=inst.snapElements[i].top-inst.margins.top;b=t+inst.snapElements[i].height;if(x2<l-d||x1>r+d||y2<t-d||y1>b+d||!$.contains(inst.snapElements[i].item.ownerDocument,inst.snapElements[i].item)){if(inst.snapElements[i].snapping){(inst.options.snap.release&&inst.options.snap.release.call(inst.element,event,$.extend(inst._uiHash(),{snapItem:inst.snapElements[i].item})));}
inst.snapElements[i].snapping=false;continue;}
if(o.snapMode!=="inner"){ts=Math.abs(t-y2)<=d;bs=Math.abs(b-y1)<=d;ls=Math.abs(l-x2)<=d;rs=Math.abs(r-x1)<=d;if(ts){ui.position.top=inst._convertPositionTo("relative",{top:t-inst.helperProportions.height,left:0}).top;}
if(bs){ui.position.top=inst._convertPositionTo("relative",{top:b,left:0}).top;}
if(ls){ui.position.left=inst._convertPositionTo("relative",{top:0,left:l-inst.helperProportions.width}).left;}
if(rs){ui.position.left=inst._convertPositionTo("relative",{top:0,left:r}).left;}}
first=(ts||bs||ls||rs);if(o.snapMode!=="outer"){ts=Math.abs(t-y1)<=d;bs=Math.abs(b-y2)<=d;ls=Math.abs(l-x1)<=d;rs=Math.abs(r-x2)<=d;if(ts){ui.position.top=inst._convertPositionTo("relative",{top:t,left:0}).top;}
if(bs){ui.position.top=inst._convertPositionTo("relative",{top:b-inst.helperProportions.height,left:0}).top;}
if(ls){ui.position.left=inst._convertPositionTo("relative",{top:0,left:l}).left;}
if(rs){ui.position.left=inst._convertPositionTo("relative",{top:0,left:r-inst.helperProportions.width}).left;}}
if(!inst.snapElements[i].snapping&&(ts||bs||ls||rs||first)){(inst.options.snap.snap&&inst.options.snap.snap.call(inst.element,event,$.extend(inst._uiHash(),{snapItem:inst.snapElements[i].item})));}
inst.snapElements[i].snapping=(ts||bs||ls||rs||first);}}});$.ui.plugin.add("draggable","stack",{start:function(event,ui,instance){var min,o=instance.options,group=$.makeArray($(o.stack)).sort(function(a,b){return(parseInt($(a).css("zIndex"),10)||0)-
(parseInt($(b).css("zIndex"),10)||0);});if(!group.length){return;}
min=parseInt($(group[0]).css("zIndex"),10)||0;$(group).each(function(i){$(this).css("zIndex",min+i);});this.css("zIndex",(min+group.length));}});$.ui.plugin.add("draggable","zIndex",{start:function(event,ui,instance){var t=$(ui.helper),o=instance.options;if(t.css("zIndex")){o._zIndex=t.css("zIndex");}
t.css("zIndex",o.zIndex);},stop:function(event,ui,instance){var o=instance.options;if(o._zIndex){$(ui.helper).css("zIndex",o._zIndex);}}});var widgetsDraggable=$.ui.draggable;$.widget("ui.resizable",$.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(value){return parseFloat(value)||0;},_isNumber:function(value){return!isNaN(parseFloat(value));},_hasScroll:function(el,a){if($(el).css("overflow")==="hidden"){return false;}
var scroll=(a&&a==="left")?"scrollLeft":"scrollTop",has=false;if(el[scroll]>0){return true;}
el[scroll]=1;has=(el[scroll]>0);el[scroll]=0;return has;},_create:function(){var margins,o=this.options,that=this;this._addClass("ui-resizable");$.extend(this,{_aspectRatio:!!(o.aspectRatio),aspectRatio:o.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:o.helper||o.ghost||o.animate?o.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)){this.element.wrap($("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance"));this.elementIsWrapper=true;margins={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")};this.element.css(margins);this.originalElement.css("margin",0);this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css(margins);this._proportionallyResize();}
this._setupHandles();if(o.autoHide){$(this.element).on("mouseenter",function(){if(o.disabled){return;}
that._removeClass("ui-resizable-autohide");that._handles.show();}).on("mouseleave",function(){if(o.disabled){return;}
if(!that.resizing){that._addClass("ui-resizable-autohide");that._handles.hide();}});}
this._mouseInit();},_destroy:function(){this._mouseDestroy();var wrapper,_destroy=function(exp){$(exp).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove();};if(this.elementIsWrapper){_destroy(this.element);wrapper=this.element;this.originalElement.css({position:wrapper.css("position"),width:wrapper.outerWidth(),height:wrapper.outerHeight(),top:wrapper.css("top"),left:wrapper.css("left")}).insertAfter(wrapper);wrapper.remove();}
this.originalElement.css("resize",this.originalResizeStyle);_destroy(this.originalElement);return this;},_setOption:function(key,value){this._super(key,value);switch(key){case"handles":this._removeHandles();this._setupHandles();break;default:break;}},_setupHandles:function(){var o=this.options,handle,i,n,hname,axis,that=this;this.handles=o.handles||(!$(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});this._handles=$();if(this.handles.constructor===String){if(this.handles==="all"){this.handles="n,e,s,w,se,sw,ne,nw";}
n=this.handles.split(",");this.handles={};for(i=0;i<n.length;i++){handle=$.trim(n[i]);hname="ui-resizable-"+handle;axis=$("<div>");this._addClass(axis,"ui-resizable-handle "+hname);axis.css({zIndex:o.zIndex});this.handles[handle]=".ui-resizable-"+handle;this.element.append(axis);}}
this._renderAxis=function(target){var i,axis,padPos,padWrapper;target=target||this.element;for(i in this.handles){if(this.handles[i].constructor===String){this.handles[i]=this.element.children(this.handles[i]).first().show();}else if(this.handles[i].jquery||this.handles[i].nodeType){this.handles[i]=$(this.handles[i]);this._on(this.handles[i],{"mousedown":that._mouseDown});}
if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)){axis=$(this.handles[i],this.element);padWrapper=/sw|ne|nw|se|n|s/.test(i)?axis.outerHeight():axis.outerWidth();padPos=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join("");target.css(padPos,padWrapper);this._proportionallyResize();}
this._handles=this._handles.add(this.handles[i]);}};this._renderAxis(this.element);this._handles=this._handles.add(this.element.find(".ui-resizable-handle"));this._handles.disableSelection();this._handles.on("mouseover",function(){if(!that.resizing){if(this.className){axis=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);}
that.axis=axis&&axis[1]?axis[1]:"se";}});if(o.autoHide){this._handles.hide();this._addClass("ui-resizable-autohide");}},_removeHandles:function(){this._handles.remove();},_mouseCapture:function(event){var i,handle,capture=false;for(i in this.handles){handle=$(this.handles[i])[0];if(handle===event.target||$.contains(handle,event.target)){capture=true;}}
return!this.options.disabled&&capture;},_mouseStart:function(event){var curleft,curtop,cursor,o=this.options,el=this.element;this.resizing=true;this._renderProxy();curleft=this._num(this.helper.css("left"));curtop=this._num(this.helper.css("top"));if(o.containment){curleft+=$(o.containment).scrollLeft()||0;curtop+=$(o.containment).scrollTop()||0;}
this.offset=this.helper.offset();this.position={left:curleft,top:curtop};this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:el.width(),height:el.height()};this.originalSize=this._helper?{width:el.outerWidth(),height:el.outerHeight()}:{width:el.width(),height:el.height()};this.sizeDiff={width:el.outerWidth()-el.width(),height:el.outerHeight()-el.height()};this.originalPosition={left:curleft,top:curtop};this.originalMousePosition={left:event.pageX,top:event.pageY};this.aspectRatio=(typeof o.aspectRatio==="number")?o.aspectRatio:((this.originalSize.width/this.originalSize.height)||1);cursor=$(".ui-resizable-"+this.axis).css("cursor");$("body").css("cursor",cursor==="auto"?this.axis+"-resize":cursor);this._addClass("ui-resizable-resizing");this._propagate("start",event);return true;},_mouseDrag:function(event){var data,props,smp=this.originalMousePosition,a=this.axis,dx=(event.pageX-smp.left)||0,dy=(event.pageY-smp.top)||0,trigger=this._change[a];this._updatePrevProperties();if(!trigger){return false;}
data=trigger.apply(this,[event,dx,dy]);this._updateVirtualBoundaries(event.shiftKey);if(this._aspectRatio||event.shiftKey){data=this._updateRatio(data,event);}
data=this._respectSize(data,event);this._updateCache(data);this._propagate("resize",event);props=this._applyChanges();if(!this._helper&&this._proportionallyResizeElements.length){this._proportionallyResize();}
if(!$.isEmptyObject(props)){this._updatePrevProperties();this._trigger("resize",event,this.ui());this._applyChanges();}
return false;},_mouseStop:function(event){this.resizing=false;var pr,ista,soffseth,soffsetw,s,left,top,o=this.options,that=this;if(this._helper){pr=this._proportionallyResizeElements;ista=pr.length&&(/textarea/i).test(pr[0].nodeName);soffseth=ista&&this._hasScroll(pr[0],"left")?0:that.sizeDiff.height;soffsetw=ista?0:that.sizeDiff.width;s={width:(that.helper.width()-soffsetw),height:(that.helper.height()-soffseth)};left=(parseFloat(that.element.css("left"))+
(that.position.left-that.originalPosition.left))||null;top=(parseFloat(that.element.css("top"))+
(that.position.top-that.originalPosition.top))||null;if(!o.animate){this.element.css($.extend(s,{top:top,left:left}));}
that.helper.height(that.size.height);that.helper.width(that.size.width);if(this._helper&&!o.animate){this._proportionallyResize();}}
$("body").css("cursor","auto");this._removeClass("ui-resizable-resizing");this._propagate("stop",event);if(this._helper){this.helper.remove();}
return false;},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left};this.prevSize={width:this.size.width,height:this.size.height};},_applyChanges:function(){var props={};if(this.position.top!==this.prevPosition.top){props.top=this.position.top+"px";}
if(this.position.left!==this.prevPosition.left){props.left=this.position.left+"px";}
if(this.size.width!==this.prevSize.width){props.width=this.size.width+"px";}
if(this.size.height!==this.prevSize.height){props.height=this.size.height+"px";}
this.helper.css(props);return props;},_updateVirtualBoundaries:function(forceAspectRatio){var pMinWidth,pMaxWidth,pMinHeight,pMaxHeight,b,o=this.options;b={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:Infinity,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:Infinity};if(this._aspectRatio||forceAspectRatio){pMinWidth=b.minHeight*this.aspectRatio;pMinHeight=b.minWidth/this.aspectRatio;pMaxWidth=b.maxHeight*this.aspectRatio;pMaxHeight=b.maxWidth/this.aspectRatio;if(pMinWidth>b.minWidth){b.minWidth=pMinWidth;}
if(pMinHeight>b.minHeight){b.minHeight=pMinHeight;}
if(pMaxWidth<b.maxWidth){b.maxWidth=pMaxWidth;}
if(pMaxHeight<b.maxHeight){b.maxHeight=pMaxHeight;}}
this._vBoundaries=b;},_updateCache:function(data){this.offset=this.helper.offset();if(this._isNumber(data.left)){this.position.left=data.left;}
if(this._isNumber(data.top)){this.position.top=data.top;}
if(this._isNumber(data.height)){this.size.height=data.height;}
if(this._isNumber(data.width)){this.size.width=data.width;}},_updateRatio:function(data){var cpos=this.position,csize=this.size,a=this.axis;if(this._isNumber(data.height)){data.width=(data.height*this.aspectRatio);}else if(this._isNumber(data.width)){data.height=(data.width/this.aspectRatio);}
if(a==="sw"){data.left=cpos.left+(csize.width-data.width);data.top=null;}
if(a==="nw"){data.top=cpos.top+(csize.height-data.height);data.left=cpos.left+(csize.width-data.width);}
return data;},_respectSize:function(data){var o=this._vBoundaries,a=this.axis,ismaxw=this._isNumber(data.width)&&o.maxWidth&&(o.maxWidth<data.width),ismaxh=this._isNumber(data.height)&&o.maxHeight&&(o.maxHeight<data.height),isminw=this._isNumber(data.width)&&o.minWidth&&(o.minWidth>data.width),isminh=this._isNumber(data.height)&&o.minHeight&&(o.minHeight>data.height),dw=this.originalPosition.left+this.originalSize.width,dh=this.originalPosition.top+this.originalSize.height,cw=/sw|nw|w/.test(a),ch=/nw|ne|n/.test(a);if(isminw){data.width=o.minWidth;}
if(isminh){data.height=o.minHeight;}
if(ismaxw){data.width=o.maxWidth;}
if(ismaxh){data.height=o.maxHeight;}
if(isminw&&cw){data.left=dw-o.minWidth;}
if(ismaxw&&cw){data.left=dw-o.maxWidth;}
if(isminh&&ch){data.top=dh-o.minHeight;}
if(ismaxh&&ch){data.top=dh-o.maxHeight;}
if(!data.width&&!data.height&&!data.left&&data.top){data.top=null;}else if(!data.width&&!data.height&&!data.top&&data.left){data.left=null;}
return data;},_getPaddingPlusBorderDimensions:function(element){var i=0,widths=[],borders=[element.css("borderTopWidth"),element.css("borderRightWidth"),element.css("borderBottomWidth"),element.css("borderLeftWidth")],paddings=[element.css("paddingTop"),element.css("paddingRight"),element.css("paddingBottom"),element.css("paddingLeft")];for(;i<4;i++){widths[i]=(parseFloat(borders[i])||0);widths[i]+=(parseFloat(paddings[i])||0);}
return{height:widths[0]+widths[2],width:widths[1]+widths[3]};},_proportionallyResize:function(){if(!this._proportionallyResizeElements.length){return;}
var prel,i=0,element=this.helper||this.element;for(;i<this._proportionallyResizeElements.length;i++){prel=this._proportionallyResizeElements[i];if(!this.outerDimensions){this.outerDimensions=this._getPaddingPlusBorderDimensions(prel);}
prel.css({height:(element.height()-this.outerDimensions.height)||0,width:(element.width()-this.outerDimensions.width)||0});}},_renderProxy:function(){var el=this.element,o=this.options;this.elementOffset=el.offset();if(this._helper){this.helper=this.helper||$("<div style='overflow:hidden;'></div>");this._addClass(this.helper,this._helper);this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++o.zIndex});this.helper.appendTo("body").disableSelection();}else{this.helper=this.element;}},_change:{e:function(event,dx){return{width:this.originalSize.width+dx};},w:function(event,dx){var cs=this.originalSize,sp=this.originalPosition;return{left:sp.left+dx,width:cs.width-dx};},n:function(event,dx,dy){var cs=this.originalSize,sp=this.originalPosition;return{top:sp.top+dy,height:cs.height-dy};},s:function(event,dx,dy){return{height:this.originalSize.height+dy};},se:function(event,dx,dy){return $.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[event,dx,dy]));},sw:function(event,dx,dy){return $.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[event,dx,dy]));},ne:function(event,dx,dy){return $.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[event,dx,dy]));},nw:function(event,dx,dy){return $.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[event,dx,dy]));}},_propagate:function(n,event){$.ui.plugin.call(this,n,[event,this.ui()]);(n!=="resize"&&this._trigger(n,event,this.ui()));},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition};}});$.ui.plugin.add("resizable","animate",{stop:function(event){var that=$(this).resizable("instance"),o=that.options,pr=that._proportionallyResizeElements,ista=pr.length&&(/textarea/i).test(pr[0].nodeName),soffseth=ista&&that._hasScroll(pr[0],"left")?0:that.sizeDiff.height,soffsetw=ista?0:that.sizeDiff.width,style={width:(that.size.width-soffsetw),height:(that.size.height-soffseth)},left=(parseFloat(that.element.css("left"))+
(that.position.left-that.originalPosition.left))||null,top=(parseFloat(that.element.css("top"))+
(that.position.top-that.originalPosition.top))||null;that.element.animate($.extend(style,top&&left?{top:top,left:left}:{}),{duration:o.animateDuration,easing:o.animateEasing,step:function(){var data={width:parseFloat(that.element.css("width")),height:parseFloat(that.element.css("height")),top:parseFloat(that.element.css("top")),left:parseFloat(that.element.css("left"))};if(pr&&pr.length){$(pr[0]).css({width:data.width,height:data.height});}
that._updateCache(data);that._propagate("resize",event);}});}});$.ui.plugin.add("resizable","containment",{start:function(){var element,p,co,ch,cw,width,height,that=$(this).resizable("instance"),o=that.options,el=that.element,oc=o.containment,ce=(oc instanceof $)?oc.get(0):(/parent/.test(oc))?el.parent().get(0):oc;if(!ce){return;}
that.containerElement=$(ce);if(/document/.test(oc)||oc===document){that.containerOffset={left:0,top:0};that.containerPosition={left:0,top:0};that.parentData={element:$(document),left:0,top:0,width:$(document).width(),height:$(document).height()||document.body.parentNode.scrollHeight};}else{element=$(ce);p=[];$(["Top","Right","Left","Bottom"]).each(function(i,name){p[i]=that._num(element.css("padding"+name));});that.containerOffset=element.offset();that.containerPosition=element.position();that.containerSize={height:(element.innerHeight()-p[3]),width:(element.innerWidth()-p[1])};co=that.containerOffset;ch=that.containerSize.height;cw=that.containerSize.width;width=(that._hasScroll(ce,"left")?ce.scrollWidth:cw);height=(that._hasScroll(ce)?ce.scrollHeight:ch);that.parentData={element:ce,left:co.left,top:co.top,width:width,height:height};}},resize:function(event){var woset,hoset,isParent,isOffsetRelative,that=$(this).resizable("instance"),o=that.options,co=that.containerOffset,cp=that.position,pRatio=that._aspectRatio||event.shiftKey,cop={top:0,left:0},ce=that.containerElement,continueResize=true;if(ce[0]!==document&&(/static/).test(ce.css("position"))){cop=co;}
if(cp.left<(that._helper?co.left:0)){that.size.width=that.size.width+
(that._helper?(that.position.left-co.left):(that.position.left-cop.left));if(pRatio){that.size.height=that.size.width/that.aspectRatio;continueResize=false;}
that.position.left=o.helper?co.left:0;}
if(cp.top<(that._helper?co.top:0)){that.size.height=that.size.height+
(that._helper?(that.position.top-co.top):that.position.top);if(pRatio){that.size.width=that.size.height*that.aspectRatio;continueResize=false;}
that.position.top=that._helper?co.top:0;}
isParent=that.containerElement.get(0)===that.element.parent().get(0);isOffsetRelative=/relative|absolute/.test(that.containerElement.css("position"));if(isParent&&isOffsetRelative){that.offset.left=that.parentData.left+that.position.left;that.offset.top=that.parentData.top+that.position.top;}else{that.offset.left=that.element.offset().left;that.offset.top=that.element.offset().top;}
woset=Math.abs(that.sizeDiff.width+
(that._helper?that.offset.left-cop.left:(that.offset.left-co.left)));hoset=Math.abs(that.sizeDiff.height+
(that._helper?that.offset.top-cop.top:(that.offset.top-co.top)));if(woset+that.size.width>=that.parentData.width){that.size.width=that.parentData.width-woset;if(pRatio){that.size.height=that.size.width/that.aspectRatio;continueResize=false;}}
if(hoset+that.size.height>=that.parentData.height){that.size.height=that.parentData.height-hoset;if(pRatio){that.size.width=that.size.height*that.aspectRatio;continueResize=false;}}
if(!continueResize){that.position.left=that.prevPosition.left;that.position.top=that.prevPosition.top;that.size.width=that.prevSize.width;that.size.height=that.prevSize.height;}},stop:function(){var that=$(this).resizable("instance"),o=that.options,co=that.containerOffset,cop=that.containerPosition,ce=that.containerElement,helper=$(that.helper),ho=helper.offset(),w=helper.outerWidth()-that.sizeDiff.width,h=helper.outerHeight()-that.sizeDiff.height;if(that._helper&&!o.animate&&(/relative/).test(ce.css("position"))){$(this).css({left:ho.left-cop.left-co.left,width:w,height:h});}
if(that._helper&&!o.animate&&(/static/).test(ce.css("position"))){$(this).css({left:ho.left-cop.left-co.left,width:w,height:h});}}});$.ui.plugin.add("resizable","alsoResize",{start:function(){var that=$(this).resizable("instance"),o=that.options;$(o.alsoResize).each(function(){var el=$(this);el.data("ui-resizable-alsoresize",{width:parseFloat(el.width()),height:parseFloat(el.height()),left:parseFloat(el.css("left")),top:parseFloat(el.css("top"))});});},resize:function(event,ui){var that=$(this).resizable("instance"),o=that.options,os=that.originalSize,op=that.originalPosition,delta={height:(that.size.height-os.height)||0,width:(that.size.width-os.width)||0,top:(that.position.top-op.top)||0,left:(that.position.left-op.left)||0};$(o.alsoResize).each(function(){var el=$(this),start=$(this).data("ui-resizable-alsoresize"),style={},css=el.parents(ui.originalElement[0]).length?["width","height"]:["width","height","top","left"];$.each(css,function(i,prop){var sum=(start[prop]||0)+(delta[prop]||0);if(sum&&sum>=0){style[prop]=sum||null;}});el.css(style);});},stop:function(){$(this).removeData("ui-resizable-alsoresize");}});$.ui.plugin.add("resizable","ghost",{start:function(){var that=$(this).resizable("instance"),cs=that.size;that.ghost=that.originalElement.clone();that.ghost.css({opacity:0.25,display:"block",position:"relative",height:cs.height,width:cs.width,margin:0,left:0,top:0});that._addClass(that.ghost,"ui-resizable-ghost");if($.uiBackCompat!==false&&typeof that.options.ghost==="string"){that.ghost.addClass(this.options.ghost);}
that.ghost.appendTo(that.helper);},resize:function(){var that=$(this).resizable("instance");if(that.ghost){that.ghost.css({position:"relative",height:that.size.height,width:that.size.width});}},stop:function(){var that=$(this).resizable("instance");if(that.ghost&&that.helper){that.helper.get(0).removeChild(that.ghost.get(0));}}});$.ui.plugin.add("resizable","grid",{resize:function(){var outerDimensions,that=$(this).resizable("instance"),o=that.options,cs=that.size,os=that.originalSize,op=that.originalPosition,a=that.axis,grid=typeof o.grid==="number"?[o.grid,o.grid]:o.grid,gridX=(grid[0]||1),gridY=(grid[1]||1),ox=Math.round((cs.width-os.width)/gridX)*gridX,oy=Math.round((cs.height-os.height)/gridY)*gridY,newWidth=os.width+ox,newHeight=os.height+oy,isMaxWidth=o.maxWidth&&(o.maxWidth<newWidth),isMaxHeight=o.maxHeight&&(o.maxHeight<newHeight),isMinWidth=o.minWidth&&(o.minWidth>newWidth),isMinHeight=o.minHeight&&(o.minHeight>newHeight);o.grid=grid;if(isMinWidth){newWidth+=gridX;}
if(isMinHeight){newHeight+=gridY;}
if(isMaxWidth){newWidth-=gridX;}
if(isMaxHeight){newHeight-=gridY;}
if(/^(se|s|e)$/.test(a)){that.size.width=newWidth;that.size.height=newHeight;}else if(/^(ne)$/.test(a)){that.size.width=newWidth;that.size.height=newHeight;that.position.top=op.top-oy;}else if(/^(sw)$/.test(a)){that.size.width=newWidth;that.size.height=newHeight;that.position.left=op.left-ox;}else{if(newHeight-gridY<=0||newWidth-gridX<=0){outerDimensions=that._getPaddingPlusBorderDimensions(this);}
if(newHeight-gridY>0){that.size.height=newHeight;that.position.top=op.top-oy;}else{newHeight=gridY-outerDimensions.height;that.size.height=newHeight;that.position.top=op.top+os.height-newHeight;}
if(newWidth-gridX>0){that.size.width=newWidth;that.position.left=op.left-ox;}else{newWidth=gridX-outerDimensions.width;that.size.width=newWidth;that.position.left=op.left+os.width-newWidth;}}}});var widgetsResizable=$.ui.resizable;$.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:true,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:true,closeText:"Close",draggable:true,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:false,position:{my:"center",at:"center",of:window,collision:"fit",using:function(pos){var topOffset=$(this).css(pos).offset().top;if(topOffset<0){$(this).css("top",pos.top-topOffset);}}},resizable:true,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:true,height:true,maxHeight:true,maxWidth:true,minHeight:true,minWidth:true,width:true},resizableRelatedOptions:{maxHeight:true,maxWidth:true,minHeight:true,minWidth:true},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};this.originalTitle=this.element.attr("title");if(this.options.title==null&&this.originalTitle!=null){this.options.title=this.originalTitle;}
if(this.options.disabled){this.options.disabled=false;}
this._createWrapper();this.element.show().removeAttr("title").appendTo(this.uiDialog);this._addClass("ui-dialog-content","ui-widget-content");this._createTitlebar();this._createButtonPane();if(this.options.draggable&&$.fn.draggable){this._makeDraggable();}
if(this.options.resizable&&$.fn.resizable){this._makeResizable();}
this._isOpen=false;this._trackFocus();},_init:function(){if(this.options.autoOpen){this.open();}},_appendTo:function(){var element=this.options.appendTo;if(element&&(element.jquery||element.nodeType)){return $(element);}
return this.document.find(element||"body").eq(0);},_destroy:function(){var next,originalPosition=this.originalPosition;this._untrackInstance();this._destroyOverlay();this.element.removeUniqueId().css(this.originalCss).detach();this.uiDialog.remove();if(this.originalTitle){this.element.attr("title",this.originalTitle);}
next=originalPosition.parent.children().eq(originalPosition.index);if(next.length&&next[0]!==this.element[0]){next.before(this.element);}else{originalPosition.parent.append(this.element);}},widget:function(){return this.uiDialog;},disable:$.noop,enable:$.noop,close:function(event){var that=this;if(!this._isOpen||this._trigger("beforeClose",event)===false){return;}
this._isOpen=false;this._focusedElement=null;this._destroyOverlay();this._untrackInstance();if(!this.opener.filter(":focusable").trigger("focus").length){$.ui.safeBlur($.ui.safeActiveElement(this.document[0]));}
this._hide(this.uiDialog,this.options.hide,function(){that._trigger("close",event);});},isOpen:function(){return this._isOpen;},moveToTop:function(){this._moveToTop();},_moveToTop:function(event,silent){var moved=false,zIndices=this.uiDialog.siblings(".ui-front:visible").map(function(){return+$(this).css("z-index");}).get(),zIndexMax=Math.max.apply(null,zIndices);if(zIndexMax>=+this.uiDialog.css("z-index")){this.uiDialog.css("z-index",zIndexMax+1);moved=true;}
if(moved&&!silent){this._trigger("focus",event);}
return moved;},open:function(){var that=this;if(this._isOpen){if(this._moveToTop()){this._focusTabbable();}
return;}
this._isOpen=true;this.opener=$($.ui.safeActiveElement(this.document[0]));this._size();this._position();this._createOverlay();this._moveToTop(null,true);if(this.overlay){this.overlay.css("z-index",this.uiDialog.css("z-index")-1);}
this._show(this.uiDialog,this.options.show,function(){that._focusTabbable();that._trigger("focus");});this._makeFocusTarget();this._trigger("open");},_focusTabbable:function(){var hasFocus=this._focusedElement;if(!hasFocus){hasFocus=this.element.find("[autofocus]");}
if(!hasFocus.length){hasFocus=this.element.find(":tabbable");}
if(!hasFocus.length){hasFocus=this.uiDialogButtonPane.find(":tabbable");}
if(!hasFocus.length){hasFocus=this.uiDialogTitlebarClose.filter(":tabbable");}
if(!hasFocus.length){hasFocus=this.uiDialog;}
hasFocus.eq(0).trigger("focus");},_keepFocus:function(event){function checkFocus(){var activeElement=$.ui.safeActiveElement(this.document[0]),isActive=this.uiDialog[0]===activeElement||$.contains(this.uiDialog[0],activeElement);if(!isActive){this._focusTabbable();}}
event.preventDefault();checkFocus.call(this);this._delay(checkFocus);},_createWrapper:function(){this.uiDialog=$("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo());this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front");this._on(this.uiDialog,{keydown:function(event){if(this.options.closeOnEscape&&!event.isDefaultPrevented()&&event.keyCode&&event.keyCode===$.ui.keyCode.ESCAPE){event.preventDefault();this.close(event);return;}
if(event.keyCode!==$.ui.keyCode.TAB||event.isDefaultPrevented()){return;}
var tabbables=this.uiDialog.find(":tabbable"),first=tabbables.filter(":first"),last=tabbables.filter(":last");if((event.target===last[0]||event.target===this.uiDialog[0])&&!event.shiftKey){this._delay(function(){first.trigger("focus");});event.preventDefault();}else if((event.target===first[0]||event.target===this.uiDialog[0])&&event.shiftKey){this._delay(function(){last.trigger("focus");});event.preventDefault();}},mousedown:function(event){if(this._moveToTop(event)){this._focusTabbable();}}});if(!this.element.find("[aria-describedby]").length){this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")});}},_createTitlebar:function(){var uiDialogTitle;this.uiDialogTitlebar=$("<div>");this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix");this._on(this.uiDialogTitlebar,{mousedown:function(event){if(!$(event.target).closest(".ui-dialog-titlebar-close")){this.uiDialog.trigger("focus");}}});this.uiDialogTitlebarClose=$("<button type='button'></button>").button({label:$("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:false}).appendTo(this.uiDialogTitlebar);this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close");this._on(this.uiDialogTitlebarClose,{click:function(event){event.preventDefault();this.close(event);}});uiDialogTitle=$("<span>").uniqueId().prependTo(this.uiDialogTitlebar);this._addClass(uiDialogTitle,"ui-dialog-title");this._title(uiDialogTitle);this.uiDialogTitlebar.prependTo(this.uiDialog);this.uiDialog.attr({"aria-labelledby":uiDialogTitle.attr("id")});},_title:function(title){if(this.options.title){title.text(this.options.title);}else{title.html("&#160;");}},_createButtonPane:function(){this.uiDialogButtonPane=$("<div>");this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix");this.uiButtonSet=$("<div>").appendTo(this.uiDialogButtonPane);this._addClass(this.uiButtonSet,"ui-dialog-buttonset");this._createButtons();},_createButtons:function(){var that=this,buttons=this.options.buttons;this.uiDialogButtonPane.remove();this.uiButtonSet.empty();if($.isEmptyObject(buttons)||($.isArray(buttons)&&!buttons.length)){this._removeClass(this.uiDialog,"ui-dialog-buttons");return;}
$.each(buttons,function(name,props){var click,buttonOptions;props=$.isFunction(props)?{click:props,text:name}:props;props=$.extend({type:"button"},props);click=props.click;buttonOptions={icon:props.icon,iconPosition:props.iconPosition,showLabel:props.showLabel,icons:props.icons,text:props.text};delete props.click;delete props.icon;delete props.iconPosition;delete props.showLabel;delete props.icons;if(typeof props.text==="boolean"){delete props.text;}
$("<button></button>",props).button(buttonOptions).appendTo(that.uiButtonSet).on("click",function(){click.apply(that.element[0],arguments);});});this._addClass(this.uiDialog,"ui-dialog-buttons");this.uiDialogButtonPane.appendTo(this.uiDialog);},_makeDraggable:function(){var that=this,options=this.options;function filteredUi(ui){return{position:ui.position,offset:ui.offset};}
this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(event,ui){that._addClass($(this),"ui-dialog-dragging");that._blockFrames();that._trigger("dragStart",event,filteredUi(ui));},drag:function(event,ui){that._trigger("drag",event,filteredUi(ui));},stop:function(event,ui){var left=ui.offset.left-that.document.scrollLeft(),top=ui.offset.top-that.document.scrollTop();options.position={my:"left top",at:"left"+(left>=0?"+":"")+left+" "+"top"+(top>=0?"+":"")+top,of:that.window};that._removeClass($(this),"ui-dialog-dragging");that._unblockFrames();that._trigger("dragStop",event,filteredUi(ui));}});},_makeResizable:function(){var that=this,options=this.options,handles=options.resizable,position=this.uiDialog.css("position"),resizeHandles=typeof handles==="string"?handles:"n,e,s,w,se,sw,ne,nw";function filteredUi(ui){return{originalPosition:ui.originalPosition,originalSize:ui.originalSize,position:ui.position,size:ui.size};}
this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:options.maxWidth,maxHeight:options.maxHeight,minWidth:options.minWidth,minHeight:this._minHeight(),handles:resizeHandles,start:function(event,ui){that._addClass($(this),"ui-dialog-resizing");that._blockFrames();that._trigger("resizeStart",event,filteredUi(ui));},resize:function(event,ui){that._trigger("resize",event,filteredUi(ui));},stop:function(event,ui){var offset=that.uiDialog.offset(),left=offset.left-that.document.scrollLeft(),top=offset.top-that.document.scrollTop();options.height=that.uiDialog.height();options.width=that.uiDialog.width();options.position={my:"left top",at:"left"+(left>=0?"+":"")+left+" "+"top"+(top>=0?"+":"")+top,of:that.window};that._removeClass($(this),"ui-dialog-resizing");that._unblockFrames();that._trigger("resizeStop",event,filteredUi(ui));}}).css("position",position);},_trackFocus:function(){this._on(this.widget(),{focusin:function(event){this._makeFocusTarget();this._focusedElement=$(event.target);}});},_makeFocusTarget:function(){this._untrackInstance();this._trackingInstances().unshift(this);},_untrackInstance:function(){var instances=this._trackingInstances(),exists=$.inArray(this,instances);if(exists!==-1){instances.splice(exists,1);}},_trackingInstances:function(){var instances=this.document.data("ui-dialog-instances");if(!instances){instances=[];this.document.data("ui-dialog-instances",instances);}
return instances;},_minHeight:function(){var options=this.options;return options.height==="auto"?options.minHeight:Math.min(options.minHeight,options.height);},_position:function(){var isVisible=this.uiDialog.is(":visible");if(!isVisible){this.uiDialog.show();}
this.uiDialog.position(this.options.position);if(!isVisible){this.uiDialog.hide();}},_setOptions:function(options){var that=this,resize=false,resizableOptions={};$.each(options,function(key,value){that._setOption(key,value);if(key in that.sizeRelatedOptions){resize=true;}
if(key in that.resizableRelatedOptions){resizableOptions[key]=value;}});if(resize){this._size();this._position();}
if(this.uiDialog.is(":data(ui-resizable)")){this.uiDialog.resizable("option",resizableOptions);}},_setOption:function(key,value){var isDraggable,isResizable,uiDialog=this.uiDialog;if(key==="disabled"){return;}
this._super(key,value);if(key==="appendTo"){this.uiDialog.appendTo(this._appendTo());}
if(key==="buttons"){this._createButtons();}
if(key==="closeText"){this.uiDialogTitlebarClose.button({label:$("<a>").text(""+this.options.closeText).html()});}
if(key==="draggable"){isDraggable=uiDialog.is(":data(ui-draggable)");if(isDraggable&&!value){uiDialog.draggable("destroy");}
if(!isDraggable&&value){this._makeDraggable();}}
if(key==="position"){this._position();}
if(key==="resizable"){isResizable=uiDialog.is(":data(ui-resizable)");if(isResizable&&!value){uiDialog.resizable("destroy");}
if(isResizable&&typeof value==="string"){uiDialog.resizable("option","handles",value);}
if(!isResizable&&value!==false){this._makeResizable();}}
if(key==="title"){this._title(this.uiDialogTitlebar.find(".ui-dialog-title"));}},_size:function(){var nonContentHeight,minContentHeight,maxContentHeight,options=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});if(options.minWidth>options.width){options.width=options.minWidth;}
nonContentHeight=this.uiDialog.css({height:"auto",width:options.width}).outerHeight();minContentHeight=Math.max(0,options.minHeight-nonContentHeight);maxContentHeight=typeof options.maxHeight==="number"?Math.max(0,options.maxHeight-nonContentHeight):"none";if(options.height==="auto"){this.element.css({minHeight:minContentHeight,maxHeight:maxContentHeight,height:"auto"});}else{this.element.height(Math.max(0,options.height-nonContentHeight));}
if(this.uiDialog.is(":data(ui-resizable)")){this.uiDialog.resizable("option","minHeight",this._minHeight());}},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var iframe=$(this);return $("<div>").css({position:"absolute",width:iframe.outerWidth(),height:iframe.outerHeight()}).appendTo(iframe.parent()).offset(iframe.offset())[0];});},_unblockFrames:function(){if(this.iframeBlocks){this.iframeBlocks.remove();delete this.iframeBlocks;}},_allowInteraction:function(event){if($(event.target).closest(".ui-dialog").length){return true;}
return!!$(event.target).closest(".ui-datepicker").length;},_createOverlay:function(){if(!this.options.modal){return;}
var isOpening=true;this._delay(function(){isOpening=false;});if(!this.document.data("ui-dialog-overlays")){this._on(this.document,{focusin:function(event){if(isOpening){return;}
if(!this._allowInteraction(event)){event.preventDefault();this._trackingInstances()[0]._focusTabbable();}}});}
this.overlay=$("<div>").appendTo(this._appendTo());this._addClass(this.overlay,null,"ui-widget-overlay ui-front");this._on(this.overlay,{mousedown:"_keepFocus"});this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1);},_destroyOverlay:function(){if(!this.options.modal){return;}
if(this.overlay){var overlays=this.document.data("ui-dialog-overlays")-1;if(!overlays){this._off(this.document,"focusin");this.document.removeData("ui-dialog-overlays");}else{this.document.data("ui-dialog-overlays",overlays);}
this.overlay.remove();this.overlay=null;}}});if($.uiBackCompat!==false){$.widget("ui.dialog",$.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super();this.uiDialog.addClass(this.options.dialogClass);},_setOption:function(key,value){if(key==="dialogClass"){this.uiDialog.removeClass(this.options.dialogClass).addClass(value);}
this._superApply(arguments);}});}
var widgetsDialog=$.ui.dialog;$.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:true,greedy:false,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var proportions,o=this.options,accept=o.accept;this.isover=false;this.isout=true;this.accept=$.isFunction(accept)?accept:function(d){return d.is(accept);};this.proportions=function(){if(arguments.length){proportions=arguments[0];}else{return proportions?proportions:proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};}};this._addToManager(o.scope);o.addClasses&&this._addClass("ui-droppable");},_addToManager:function(scope){$.ui.ddmanager.droppables[scope]=$.ui.ddmanager.droppables[scope]||[];$.ui.ddmanager.droppables[scope].push(this);},_splice:function(drop){var i=0;for(;i<drop.length;i++){if(drop[i]===this){drop.splice(i,1);}}},_destroy:function(){var drop=$.ui.ddmanager.droppables[this.options.scope];this._splice(drop);},_setOption:function(key,value){if(key==="accept"){this.accept=$.isFunction(value)?value:function(d){return d.is(value);};}else if(key==="scope"){var drop=$.ui.ddmanager.droppables[this.options.scope];this._splice(drop);this._addToManager(value);}
this._super(key,value);},_activate:function(event){var draggable=$.ui.ddmanager.current;this._addActiveClass();if(draggable){this._trigger("activate",event,this.ui(draggable));}},_deactivate:function(event){var draggable=$.ui.ddmanager.current;this._removeActiveClass();if(draggable){this._trigger("deactivate",event,this.ui(draggable));}},_over:function(event){var draggable=$.ui.ddmanager.current;if(!draggable||(draggable.currentItem||draggable.element)[0]===this.element[0]){return;}
if(this.accept.call(this.element[0],(draggable.currentItem||draggable.element))){this._addHoverClass();this._trigger("over",event,this.ui(draggable));}},_out:function(event){var draggable=$.ui.ddmanager.current;if(!draggable||(draggable.currentItem||draggable.element)[0]===this.element[0]){return;}
if(this.accept.call(this.element[0],(draggable.currentItem||draggable.element))){this._removeHoverClass();this._trigger("out",event,this.ui(draggable));}},_drop:function(event,custom){var draggable=custom||$.ui.ddmanager.current,childrenIntersection=false;if(!draggable||(draggable.currentItem||draggable.element)[0]===this.element[0]){return false;}
this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var inst=$(this).droppable("instance");if(inst.options.greedy&&!inst.options.disabled&&inst.options.scope===draggable.options.scope&&inst.accept.call(inst.element[0],(draggable.currentItem||draggable.element))&&intersect(draggable,$.extend(inst,{offset:inst.element.offset()}),inst.options.tolerance,event)){childrenIntersection=true;return false;}});if(childrenIntersection){return false;}
if(this.accept.call(this.element[0],(draggable.currentItem||draggable.element))){this._removeActiveClass();this._removeHoverClass();this._trigger("drop",event,this.ui(draggable));return this.element;}
return false;},ui:function(c){return{draggable:(c.currentItem||c.element),helper:c.helper,position:c.position,offset:c.positionAbs};},_addHoverClass:function(){this._addClass("ui-droppable-hover");},_removeHoverClass:function(){this._removeClass("ui-droppable-hover");},_addActiveClass:function(){this._addClass("ui-droppable-active");},_removeActiveClass:function(){this._removeClass("ui-droppable-active");}});var intersect=$.ui.intersect=(function(){function isOverAxis(x,reference,size){return(x>=reference)&&(x<(reference+size));}
return function(draggable,droppable,toleranceMode,event){if(!droppable.offset){return false;}
var x1=(draggable.positionAbs||draggable.position.absolute).left+draggable.margins.left,y1=(draggable.positionAbs||draggable.position.absolute).top+draggable.margins.top,x2=x1+draggable.helperProportions.width,y2=y1+draggable.helperProportions.height,l=droppable.offset.left,t=droppable.offset.top,r=l+droppable.proportions().width,b=t+droppable.proportions().height;switch(toleranceMode){case"fit":return(l<=x1&&x2<=r&&t<=y1&&y2<=b);case"intersect":return(l<x1+(draggable.helperProportions.width/2)&&x2-(draggable.helperProportions.width/2)<r&&t<y1+(draggable.helperProportions.height/2)&&y2-(draggable.helperProportions.height/2)<b);case"pointer":return isOverAxis(event.pageY,t,droppable.proportions().height)&&isOverAxis(event.pageX,l,droppable.proportions().width);case"touch":return((y1>=t&&y1<=b)||(y2>=t&&y2<=b)||(y1<t&&y2>b))&&((x1>=l&&x1<=r)||(x2>=l&&x2<=r)||(x1<l&&x2>r));default:return false;}};})();$.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,event){var i,j,m=$.ui.ddmanager.droppables[t.options.scope]||[],type=event?event.type:null,list=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();droppablesLoop:for(i=0;i<m.length;i++){if(m[i].options.disabled||(t&&!m[i].accept.call(m[i].element[0],(t.currentItem||t.element)))){continue;}
for(j=0;j<list.length;j++){if(list[j]===m[i].element[0]){m[i].proportions().height=0;continue droppablesLoop;}}
m[i].visible=m[i].element.css("display")!=="none";if(!m[i].visible){continue;}
if(type==="mousedown"){m[i]._activate.call(m[i],event);}
m[i].offset=m[i].element.offset();m[i].proportions({width:m[i].element[0].offsetWidth,height:m[i].element[0].offsetHeight});}},drop:function(draggable,event){var dropped=false;$.each(($.ui.ddmanager.droppables[draggable.options.scope]||[]).slice(),function(){if(!this.options){return;}
if(!this.options.disabled&&this.visible&&intersect(draggable,this,this.options.tolerance,event)){dropped=this._drop.call(this,event)||dropped;}
if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],(draggable.currentItem||draggable.element))){this.isout=true;this.isover=false;this._deactivate.call(this,event);}});return dropped;},dragStart:function(draggable,event){draggable.element.parentsUntil("body").on("scroll.droppable",function(){if(!draggable.options.refreshPositions){$.ui.ddmanager.prepareOffsets(draggable,event);}});},drag:function(draggable,event){if(draggable.options.refreshPositions){$.ui.ddmanager.prepareOffsets(draggable,event);}
$.each($.ui.ddmanager.droppables[draggable.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible){return;}
var parentInstance,scope,parent,intersects=intersect(draggable,this,this.options.tolerance,event),c=!intersects&&this.isover?"isout":(intersects&&!this.isover?"isover":null);if(!c){return;}
if(this.options.greedy){scope=this.options.scope;parent=this.element.parents(":data(ui-droppable)").filter(function(){return $(this).droppable("instance").options.scope===scope;});if(parent.length){parentInstance=$(parent[0]).droppable("instance");parentInstance.greedyChild=(c==="isover");}}
if(parentInstance&&c==="isover"){parentInstance.isover=false;parentInstance.isout=true;parentInstance._out.call(parentInstance,event);}
this[c]=true;this[c==="isout"?"isover":"isout"]=false;this[c==="isover"?"_over":"_out"].call(this,event);if(parentInstance&&c==="isout"){parentInstance.isout=false;parentInstance.isover=true;parentInstance._over.call(parentInstance,event);}});},dragStop:function(draggable,event){draggable.element.parentsUntil("body").off("scroll.droppable");if(!draggable.options.refreshPositions){$.ui.ddmanager.prepareOffsets(draggable,event);}}};if($.uiBackCompat!==false){$.widget("ui.droppable",$.ui.droppable,{options:{hoverClass:false,activeClass:false},_addActiveClass:function(){this._super();if(this.options.activeClass){this.element.addClass(this.options.activeClass);}},_removeActiveClass:function(){this._super();if(this.options.activeClass){this.element.removeClass(this.options.activeClass);}},_addHoverClass:function(){this._super();if(this.options.hoverClass){this.element.addClass(this.options.hoverClass);}},_removeHoverClass:function(){this._super();if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass);}}});}
var widgetsDroppable=$.ui.droppable;var widgetsProgressbar=$.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue();this.element.attr({role:"progressbar","aria-valuemin":this.min});this._addClass("ui-progressbar","ui-widget ui-widget-content");this.valueDiv=$("<div>").appendTo(this.element);this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header");this._refreshValue();},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow");this.valueDiv.remove();},value:function(newValue){if(newValue===undefined){return this.options.value;}
this.options.value=this._constrainedValue(newValue);this._refreshValue();},_constrainedValue:function(newValue){if(newValue===undefined){newValue=this.options.value;}
this.indeterminate=newValue===false;if(typeof newValue!=="number"){newValue=0;}
return this.indeterminate?false:Math.min(this.options.max,Math.max(this.min,newValue));},_setOptions:function(options){var value=options.value;delete options.value;this._super(options);this.options.value=this._constrainedValue(value);this._refreshValue();},_setOption:function(key,value){if(key==="max"){value=Math.max(this.min,value);}
this._super(key,value);},_setOptionDisabled:function(value){this._super(value);this.element.attr("aria-disabled",value);this._toggleClass(null,"ui-state-disabled",!!value);},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min);},_refreshValue:function(){var value=this.options.value,percentage=this._percentage();this.valueDiv.toggle(this.indeterminate||value>this.min).width(percentage.toFixed(0)+"%");this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,value===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate);if(this.indeterminate){this.element.removeAttr("aria-valuenow");if(!this.overlayDiv){this.overlayDiv=$("<div>").appendTo(this.valueDiv);this._addClass(this.overlayDiv,"ui-progressbar-overlay");}}else{this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":value});if(this.overlayDiv){this.overlayDiv.remove();this.overlayDiv=null;}}
if(this.oldValue!==value){this.oldValue=value;this._trigger("change");}
if(value===this.options.max){this._trigger("complete");}}});var widgetsSelectable=$.widget("ui.selectable",$.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:true,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var that=this;this._addClass("ui-selectable");this.dragged=false;this.refresh=function(){that.elementPos=$(that.element[0]).offset();that.selectees=$(that.options.filter,that.element[0]);that._addClass(that.selectees,"ui-selectee");that.selectees.each(function(){var $this=$(this),selecteeOffset=$this.offset(),pos={left:selecteeOffset.left-that.elementPos.left,top:selecteeOffset.top-that.elementPos.top};$.data(this,"selectable-item",{element:this,$element:$this,left:pos.left,top:pos.top,right:pos.left+$this.outerWidth(),bottom:pos.top+$this.outerHeight(),startselected:false,selected:$this.hasClass("ui-selected"),selecting:$this.hasClass("ui-selecting"),unselecting:$this.hasClass("ui-unselecting")});});};this.refresh();this._mouseInit();this.helper=$("<div>");this._addClass(this.helper,"ui-selectable-helper");},_destroy:function(){this.selectees.removeData("selectable-item");this._mouseDestroy();},_mouseStart:function(event){var that=this,options=this.options;this.opos=[event.pageX,event.pageY];this.elementPos=$(this.element[0]).offset();if(this.options.disabled){return;}
this.selectees=$(options.filter,this.element[0]);this._trigger("start",event);$(options.appendTo).append(this.helper);this.helper.css({"left":event.pageX,"top":event.pageY,"width":0,"height":0});if(options.autoRefresh){this.refresh();}
this.selectees.filter(".ui-selected").each(function(){var selectee=$.data(this,"selectable-item");selectee.startselected=true;if(!event.metaKey&&!event.ctrlKey){that._removeClass(selectee.$element,"ui-selected");selectee.selected=false;that._addClass(selectee.$element,"ui-unselecting");selectee.unselecting=true;that._trigger("unselecting",event,{unselecting:selectee.element});}});$(event.target).parents().addBack().each(function(){var doSelect,selectee=$.data(this,"selectable-item");if(selectee){doSelect=(!event.metaKey&&!event.ctrlKey)||!selectee.$element.hasClass("ui-selected");that._removeClass(selectee.$element,doSelect?"ui-unselecting":"ui-selected")._addClass(selectee.$element,doSelect?"ui-selecting":"ui-unselecting");selectee.unselecting=!doSelect;selectee.selecting=doSelect;selectee.selected=doSelect;if(doSelect){that._trigger("selecting",event,{selecting:selectee.element});}else{that._trigger("unselecting",event,{unselecting:selectee.element});}
return false;}});},_mouseDrag:function(event){this.dragged=true;if(this.options.disabled){return;}
var tmp,that=this,options=this.options,x1=this.opos[0],y1=this.opos[1],x2=event.pageX,y2=event.pageY;if(x1>x2){tmp=x2;x2=x1;x1=tmp;}
if(y1>y2){tmp=y2;y2=y1;y1=tmp;}
this.helper.css({left:x1,top:y1,width:x2-x1,height:y2-y1});this.selectees.each(function(){var selectee=$.data(this,"selectable-item"),hit=false,offset={};if(!selectee||selectee.element===that.element[0]){return;}
offset.left=selectee.left+that.elementPos.left;offset.right=selectee.right+that.elementPos.left;offset.top=selectee.top+that.elementPos.top;offset.bottom=selectee.bottom+that.elementPos.top;if(options.tolerance==="touch"){hit=(!(offset.left>x2||offset.right<x1||offset.top>y2||offset.bottom<y1));}else if(options.tolerance==="fit"){hit=(offset.left>x1&&offset.right<x2&&offset.top>y1&&offset.bottom<y2);}
if(hit){if(selectee.selected){that._removeClass(selectee.$element,"ui-selected");selectee.selected=false;}
if(selectee.unselecting){that._removeClass(selectee.$element,"ui-unselecting");selectee.unselecting=false;}
if(!selectee.selecting){that._addClass(selectee.$element,"ui-selecting");selectee.selecting=true;that._trigger("selecting",event,{selecting:selectee.element});}}else{if(selectee.selecting){if((event.metaKey||event.ctrlKey)&&selectee.startselected){that._removeClass(selectee.$element,"ui-selecting");selectee.selecting=false;that._addClass(selectee.$element,"ui-selected");selectee.selected=true;}else{that._removeClass(selectee.$element,"ui-selecting");selectee.selecting=false;if(selectee.startselected){that._addClass(selectee.$element,"ui-unselecting");selectee.unselecting=true;}
that._trigger("unselecting",event,{unselecting:selectee.element});}}
if(selectee.selected){if(!event.metaKey&&!event.ctrlKey&&!selectee.startselected){that._removeClass(selectee.$element,"ui-selected");selectee.selected=false;that._addClass(selectee.$element,"ui-unselecting");selectee.unselecting=true;that._trigger("unselecting",event,{unselecting:selectee.element});}}}});return false;},_mouseStop:function(event){var that=this;this.dragged=false;$(".ui-unselecting",this.element[0]).each(function(){var selectee=$.data(this,"selectable-item");that._removeClass(selectee.$element,"ui-unselecting");selectee.unselecting=false;selectee.startselected=false;that._trigger("unselected",event,{unselected:selectee.element});});$(".ui-selecting",this.element[0]).each(function(){var selectee=$.data(this,"selectable-item");that._removeClass(selectee.$element,"ui-selecting")._addClass(selectee.$element,"ui-selected");selectee.selecting=false;selectee.selected=true;selectee.startselected=true;that._trigger("selected",event,{selected:selectee.element});});this._trigger("stop",event);this.helper.remove();return false;}});var widgetsSelectmenu=$.widget("ui.selectmenu",[$.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:false,change:null,close:null,focus:null,open:null,select:null},_create:function(){var selectmenuId=this.element.uniqueId().attr("id");this.ids={element:selectmenuId,button:selectmenuId+"-button",menu:selectmenuId+"-menu"};this._drawButton();this._drawMenu();this._bindFormResetHandler();this._rendered=false;this.menuItems=$();},_drawButton:function(){var icon,that=this,item=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button);this._on(this.labels,{click:function(event){this.button.focus();event.preventDefault();}});this.element.hide();this.button=$("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element);this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget");icon=$("<span>").appendTo(this.button);this._addClass(icon,"ui-selectmenu-icon","ui-icon "+this.options.icons.button);this.buttonItem=this._renderButtonItem(item).appendTo(this.button);if(this.options.width!==false){this._resizeButton();}
this._on(this.button,this._buttonEvents);this.button.one("focusin",function(){if(!that._rendered){that._refreshMenu();}});},_drawMenu:function(){var that=this;this.menu=$("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu});this.menuWrap=$("<div>").append(this.menu);this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front");this.menuWrap.appendTo(this._appendTo());this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(event,ui){event.preventDefault();that._setSelection();that._select(ui.item.data("ui-selectmenu-item"),event);},focus:function(event,ui){var item=ui.item.data("ui-selectmenu-item");if(that.focusIndex!=null&&item.index!==that.focusIndex){that._trigger("focus",event,{item:item});if(!that.isOpen){that._select(item,event);}}
that.focusIndex=item.index;that.button.attr("aria-activedescendant",that.menuItems.eq(item.index).attr("id"));}}).menu("instance");this.menuInstance._off(this.menu,"mouseleave");this.menuInstance._closeOnDocumentClick=function(){return false;};this.menuInstance._isDivider=function(){return false;};},refresh:function(){this._refreshMenu();this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{}));if(this.options.width===null){this._resizeButton();}},_refreshMenu:function(){var item,options=this.element.find("option");this.menu.empty();this._parseOptions(options);this._renderMenu(this.menu,this.items);this.menuInstance.refresh();this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper");this._rendered=true;if(!options.length){return;}
item=this._getSelectedItem();this.menuInstance.focus(null,item);this._setAria(item.data("ui-selectmenu-item"));this._setOption("disabled",this.element.prop("disabled"));},open:function(event){if(this.options.disabled){return;}
if(!this._rendered){this._refreshMenu();}else{this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active");this.menuInstance.focus(null,this._getSelectedItem());}
if(!this.menuItems.length){return;}
this.isOpen=true;this._toggleAttr();this._resizeMenu();this._position();this._on(this.document,this._documentClick);this._trigger("open",event);},_position:function(){this.menuWrap.position($.extend({of:this.button},this.options.position));},close:function(event){if(!this.isOpen){return;}
this.isOpen=false;this._toggleAttr();this.range=null;this._off(this.document);this._trigger("close",event);},widget:function(){return this.button;},menuWidget:function(){return this.menu;},_renderButtonItem:function(item){var buttonItem=$("<span>");this._setText(buttonItem,item.label);this._addClass(buttonItem,"ui-selectmenu-text");return buttonItem;},_renderMenu:function(ul,items){var that=this,currentOptgroup="";$.each(items,function(index,item){var li;if(item.optgroup!==currentOptgroup){li=$("<li>",{text:item.optgroup});that._addClass(li,"ui-selectmenu-optgroup","ui-menu-divider"+
(item.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""));li.appendTo(ul);currentOptgroup=item.optgroup;}
that._renderItemData(ul,item);});},_renderItemData:function(ul,item){return this._renderItem(ul,item).data("ui-selectmenu-item",item);},_renderItem:function(ul,item){var li=$("<li>"),wrapper=$("<div>",{title:item.element.attr("title")});if(item.disabled){this._addClass(li,null,"ui-state-disabled");}
this._setText(wrapper,item.label);return li.append(wrapper).appendTo(ul);},_setText:function(element,value){if(value){element.text(value);}else{element.html("&#160;");}},_move:function(direction,event){var item,next,filter=".ui-menu-item";if(this.isOpen){item=this.menuItems.eq(this.focusIndex).parent("li");}else{item=this.menuItems.eq(this.element[0].selectedIndex).parent("li");filter+=":not(.ui-state-disabled)";}
if(direction==="first"||direction==="last"){next=item[direction==="first"?"prevAll":"nextAll"](filter).eq(-1);}else{next=item[direction+"All"](filter).eq(0);}
if(next.length){this.menuInstance.focus(event,next);}},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li");},_toggle:function(event){this[this.isOpen?"close":"open"](event);},_setSelection:function(){var selection;if(!this.range){return;}
if(window.getSelection){selection=window.getSelection();selection.removeAllRanges();selection.addRange(this.range);}else{this.range.select();}
this.button.focus();},_documentClick:{mousedown:function(event){if(!this.isOpen){return;}
if(!$(event.target).closest(".ui-selectmenu-menu, #"+
$.ui.escapeSelector(this.ids.button)).length){this.close(event);}}},_buttonEvents:{mousedown:function(){var selection;if(window.getSelection){selection=window.getSelection();if(selection.rangeCount){this.range=selection.getRangeAt(0);}}else{this.range=document.selection.createRange();}},click:function(event){this._setSelection();this._toggle(event);},keydown:function(event){var preventDefault=true;switch(event.keyCode){case $.ui.keyCode.TAB:case $.ui.keyCode.ESCAPE:this.close(event);preventDefault=false;break;case $.ui.keyCode.ENTER:if(this.isOpen){this._selectFocusedItem(event);}
break;case $.ui.keyCode.UP:if(event.altKey){this._toggle(event);}else{this._move("prev",event);}
break;case $.ui.keyCode.DOWN:if(event.altKey){this._toggle(event);}else{this._move("next",event);}
break;case $.ui.keyCode.SPACE:if(this.isOpen){this._selectFocusedItem(event);}else{this._toggle(event);}
break;case $.ui.keyCode.LEFT:this._move("prev",event);break;case $.ui.keyCode.RIGHT:this._move("next",event);break;case $.ui.keyCode.HOME:case $.ui.keyCode.PAGE_UP:this._move("first",event);break;case $.ui.keyCode.END:case $.ui.keyCode.PAGE_DOWN:this._move("last",event);break;default:this.menu.trigger(event);preventDefault=false;}
if(preventDefault){event.preventDefault();}}},_selectFocusedItem:function(event){var item=this.menuItems.eq(this.focusIndex).parent("li");if(!item.hasClass("ui-state-disabled")){this._select(item.data("ui-selectmenu-item"),event);}},_select:function(item,event){var oldIndex=this.element[0].selectedIndex;this.element[0].selectedIndex=item.index;this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(item));this._setAria(item);this._trigger("select",event,{item:item});if(item.index!==oldIndex){this._trigger("change",event,{item:item});}
this.close(event);},_setAria:function(item){var id=this.menuItems.eq(item.index).attr("id");this.button.attr({"aria-labelledby":id,"aria-activedescendant":id});this.menu.attr("aria-activedescendant",id);},_setOption:function(key,value){if(key==="icons"){var icon=this.button.find("span.ui-icon");this._removeClass(icon,null,this.options.icons.button)._addClass(icon,null,value.button);}
this._super(key,value);if(key==="appendTo"){this.menuWrap.appendTo(this._appendTo());}
if(key==="width"){this._resizeButton();}},_setOptionDisabled:function(value){this._super(value);this.menuInstance.option("disabled",value);this.button.attr("aria-disabled",value);this._toggleClass(this.button,null,"ui-state-disabled",value);this.element.prop("disabled",value);if(value){this.button.attr("tabindex",-1);this.close();}else{this.button.attr("tabindex",0);}},_appendTo:function(){var element=this.options.appendTo;if(element){element=element.jquery||element.nodeType?$(element):this.document.find(element).eq(0);}
if(!element||!element[0]){element=this.element.closest(".ui-front, dialog");}
if(!element.length){element=this.document[0].body;}
return element;},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen);this._removeClass(this.button,"ui-selectmenu-button-"+
(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+
(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen);this.menu.attr("aria-hidden",!this.isOpen);},_resizeButton:function(){var width=this.options.width;if(width===false){this.button.css("width","");return;}
if(width===null){width=this.element.show().outerWidth();this.element.hide();}
this.button.outerWidth(width);},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1));},_getCreateOptions:function(){var options=this._super();options.disabled=this.element.prop("disabled");return options;},_parseOptions:function(options){var that=this,data=[];options.each(function(index,item){data.push(that._parseOption($(item),index));});this.items=data;},_parseOption:function(option,index){var optgroup=option.parent("optgroup");return{element:option,index:index,value:option.val(),label:option.text(),optgroup:optgroup.attr("label")||"",disabled:optgroup.prop("disabled")||option.prop("disabled")};},_destroy:function(){this._unbindFormResetHandler();this.menuWrap.remove();this.button.remove();this.element.show();this.element.removeUniqueId();this.labels.attr("for",this.ids.element);}}]);var widgetsSlider=$.widget("ui.slider",$.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:false,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:false,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=false;this._mouseSliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this._calculateNewMax();this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content");this._refresh();this._animateOff=false;},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue();},_createHandles:function(){var i,handleCount,options=this.options,existingHandles=this.element.find(".ui-slider-handle"),handle="<span tabindex='0'></span>",handles=[];handleCount=(options.values&&options.values.length)||1;if(existingHandles.length>handleCount){existingHandles.slice(handleCount).remove();existingHandles=existingHandles.slice(0,handleCount);}
for(i=existingHandles.length;i<handleCount;i++){handles.push(handle);}
this.handles=existingHandles.add($(handles.join("")).appendTo(this.element));this._addClass(this.handles,"ui-slider-handle","ui-state-default");this.handle=this.handles.eq(0);this.handles.each(function(i){$(this).data("ui-slider-handle-index",i).attr("tabIndex",0);});},_createRange:function(){var options=this.options;if(options.range){if(options.range===true){if(!options.values){options.values=[this._valueMin(),this._valueMin()];}else if(options.values.length&&options.values.length!==2){options.values=[options.values[0],options.values[0]];}else if($.isArray(options.values)){options.values=options.values.slice(0);}}
if(!this.range||!this.range.length){this.range=$("<div>").appendTo(this.element);this._addClass(this.range,"ui-slider-range");}else{this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max");this.range.css({"left":"","bottom":""});}
if(options.range==="min"||options.range==="max"){this._addClass(this.range,"ui-slider-range-"+options.range);}}else{if(this.range){this.range.remove();}
this.range=null;}},_setupEvents:function(){this._off(this.handles);this._on(this.handles,this._handleEvents);this._hoverable(this.handles);this._focusable(this.handles);},_destroy:function(){this.handles.remove();if(this.range){this.range.remove();}
this._mouseDestroy();},_mouseCapture:function(event){var position,normValue,distance,closestHandle,index,allowed,offset,mouseOverHandle,that=this,o=this.options;if(o.disabled){return false;}
this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();position={x:event.pageX,y:event.pageY};normValue=this._normValueFromMouse(position);distance=this._valueMax()-this._valueMin()+1;this.handles.each(function(i){var thisDistance=Math.abs(normValue-that.values(i));if((distance>thisDistance)||(distance===thisDistance&&(i===that._lastChangedValue||that.values(i)===o.min))){distance=thisDistance;closestHandle=$(this);index=i;}});allowed=this._start(event,index);if(allowed===false){return false;}
this._mouseSliding=true;this._handleIndex=index;this._addClass(closestHandle,null,"ui-state-active");closestHandle.trigger("focus");offset=closestHandle.offset();mouseOverHandle=!$(event.target).parents().addBack().is(".ui-slider-handle");this._clickOffset=mouseOverHandle?{left:0,top:0}:{left:event.pageX-offset.left-(closestHandle.width()/2),top:event.pageY-offset.top-
(closestHandle.height()/2)-
(parseInt(closestHandle.css("borderTopWidth"),10)||0)-
(parseInt(closestHandle.css("borderBottomWidth"),10)||0)+
(parseInt(closestHandle.css("marginTop"),10)||0)};if(!this.handles.hasClass("ui-state-hover")){this._slide(event,index,normValue);}
this._animateOff=true;return true;},_mouseStart:function(){return true;},_mouseDrag:function(event){var position={x:event.pageX,y:event.pageY},normValue=this._normValueFromMouse(position);this._slide(event,this._handleIndex,normValue);return false;},_mouseStop:function(event){this._removeClass(this.handles,null,"ui-state-active");this._mouseSliding=false;this._stop(event,this._handleIndex);this._change(event,this._handleIndex);this._handleIndex=null;this._clickOffset=null;this._animateOff=false;return false;},_detectOrientation:function(){this.orientation=(this.options.orientation==="vertical")?"vertical":"horizontal";},_normValueFromMouse:function(position){var pixelTotal,pixelMouse,percentMouse,valueTotal,valueMouse;if(this.orientation==="horizontal"){pixelTotal=this.elementSize.width;pixelMouse=position.x-this.elementOffset.left-
(this._clickOffset?this._clickOffset.left:0);}else{pixelTotal=this.elementSize.height;pixelMouse=position.y-this.elementOffset.top-
(this._clickOffset?this._clickOffset.top:0);}
percentMouse=(pixelMouse/pixelTotal);if(percentMouse>1){percentMouse=1;}
if(percentMouse<0){percentMouse=0;}
if(this.orientation==="vertical"){percentMouse=1-percentMouse;}
valueTotal=this._valueMax()-this._valueMin();valueMouse=this._valueMin()+percentMouse*valueTotal;return this._trimAlignValue(valueMouse);},_uiHash:function(index,value,values){var uiHash={handle:this.handles[index],handleIndex:index,value:value!==undefined?value:this.value()};if(this._hasMultipleValues()){uiHash.value=value!==undefined?value:this.values(index);uiHash.values=values||this.values();}
return uiHash;},_hasMultipleValues:function(){return this.options.values&&this.options.values.length;},_start:function(event,index){return this._trigger("start",event,this._uiHash(index));},_slide:function(event,index,newVal){var allowed,otherVal,currentValue=this.value(),newValues=this.values();if(this._hasMultipleValues()){otherVal=this.values(index?0:1);currentValue=this.values(index);if(this.options.values.length===2&&this.options.range===true){newVal=index===0?Math.min(otherVal,newVal):Math.max(otherVal,newVal);}
newValues[index]=newVal;}
if(newVal===currentValue){return;}
allowed=this._trigger("slide",event,this._uiHash(index,newVal,newValues));if(allowed===false){return;}
if(this._hasMultipleValues()){this.values(index,newVal);}else{this.value(newVal);}},_stop:function(event,index){this._trigger("stop",event,this._uiHash(index));},_change:function(event,index){if(!this._keySliding&&!this._mouseSliding){this._lastChangedValue=index;this._trigger("change",event,this._uiHash(index));}},value:function(newValue){if(arguments.length){this.options.value=this._trimAlignValue(newValue);this._refreshValue();this._change(null,0);return;}
return this._value();},values:function(index,newValue){var vals,newValues,i;if(arguments.length>1){this.options.values[index]=this._trimAlignValue(newValue);this._refreshValue();this._change(null,index);return;}
if(arguments.length){if($.isArray(arguments[0])){vals=this.options.values;newValues=arguments[0];for(i=0;i<vals.length;i+=1){vals[i]=this._trimAlignValue(newValues[i]);this._change(null,i);}
this._refreshValue();}else{if(this._hasMultipleValues()){return this._values(index);}else{return this.value();}}}else{return this._values();}},_setOption:function(key,value){var i,valsLength=0;if(key==="range"&&this.options.range===true){if(value==="min"){this.options.value=this._values(0);this.options.values=null;}else if(value==="max"){this.options.value=this._values(this.options.values.length-1);this.options.values=null;}}
if($.isArray(this.options.values)){valsLength=this.options.values.length;}
this._super(key,value);switch(key){case"orientation":this._detectOrientation();this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation);this._refreshValue();if(this.options.range){this._refreshRange(value);}
this.handles.css(value==="horizontal"?"bottom":"left","");break;case"value":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case"values":this._animateOff=true;this._refreshValue();for(i=valsLength-1;i>=0;i--){this._change(null,i);}
this._animateOff=false;break;case"step":case"min":case"max":this._animateOff=true;this._calculateNewMax();this._refreshValue();this._animateOff=false;break;case"range":this._animateOff=true;this._refresh();this._animateOff=false;break;}},_setOptionDisabled:function(value){this._super(value);this._toggleClass(null,"ui-state-disabled",!!value);},_value:function(){var val=this.options.value;val=this._trimAlignValue(val);return val;},_values:function(index){var val,vals,i;if(arguments.length){val=this.options.values[index];val=this._trimAlignValue(val);return val;}else if(this._hasMultipleValues()){vals=this.options.values.slice();for(i=0;i<vals.length;i+=1){vals[i]=this._trimAlignValue(vals[i]);}
return vals;}else{return[];}},_trimAlignValue:function(val){if(val<=this._valueMin()){return this._valueMin();}
if(val>=this._valueMax()){return this._valueMax();}
var step=(this.options.step>0)?this.options.step:1,valModStep=(val-this._valueMin())%step,alignValue=val-valModStep;if(Math.abs(valModStep)*2>=step){alignValue+=(valModStep>0)?step:(-step);}
return parseFloat(alignValue.toFixed(5));},_calculateNewMax:function(){var max=this.options.max,min=this._valueMin(),step=this.options.step,aboveMin=Math.round((max-min)/step)*step;max=aboveMin+min;if(max>this.options.max){max-=step;}
this.max=parseFloat(max.toFixed(this._precision()));},_precision:function(){var precision=this._precisionOf(this.options.step);if(this.options.min!==null){precision=Math.max(precision,this._precisionOf(this.options.min));}
return precision;},_precisionOf:function(num){var str=num.toString(),decimal=str.indexOf(".");return decimal===-1?0:str.length-decimal-1;},_valueMin:function(){return this.options.min;},_valueMax:function(){return this.max;},_refreshRange:function(orientation){if(orientation==="vertical"){this.range.css({"width":"","left":""});}
if(orientation==="horizontal"){this.range.css({"height":"","bottom":""});}},_refreshValue:function(){var lastValPercent,valPercent,value,valueMin,valueMax,oRange=this.options.range,o=this.options,that=this,animate=(!this._animateOff)?o.animate:false,_set={};if(this._hasMultipleValues()){this.handles.each(function(i){valPercent=(that.values(i)-that._valueMin())/(that._valueMax()-
that._valueMin())*100;_set[that.orientation==="horizontal"?"left":"bottom"]=valPercent+"%";$(this).stop(1,1)[animate?"animate":"css"](_set,o.animate);if(that.options.range===true){if(that.orientation==="horizontal"){if(i===0){that.range.stop(1,1)[animate?"animate":"css"]({left:valPercent+"%"},o.animate);}
if(i===1){that.range[animate?"animate":"css"]({width:(valPercent-lastValPercent)+"%"},{queue:false,duration:o.animate});}}else{if(i===0){that.range.stop(1,1)[animate?"animate":"css"]({bottom:(valPercent)+"%"},o.animate);}
if(i===1){that.range[animate?"animate":"css"]({height:(valPercent-lastValPercent)+"%"},{queue:false,duration:o.animate});}}}
lastValPercent=valPercent;});}else{value=this.value();valueMin=this._valueMin();valueMax=this._valueMax();valPercent=(valueMax!==valueMin)?(value-valueMin)/(valueMax-valueMin)*100:0;_set[this.orientation==="horizontal"?"left":"bottom"]=valPercent+"%";this.handle.stop(1,1)[animate?"animate":"css"](_set,o.animate);if(oRange==="min"&&this.orientation==="horizontal"){this.range.stop(1,1)[animate?"animate":"css"]({width:valPercent+"%"},o.animate);}
if(oRange==="max"&&this.orientation==="horizontal"){this.range.stop(1,1)[animate?"animate":"css"]({width:(100-valPercent)+"%"},o.animate);}
if(oRange==="min"&&this.orientation==="vertical"){this.range.stop(1,1)[animate?"animate":"css"]({height:valPercent+"%"},o.animate);}
if(oRange==="max"&&this.orientation==="vertical"){this.range.stop(1,1)[animate?"animate":"css"]({height:(100-valPercent)+"%"},o.animate);}}},_handleEvents:{keydown:function(event){var allowed,curVal,newVal,step,index=$(event.target).data("ui-slider-handle-index");switch(event.keyCode){case $.ui.keyCode.HOME:case $.ui.keyCode.END:case $.ui.keyCode.PAGE_UP:case $.ui.keyCode.PAGE_DOWN:case $.ui.keyCode.UP:case $.ui.keyCode.RIGHT:case $.ui.keyCode.DOWN:case $.ui.keyCode.LEFT:event.preventDefault();if(!this._keySliding){this._keySliding=true;this._addClass($(event.target),null,"ui-state-active");allowed=this._start(event,index);if(allowed===false){return;}}
break;}
step=this.options.step;if(this._hasMultipleValues()){curVal=newVal=this.values(index);}else{curVal=newVal=this.value();}
switch(event.keyCode){case $.ui.keyCode.HOME:newVal=this._valueMin();break;case $.ui.keyCode.END:newVal=this._valueMax();break;case $.ui.keyCode.PAGE_UP:newVal=this._trimAlignValue(curVal+((this._valueMax()-this._valueMin())/this.numPages));break;case $.ui.keyCode.PAGE_DOWN:newVal=this._trimAlignValue(curVal-((this._valueMax()-this._valueMin())/this.numPages));break;case $.ui.keyCode.UP:case $.ui.keyCode.RIGHT:if(curVal===this._valueMax()){return;}
newVal=this._trimAlignValue(curVal+step);break;case $.ui.keyCode.DOWN:case $.ui.keyCode.LEFT:if(curVal===this._valueMin()){return;}
newVal=this._trimAlignValue(curVal-step);break;}
this._slide(event,index,newVal);},keyup:function(event){var index=$(event.target).data("ui-slider-handle-index");if(this._keySliding){this._keySliding=false;this._stop(event,index);this._change(event,index);this._removeClass($(event.target),null,"ui-state-active");}}}});var widgetsSortable=$.widget("ui.sortable",$.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:false,options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(x,reference,size){return(x>=reference)&&(x<(reference+size));},_isFloating:function(item){return(/left|right/).test(item.css("float"))||(/inline|table-cell/).test(item.css("display"));},_create:function(){this.containerCache={};this._addClass("ui-sortable");this.refresh();this.offset=this.element.offset();this._mouseInit();this._setHandleClassName();this.ready=true;},_setOption:function(key,value){this._super(key,value);if(key==="handle"){this._setHandleClassName();}},_setHandleClassName:function(){var that=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle");$.each(this.items,function(){that._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle");});},_destroy:function(){this._mouseDestroy();for(var i=this.items.length-1;i>=0;i--){this.items[i].item.removeData(this.widgetName+"-item");}
return this;},_mouseCapture:function(event,overrideHandle){var currentItem=null,validHandle=false,that=this;if(this.reverting){return false;}
if(this.options.disabled||this.options.type==="static"){return false;}
this._refreshItems(event);$(event.target).parents().each(function(){if($.data(this,that.widgetName+"-item")===that){currentItem=$(this);return false;}});if($.data(event.target,that.widgetName+"-item")===that){currentItem=$(event.target);}
if(!currentItem){return false;}
if(this.options.handle&&!overrideHandle){$(this.options.handle,currentItem).find("*").addBack().each(function(){if(this===event.target){validHandle=true;}});if(!validHandle){return false;}}
this.currentItem=currentItem;this._removeCurrentsFromItems();return true;},_mouseStart:function(event,overrideHandle,noActivation){var i,body,o=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(event);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};$.extend(this.offset,{click:{left:event.pageX-this.offset.left,top:event.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(event);this.originalPageX=event.pageX;this.originalPageY=event.pageY;(o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt));this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};if(this.helper[0]!==this.currentItem[0]){this.currentItem.hide();}
this._createPlaceholder();if(o.containment){this._setContainment();}
if(o.cursor&&o.cursor!=="auto"){body=this.document.find("body");this.storedCursor=body.css("cursor");body.css("cursor",o.cursor);this.storedStylesheet=$("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(body);}
if(o.opacity){if(this.helper.css("opacity")){this._storedOpacity=this.helper.css("opacity");}
this.helper.css("opacity",o.opacity);}
if(o.zIndex){if(this.helper.css("zIndex")){this._storedZIndex=this.helper.css("zIndex");}
this.helper.css("zIndex",o.zIndex);}
if(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!=="HTML"){this.overflowOffset=this.scrollParent.offset();}
this._trigger("start",event,this._uiHash());if(!this._preserveHelperProportions){this._cacheHelperProportions();}
if(!noActivation){for(i=this.containers.length-1;i>=0;i--){this.containers[i]._trigger("activate",event,this._uiHash(this));}}
if($.ui.ddmanager){$.ui.ddmanager.current=this;}
if($.ui.ddmanager&&!o.dropBehaviour){$.ui.ddmanager.prepareOffsets(this,event);}
this.dragging=true;this._addClass(this.helper,"ui-sortable-helper");this._mouseDrag(event);return true;},_mouseDrag:function(event){var i,item,itemElement,intersection,o=this.options,scrolled=false;this.position=this._generatePosition(event);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs){this.lastPositionAbs=this.positionAbs;}
if(this.options.scroll){if(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!=="HTML"){if((this.overflowOffset.top+this.scrollParent[0].offsetHeight)-
event.pageY<o.scrollSensitivity){this.scrollParent[0].scrollTop=scrolled=this.scrollParent[0].scrollTop+o.scrollSpeed;}else if(event.pageY-this.overflowOffset.top<o.scrollSensitivity){this.scrollParent[0].scrollTop=scrolled=this.scrollParent[0].scrollTop-o.scrollSpeed;}
if((this.overflowOffset.left+this.scrollParent[0].offsetWidth)-
event.pageX<o.scrollSensitivity){this.scrollParent[0].scrollLeft=scrolled=this.scrollParent[0].scrollLeft+o.scrollSpeed;}else if(event.pageX-this.overflowOffset.left<o.scrollSensitivity){this.scrollParent[0].scrollLeft=scrolled=this.scrollParent[0].scrollLeft-o.scrollSpeed;}}else{if(event.pageY-this.document.scrollTop()<o.scrollSensitivity){scrolled=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed);}else if(this.window.height()-(event.pageY-this.document.scrollTop())<o.scrollSensitivity){scrolled=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed);}
if(event.pageX-this.document.scrollLeft()<o.scrollSensitivity){scrolled=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed);}else if(this.window.width()-(event.pageX-this.document.scrollLeft())<o.scrollSensitivity){scrolled=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed);}}
if(scrolled!==false&&$.ui.ddmanager&&!o.dropBehaviour){$.ui.ddmanager.prepareOffsets(this,event);}}
this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!=="y"){this.helper[0].style.left=this.position.left+"px";}
if(!this.options.axis||this.options.axis!=="x"){this.helper[0].style.top=this.position.top+"px";}
for(i=this.items.length-1;i>=0;i--){item=this.items[i];itemElement=item.item[0];intersection=this._intersectsWithPointer(item);if(!intersection){continue;}
if(item.instance!==this.currentContainer){continue;}
if(itemElement!==this.currentItem[0]&&this.placeholder[intersection===1?"next":"prev"]()[0]!==itemElement&&!$.contains(this.placeholder[0],itemElement)&&(this.options.type==="semi-dynamic"?!$.contains(this.element[0],itemElement):true)){this.direction=intersection===1?"down":"up";if(this.options.tolerance==="pointer"||this._intersectsWithSides(item)){this._rearrange(event,item);}else{break;}
this._trigger("change",event,this._uiHash());break;}}
this._contactContainers(event);if($.ui.ddmanager){$.ui.ddmanager.drag(this,event);}
this._trigger("sort",event,this._uiHash());this.lastPositionAbs=this.positionAbs;return false;},_mouseStop:function(event,noPropagation){if(!event){return;}
if($.ui.ddmanager&&!this.options.dropBehaviour){$.ui.ddmanager.drop(this,event);}
if(this.options.revert){var that=this,cur=this.placeholder.offset(),axis=this.options.axis,animation={};if(!axis||axis==="x"){animation.left=cur.left-this.offset.parent.left-this.margins.left+
(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft);}
if(!axis||axis==="y"){animation.top=cur.top-this.offset.parent.top-this.margins.top+
(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop);}
this.reverting=true;$(this.helper).animate(animation,parseInt(this.options.revert,10)||500,function(){that._clear(event);});}else{this._clear(event,noPropagation);}
return false;},cancel:function(){if(this.dragging){this._mouseUp(new $.Event("mouseup",{target:null}));if(this.options.helper==="original"){this.currentItem.css(this._storedCSS);this._removeClass(this.currentItem,"ui-sortable-helper");}else{this.currentItem.show();}
for(var i=this.containers.length-1;i>=0;i--){this.containers[i]._trigger("deactivate",null,this._uiHash(this));if(this.containers[i].containerCache.over){this.containers[i]._trigger("out",null,this._uiHash(this));this.containers[i].containerCache.over=0;}}}
if(this.placeholder){if(this.placeholder[0].parentNode){this.placeholder[0].parentNode.removeChild(this.placeholder[0]);}
if(this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode){this.helper.remove();}
$.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});if(this.domPosition.prev){$(this.domPosition.prev).after(this.currentItem);}else{$(this.domPosition.parent).prepend(this.currentItem);}}
return this;},serialize:function(o){var items=this._getItemsAsjQuery(o&&o.connected),str=[];o=o||{};$(items).each(function(){var res=($(o.item||this).attr(o.attribute||"id")||"").match(o.expression||(/(.+)[\-=_](.+)/));if(res){str.push((o.key||res[1]+"[]")+"="+(o.key&&o.expression?res[1]:res[2]));}});if(!str.length&&o.key){str.push(o.key+"=");}
return str.join("&");},toArray:function(o){var items=this._getItemsAsjQuery(o&&o.connected),ret=[];o=o||{};items.each(function(){ret.push($(o.item||this).attr(o.attribute||"id")||"");});return ret;},_intersectsWith:function(item){var x1=this.positionAbs.left,x2=x1+this.helperProportions.width,y1=this.positionAbs.top,y2=y1+this.helperProportions.height,l=item.left,r=l+item.width,t=item.top,b=t+item.height,dyClick=this.offset.click.top,dxClick=this.offset.click.left,isOverElementHeight=(this.options.axis==="x")||((y1+dyClick)>t&&(y1+dyClick)<b),isOverElementWidth=(this.options.axis==="y")||((x1+dxClick)>l&&(x1+dxClick)<r),isOverElement=isOverElementHeight&&isOverElementWidth;if(this.options.tolerance==="pointer"||this.options.forcePointerForContainers||(this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>item[this.floating?"width":"height"])){return isOverElement;}else{return(l<x1+(this.helperProportions.width/2)&&x2-(this.helperProportions.width/2)<r&&t<y1+(this.helperProportions.height/2)&&y2-(this.helperProportions.height/2)<b);}},_intersectsWithPointer:function(item){var verticalDirection,horizontalDirection,isOverElementHeight=(this.options.axis==="x")||this._isOverAxis(this.positionAbs.top+this.offset.click.top,item.top,item.height),isOverElementWidth=(this.options.axis==="y")||this._isOverAxis(this.positionAbs.left+this.offset.click.left,item.left,item.width),isOverElement=isOverElementHeight&&isOverElementWidth;if(!isOverElement){return false;}
verticalDirection=this._getDragVerticalDirection();horizontalDirection=this._getDragHorizontalDirection();return this.floating?((horizontalDirection==="right"||verticalDirection==="down")?2:1):(verticalDirection&&(verticalDirection==="down"?2:1));},_intersectsWithSides:function(item){var isOverBottomHalf=this._isOverAxis(this.positionAbs.top+
this.offset.click.top,item.top+(item.height/2),item.height),isOverRightHalf=this._isOverAxis(this.positionAbs.left+
this.offset.click.left,item.left+(item.width/2),item.width),verticalDirection=this._getDragVerticalDirection(),horizontalDirection=this._getDragHorizontalDirection();if(this.floating&&horizontalDirection){return((horizontalDirection==="right"&&isOverRightHalf)||(horizontalDirection==="left"&&!isOverRightHalf));}else{return verticalDirection&&((verticalDirection==="down"&&isOverBottomHalf)||(verticalDirection==="up"&&!isOverBottomHalf));}},_getDragVerticalDirection:function(){var delta=this.positionAbs.top-this.lastPositionAbs.top;return delta!==0&&(delta>0?"down":"up");},_getDragHorizontalDirection:function(){var delta=this.positionAbs.left-this.lastPositionAbs.left;return delta!==0&&(delta>0?"right":"left");},refresh:function(event){this._refreshItems(event);this._setHandleClassName();this.refreshPositions();return this;},_connectWith:function(){var options=this.options;return options.connectWith.constructor===String?[options.connectWith]:options.connectWith;},_getItemsAsjQuery:function(connected){var i,j,cur,inst,items=[],queries=[],connectWith=this._connectWith();if(connectWith&&connected){for(i=connectWith.length-1;i>=0;i--){cur=$(connectWith[i],this.document[0]);for(j=cur.length-1;j>=0;j--){inst=$.data(cur[j],this.widgetFullName);if(inst&&inst!==this&&!inst.options.disabled){queries.push([$.isFunction(inst.options.items)?inst.options.items.call(inst.element):$(inst.options.items,inst.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),inst]);}}}}
queries.push([$.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):$(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);function addItems(){items.push(this);}
for(i=queries.length-1;i>=0;i--){queries[i][0].each(addItems);}
return $(items);},_removeCurrentsFromItems:function(){var list=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=$.grep(this.items,function(item){for(var j=0;j<list.length;j++){if(list[j]===item.item[0]){return false;}}
return true;});},_refreshItems:function(event){this.items=[];this.containers=[this];var i,j,cur,inst,targetData,_queries,item,queriesLength,items=this.items,queries=[[$.isFunction(this.options.items)?this.options.items.call(this.element[0],event,{item:this.currentItem}):$(this.options.items,this.element),this]],connectWith=this._connectWith();if(connectWith&&this.ready){for(i=connectWith.length-1;i>=0;i--){cur=$(connectWith[i],this.document[0]);for(j=cur.length-1;j>=0;j--){inst=$.data(cur[j],this.widgetFullName);if(inst&&inst!==this&&!inst.options.disabled){queries.push([$.isFunction(inst.options.items)?inst.options.items.call(inst.element[0],event,{item:this.currentItem}):$(inst.options.items,inst.element),inst]);this.containers.push(inst);}}}}
for(i=queries.length-1;i>=0;i--){targetData=queries[i][1];_queries=queries[i][0];for(j=0,queriesLength=_queries.length;j<queriesLength;j++){item=$(_queries[j]);item.data(this.widgetName+"-item",targetData);items.push({item:item,instance:targetData,width:0,height:0,left:0,top:0});}}},refreshPositions:function(fast){this.floating=this.items.length?this.options.axis==="x"||this._isFloating(this.items[0].item):false;if(this.offsetParent&&this.helper){this.offset.parent=this._getParentOffset();}
var i,item,t,p;for(i=this.items.length-1;i>=0;i--){item=this.items[i];if(item.instance!==this.currentContainer&&this.currentContainer&&item.item[0]!==this.currentItem[0]){continue;}
t=this.options.toleranceElement?$(this.options.toleranceElement,item.item):item.item;if(!fast){item.width=t.outerWidth();item.height=t.outerHeight();}
p=t.offset();item.left=p.left;item.top=p.top;}
if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this);}else{for(i=this.containers.length-1;i>=0;i--){p=this.containers[i].element.offset();this.containers[i].containerCache.left=p.left;this.containers[i].containerCache.top=p.top;this.containers[i].containerCache.width=this.containers[i].element.outerWidth();this.containers[i].containerCache.height=this.containers[i].element.outerHeight();}}
return this;},_createPlaceholder:function(that){that=that||this;var className,o=that.options;if(!o.placeholder||o.placeholder.constructor===String){className=o.placeholder;o.placeholder={element:function(){var nodeName=that.currentItem[0].nodeName.toLowerCase(),element=$("<"+nodeName+">",that.document[0]);that._addClass(element,"ui-sortable-placeholder",className||that.currentItem[0].className)._removeClass(element,"ui-sortable-helper");if(nodeName==="tbody"){that._createTrPlaceholder(that.currentItem.find("tr").eq(0),$("<tr>",that.document[0]).appendTo(element));}else if(nodeName==="tr"){that._createTrPlaceholder(that.currentItem,element);}else if(nodeName==="img"){element.attr("src",that.currentItem.attr("src"));}
if(!className){element.css("visibility","hidden");}
return element;},update:function(container,p){if(className&&!o.forcePlaceholderSize){return;}
if(!p.height()){p.height(that.currentItem.innerHeight()-
parseInt(that.currentItem.css("paddingTop")||0,10)-
parseInt(that.currentItem.css("paddingBottom")||0,10));}
if(!p.width()){p.width(that.currentItem.innerWidth()-
parseInt(that.currentItem.css("paddingLeft")||0,10)-
parseInt(that.currentItem.css("paddingRight")||0,10));}}};}
that.placeholder=$(o.placeholder.element.call(that.element,that.currentItem));that.currentItem.after(that.placeholder);o.placeholder.update(that,that.placeholder);},_createTrPlaceholder:function(sourceTr,targetTr){var that=this;sourceTr.children().each(function(){$("<td>&#160;</td>",that.document[0]).attr("colspan",$(this).attr("colspan")||1).appendTo(targetTr);});},_contactContainers:function(event){var i,j,dist,itemWithLeastDistance,posProperty,sizeProperty,cur,nearBottom,floating,axis,innermostContainer=null,innermostIndex=null;for(i=this.containers.length-1;i>=0;i--){if($.contains(this.currentItem[0],this.containers[i].element[0])){continue;}
if(this._intersectsWith(this.containers[i].containerCache)){if(innermostContainer&&$.contains(this.containers[i].element[0],innermostContainer.element[0])){continue;}
innermostContainer=this.containers[i];innermostIndex=i;}else{if(this.containers[i].containerCache.over){this.containers[i]._trigger("out",event,this._uiHash(this));this.containers[i].containerCache.over=0;}}}
if(!innermostContainer){return;}
if(this.containers.length===1){if(!this.containers[innermostIndex].containerCache.over){this.containers[innermostIndex]._trigger("over",event,this._uiHash(this));this.containers[innermostIndex].containerCache.over=1;}}else{dist=10000;itemWithLeastDistance=null;floating=innermostContainer.floating||this._isFloating(this.currentItem);posProperty=floating?"left":"top";sizeProperty=floating?"width":"height";axis=floating?"pageX":"pageY";for(j=this.items.length-1;j>=0;j--){if(!$.contains(this.containers[innermostIndex].element[0],this.items[j].item[0])){continue;}
if(this.items[j].item[0]===this.currentItem[0]){continue;}
cur=this.items[j].item.offset()[posProperty];nearBottom=false;if(event[axis]-cur>this.items[j][sizeProperty]/2){nearBottom=true;}
if(Math.abs(event[axis]-cur)<dist){dist=Math.abs(event[axis]-cur);itemWithLeastDistance=this.items[j];this.direction=nearBottom?"up":"down";}}
if(!itemWithLeastDistance&&!this.options.dropOnEmpty){return;}
if(this.currentContainer===this.containers[innermostIndex]){if(!this.currentContainer.containerCache.over){this.containers[innermostIndex]._trigger("over",event,this._uiHash());this.currentContainer.containerCache.over=1;}
return;}
itemWithLeastDistance?this._rearrange(event,itemWithLeastDistance,null,true):this._rearrange(event,null,this.containers[innermostIndex].element,true);this._trigger("change",event,this._uiHash());this.containers[innermostIndex]._trigger("change",event,this._uiHash(this));this.currentContainer=this.containers[innermostIndex];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[innermostIndex]._trigger("over",event,this._uiHash(this));this.containers[innermostIndex].containerCache.over=1;}},_createHelper:function(event){var o=this.options,helper=$.isFunction(o.helper)?$(o.helper.apply(this.element[0],[event,this.currentItem])):(o.helper==="clone"?this.currentItem.clone():this.currentItem);if(!helper.parents("body").length){$(o.appendTo!=="parent"?o.appendTo:this.currentItem[0].parentNode)[0].appendChild(helper[0]);}
if(helper[0]===this.currentItem[0]){this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")};}
if(!helper[0].style.width||o.forceHelperSize){helper.width(this.currentItem.width());}
if(!helper[0].style.height||o.forceHelperSize){helper.height(this.currentItem.height());}
return helper;},_adjustOffsetFromHelper:function(obj){if(typeof obj==="string"){obj=obj.split(" ");}
if($.isArray(obj)){obj={left:+obj[0],top:+obj[1]||0};}
if("left"in obj){this.offset.click.left=obj.left+this.margins.left;}
if("right"in obj){this.offset.click.left=this.helperProportions.width-obj.right+this.margins.left;}
if("top"in obj){this.offset.click.top=obj.top+this.margins.top;}
if("bottom"in obj){this.offset.click.top=this.helperProportions.height-obj.bottom+this.margins.top;}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var po=this.offsetParent.offset();if(this.cssPosition==="absolute"&&this.scrollParent[0]!==this.document[0]&&$.contains(this.scrollParent[0],this.offsetParent[0])){po.left+=this.scrollParent.scrollLeft();po.top+=this.scrollParent.scrollTop();}
if(this.offsetParent[0]===this.document[0].body||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&$.ui.ie)){po={top:0,left:0};}
return{top:po.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:po.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)};},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var p=this.currentItem.position();return{top:p.top-(parseInt(this.helper.css("top"),10)||0)+
this.scrollParent.scrollTop(),left:p.left-(parseInt(this.helper.css("left"),10)||0)+
this.scrollParent.scrollLeft()};}else{return{top:0,left:0};}},_cacheMargins:function(){this.margins={left:(parseInt(this.currentItem.css("marginLeft"),10)||0),top:(parseInt(this.currentItem.css("marginTop"),10)||0)};},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()};},_setContainment:function(){var ce,co,over,o=this.options;if(o.containment==="parent"){o.containment=this.helper[0].parentNode;}
if(o.containment==="document"||o.containment==="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,o.containment==="document"?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,(o.containment==="document"?(this.document.height()||document.body.parentNode.scrollHeight):this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];}
if(!(/^(document|window|parent)$/).test(o.containment)){ce=$(o.containment)[0];co=$(o.containment).offset();over=($(ce).css("overflow")!=="hidden");this.containment=[co.left+(parseInt($(ce).css("borderLeftWidth"),10)||0)+
(parseInt($(ce).css("paddingLeft"),10)||0)-this.margins.left,co.top+(parseInt($(ce).css("borderTopWidth"),10)||0)+
(parseInt($(ce).css("paddingTop"),10)||0)-this.margins.top,co.left+(over?Math.max(ce.scrollWidth,ce.offsetWidth):ce.offsetWidth)-
(parseInt($(ce).css("borderLeftWidth"),10)||0)-
(parseInt($(ce).css("paddingRight"),10)||0)-
this.helperProportions.width-this.margins.left,co.top+(over?Math.max(ce.scrollHeight,ce.offsetHeight):ce.offsetHeight)-
(parseInt($(ce).css("borderTopWidth"),10)||0)-
(parseInt($(ce).css("paddingBottom"),10)||0)-
this.helperProportions.height-this.margins.top];}},_convertPositionTo:function(d,pos){if(!pos){pos=this.position;}
var mod=d==="absolute"?1:-1,scroll=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==this.document[0]&&$.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,scrollIsRootNode=(/(html|body)/i).test(scroll[0].tagName);return{top:(pos.top+
this.offset.relative.top*mod+
this.offset.parent.top*mod-
((this.cssPosition==="fixed"?-this.scrollParent.scrollTop():(scrollIsRootNode?0:scroll.scrollTop()))*mod)),left:(pos.left+
this.offset.relative.left*mod+
this.offset.parent.left*mod-
((this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():scrollIsRootNode?0:scroll.scrollLeft())*mod))};},_generatePosition:function(event){var top,left,o=this.options,pageX=event.pageX,pageY=event.pageY,scroll=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==this.document[0]&&$.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,scrollIsRootNode=(/(html|body)/i).test(scroll[0].tagName);if(this.cssPosition==="relative"&&!(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0])){this.offset.relative=this._getRelativeOffset();}
if(this.originalPosition){if(this.containment){if(event.pageX-this.offset.click.left<this.containment[0]){pageX=this.containment[0]+this.offset.click.left;}
if(event.pageY-this.offset.click.top<this.containment[1]){pageY=this.containment[1]+this.offset.click.top;}
if(event.pageX-this.offset.click.left>this.containment[2]){pageX=this.containment[2]+this.offset.click.left;}
if(event.pageY-this.offset.click.top>this.containment[3]){pageY=this.containment[3]+this.offset.click.top;}}
if(o.grid){top=this.originalPageY+Math.round((pageY-this.originalPageY)/o.grid[1])*o.grid[1];pageY=this.containment?((top-this.offset.click.top>=this.containment[1]&&top-this.offset.click.top<=this.containment[3])?top:((top-this.offset.click.top>=this.containment[1])?top-o.grid[1]:top+o.grid[1])):top;left=this.originalPageX+Math.round((pageX-this.originalPageX)/o.grid[0])*o.grid[0];pageX=this.containment?((left-this.offset.click.left>=this.containment[0]&&left-this.offset.click.left<=this.containment[2])?left:((left-this.offset.click.left>=this.containment[0])?left-o.grid[0]:left+o.grid[0])):left;}}
return{top:(pageY-
this.offset.click.top-
this.offset.relative.top-
this.offset.parent.top+
((this.cssPosition==="fixed"?-this.scrollParent.scrollTop():(scrollIsRootNode?0:scroll.scrollTop())))),left:(pageX-
this.offset.click.left-
this.offset.relative.left-
this.offset.parent.left+
((this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():scrollIsRootNode?0:scroll.scrollLeft())))};},_rearrange:function(event,i,a,hardRefresh){a?a[0].appendChild(this.placeholder[0]):i.item[0].parentNode.insertBefore(this.placeholder[0],(this.direction==="down"?i.item[0]:i.item[0].nextSibling));this.counter=this.counter?++this.counter:1;var counter=this.counter;this._delay(function(){if(counter===this.counter){this.refreshPositions(!hardRefresh);}});},_clear:function(event,noPropagation){this.reverting=false;var i,delayedTriggers=[];if(!this._noFinalSort&&this.currentItem.parent().length){this.placeholder.before(this.currentItem);}
this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(i in this._storedCSS){if(this._storedCSS[i]==="auto"||this._storedCSS[i]==="static"){this._storedCSS[i]="";}}
this.currentItem.css(this._storedCSS);this._removeClass(this.currentItem,"ui-sortable-helper");}else{this.currentItem.show();}
if(this.fromOutside&&!noPropagation){delayedTriggers.push(function(event){this._trigger("receive",event,this._uiHash(this.fromOutside));});}
if((this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!noPropagation){delayedTriggers.push(function(event){this._trigger("update",event,this._uiHash());});}
if(this!==this.currentContainer){if(!noPropagation){delayedTriggers.push(function(event){this._trigger("remove",event,this._uiHash());});delayedTriggers.push((function(c){return function(event){c._trigger("receive",event,this._uiHash(this));};}).call(this,this.currentContainer));delayedTriggers.push((function(c){return function(event){c._trigger("update",event,this._uiHash(this));};}).call(this,this.currentContainer));}}
function delayEvent(type,instance,container){return function(event){container._trigger(type,event,instance._uiHash(instance));};}
for(i=this.containers.length-1;i>=0;i--){if(!noPropagation){delayedTriggers.push(delayEvent("deactivate",this,this.containers[i]));}
if(this.containers[i].containerCache.over){delayedTriggers.push(delayEvent("out",this,this.containers[i]));this.containers[i].containerCache.over=0;}}
if(this.storedCursor){this.document.find("body").css("cursor",this.storedCursor);this.storedStylesheet.remove();}
if(this._storedOpacity){this.helper.css("opacity",this._storedOpacity);}
if(this._storedZIndex){this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex);}
this.dragging=false;if(!noPropagation){this._trigger("beforeStop",event,this._uiHash());}
this.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(!this.cancelHelperRemoval){if(this.helper[0]!==this.currentItem[0]){this.helper.remove();}
this.helper=null;}
if(!noPropagation){for(i=0;i<delayedTriggers.length;i++){delayedTriggers[i].call(this,event);}
this._trigger("stop",event,this._uiHash());}
this.fromOutside=false;return!this.cancelHelperRemoval;},_trigger:function(){if($.Widget.prototype._trigger.apply(this,arguments)===false){this.cancel();}},_uiHash:function(_inst){var inst=_inst||this;return{helper:inst.helper,placeholder:inst.placeholder||$([]),position:inst.position,originalPosition:inst.originalPosition,offset:inst.positionAbs,item:inst.currentItem,sender:_inst?_inst.element:null};}});function spinnerModifer(fn){return function(){var previous=this.element.val();fn.apply(this,arguments);this._refresh();if(previous!==this.element.val()){this._trigger("change");}};}
$.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:true,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max);this._setOption("min",this.options.min);this._setOption("step",this.options.step);if(this.value()!==""){this._value(this.element.val(),true);}
this._draw();this._on(this._events);this._refresh();this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete");}});},_getCreateOptions:function(){var options=this._super();var element=this.element;$.each(["min","max","step"],function(i,option){var value=element.attr(option);if(value!=null&&value.length){options[option]=value;}});return options;},_events:{keydown:function(event){if(this._start(event)&&this._keydown(event)){event.preventDefault();}},keyup:"_stop",focus:function(){this.previous=this.element.val();},blur:function(event){if(this.cancelBlur){delete this.cancelBlur;return;}
this._stop();this._refresh();if(this.previous!==this.element.val()){this._trigger("change",event);}},mousewheel:function(event,delta){if(!delta){return;}
if(!this.spinning&&!this._start(event)){return false;}
this._spin((delta>0?1:-1)*this.options.step,event);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this._delay(function(){if(this.spinning){this._stop(event);}},100);event.preventDefault();},"mousedown .ui-spinner-button":function(event){var previous;previous=this.element[0]===$.ui.safeActiveElement(this.document[0])?this.previous:this.element.val();function checkFocus(){var isActive=this.element[0]===$.ui.safeActiveElement(this.document[0]);if(!isActive){this.element.trigger("focus");this.previous=previous;this._delay(function(){this.previous=previous;});}}
event.preventDefault();checkFocus.call(this);this.cancelBlur=true;this._delay(function(){delete this.cancelBlur;checkFocus.call(this);});if(this._start(event)===false){return;}
this._repeat(null,$(event.currentTarget).hasClass("ui-spinner-up")?1:-1,event);},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(event){if(!$(event.currentTarget).hasClass("ui-state-active")){return;}
if(this._start(event)===false){return false;}
this._repeat(null,$(event.currentTarget).hasClass("ui-spinner-up")?1:-1,event);},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>");},_draw:function(){this._enhance();this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content");this._addClass("ui-spinner-input");this.element.attr("role","spinbutton");this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",true).button({classes:{"ui-button":""}});this._removeClass(this.buttons,"ui-corner-all");this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up");this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down");this.buttons.first().button({"icon":this.options.icons.up,"showLabel":false});this.buttons.last().button({"icon":this.options.icons.down,"showLabel":false});if(this.buttons.height()>Math.ceil(this.uiSpinner.height()*0.5)&&this.uiSpinner.height()>0){this.uiSpinner.height(this.uiSpinner.height());}},_keydown:function(event){var options=this.options,keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.UP:this._repeat(null,1,event);return true;case keyCode.DOWN:this._repeat(null,-1,event);return true;case keyCode.PAGE_UP:this._repeat(null,options.page,event);return true;case keyCode.PAGE_DOWN:this._repeat(null,-options.page,event);return true;}
return false;},_start:function(event){if(!this.spinning&&this._trigger("start",event)===false){return false;}
if(!this.counter){this.counter=1;}
this.spinning=true;return true;},_repeat:function(i,steps,event){i=i||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,steps,event);},i);this._spin(steps*this.options.step,event);},_spin:function(step,event){var value=this.value()||0;if(!this.counter){this.counter=1;}
value=this._adjustValue(value+step*this._increment(this.counter));if(!this.spinning||this._trigger("spin",event,{value:value})!==false){this._value(value);this.counter++;}},_increment:function(i){var incremental=this.options.incremental;if(incremental){return $.isFunction(incremental)?incremental(i):Math.floor(i*i*i/50000-i*i/500+17*i/200+1);}
return 1;},_precision:function(){var precision=this._precisionOf(this.options.step);if(this.options.min!==null){precision=Math.max(precision,this._precisionOf(this.options.min));}
return precision;},_precisionOf:function(num){var str=num.toString(),decimal=str.indexOf(".");return decimal===-1?0:str.length-decimal-1;},_adjustValue:function(value){var base,aboveMin,options=this.options;base=options.min!==null?options.min:0;aboveMin=value-base;aboveMin=Math.round(aboveMin/options.step)*options.step;value=base+aboveMin;value=parseFloat(value.toFixed(this._precision()));if(options.max!==null&&value>options.max){return options.max;}
if(options.min!==null&&value<options.min){return options.min;}
return value;},_stop:function(event){if(!this.spinning){return;}
clearTimeout(this.timer);clearTimeout(this.mousewheelTimer);this.counter=0;this.spinning=false;this._trigger("stop",event);},_setOption:function(key,value){var prevValue,first,last;if(key==="culture"||key==="numberFormat"){prevValue=this._parse(this.element.val());this.options[key]=value;this.element.val(this._format(prevValue));return;}
if(key==="max"||key==="min"||key==="step"){if(typeof value==="string"){value=this._parse(value);}}
if(key==="icons"){first=this.buttons.first().find(".ui-icon");this._removeClass(first,null,this.options.icons.up);this._addClass(first,null,value.up);last=this.buttons.last().find(".ui-icon");this._removeClass(last,null,this.options.icons.down);this._addClass(last,null,value.down);}
this._super(key,value);},_setOptionDisabled:function(value){this._super(value);this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!value);this.element.prop("disabled",!!value);this.buttons.button(value?"disable":"enable");},_setOptions:spinnerModifer(function(options){this._super(options);}),_parse:function(val){if(typeof val==="string"&&val!==""){val=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(val,10,this.options.culture):+val;}
return val===""||isNaN(val)?null:val;},_format:function(value){if(value===""){return"";}
return window.Globalize&&this.options.numberFormat?Globalize.format(value,this.options.numberFormat,this.options.culture):value;},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())});},isValid:function(){var value=this.value();if(value===null){return false;}
return value===this._adjustValue(value);},_value:function(value,allowAny){var parsed;if(value!==""){parsed=this._parse(value);if(parsed!==null){if(!allowAny){parsed=this._adjustValue(parsed);}
value=this._format(parsed);}}
this.element.val(value);this._refresh();},_destroy:function(){this.element.prop("disabled",false).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow");this.uiSpinner.replaceWith(this.element);},stepUp:spinnerModifer(function(steps){this._stepUp(steps);}),_stepUp:function(steps){if(this._start()){this._spin((steps||1)*this.options.step);this._stop();}},stepDown:spinnerModifer(function(steps){this._stepDown(steps);}),_stepDown:function(steps){if(this._start()){this._spin((steps||1)*-this.options.step);this._stop();}},pageUp:spinnerModifer(function(pages){this._stepUp((pages||1)*this.options.page);}),pageDown:spinnerModifer(function(pages){this._stepDown((pages||1)*this.options.page);}),value:function(newVal){if(!arguments.length){return this._parse(this.element.val());}
spinnerModifer(this._value).call(this,newVal);},widget:function(){return this.uiSpinner;}});if($.uiBackCompat!==false){$.widget("ui.spinner",$.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());},_uiSpinnerHtml:function(){return"<span>";},_buttonHtml:function(){return"<a></a><a></a>";}});}
var widgetsSpinner=$.ui.spinner;$.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:false,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(function(){var rhash=/#.*$/;return function(anchor){var anchorUrl,locationUrl;anchorUrl=anchor.href.replace(rhash,"");locationUrl=location.href.replace(rhash,"");try{anchorUrl=decodeURIComponent(anchorUrl);}catch(error){}
try{locationUrl=decodeURIComponent(locationUrl);}catch(error){}
return anchor.hash.length>1&&anchorUrl===locationUrl;};})(),_create:function(){var that=this,options=this.options;this.running=false;this._addClass("ui-tabs","ui-widget ui-widget-content");this._toggleClass("ui-tabs-collapsible",null,options.collapsible);this._processTabs();options.active=this._initialActive();if($.isArray(options.disabled)){options.disabled=$.unique(options.disabled.concat($.map(this.tabs.filter(".ui-state-disabled"),function(li){return that.tabs.index(li);}))).sort();}
if(this.options.active!==false&&this.anchors.length){this.active=this._findActive(options.active);}else{this.active=$();}
this._refresh();if(this.active.length){this.load(options.active);}},_initialActive:function(){var active=this.options.active,collapsible=this.options.collapsible,locationHash=location.hash.substring(1);if(active===null){if(locationHash){this.tabs.each(function(i,tab){if($(tab).attr("aria-controls")===locationHash){active=i;return false;}});}
if(active===null){active=this.tabs.index(this.tabs.filter(".ui-tabs-active"));}
if(active===null||active===-1){active=this.tabs.length?0:false;}}
if(active!==false){active=this.tabs.index(this.tabs.eq(active));if(active===-1){active=collapsible?false:0;}}
if(!collapsible&&active===false&&this.anchors.length){active=0;}
return active;},_getCreateEventData:function(){return{tab:this.active,panel:!this.active.length?$():this._getPanelForTab(this.active)};},_tabKeydown:function(event){var focusedTab=$($.ui.safeActiveElement(this.document[0])).closest("li"),selectedIndex=this.tabs.index(focusedTab),goingForward=true;if(this._handlePageNav(event)){return;}
switch(event.keyCode){case $.ui.keyCode.RIGHT:case $.ui.keyCode.DOWN:selectedIndex++;break;case $.ui.keyCode.UP:case $.ui.keyCode.LEFT:goingForward=false;selectedIndex--;break;case $.ui.keyCode.END:selectedIndex=this.anchors.length-1;break;case $.ui.keyCode.HOME:selectedIndex=0;break;case $.ui.keyCode.SPACE:event.preventDefault();clearTimeout(this.activating);this._activate(selectedIndex);return;case $.ui.keyCode.ENTER:event.preventDefault();clearTimeout(this.activating);this._activate(selectedIndex===this.options.active?false:selectedIndex);return;default:return;}
event.preventDefault();clearTimeout(this.activating);selectedIndex=this._focusNextTab(selectedIndex,goingForward);if(!event.ctrlKey&&!event.metaKey){focusedTab.attr("aria-selected","false");this.tabs.eq(selectedIndex).attr("aria-selected","true");this.activating=this._delay(function(){this.option("active",selectedIndex);},this.delay);}},_panelKeydown:function(event){if(this._handlePageNav(event)){return;}
if(event.ctrlKey&&event.keyCode===$.ui.keyCode.UP){event.preventDefault();this.active.trigger("focus");}},_handlePageNav:function(event){if(event.altKey&&event.keyCode===$.ui.keyCode.PAGE_UP){this._activate(this._focusNextTab(this.options.active-1,false));return true;}
if(event.altKey&&event.keyCode===$.ui.keyCode.PAGE_DOWN){this._activate(this._focusNextTab(this.options.active+1,true));return true;}},_findNextTab:function(index,goingForward){var lastTabIndex=this.tabs.length-1;function constrain(){if(index>lastTabIndex){index=0;}
if(index<0){index=lastTabIndex;}
return index;}
while($.inArray(constrain(),this.options.disabled)!==-1){index=goingForward?index+1:index-1;}
return index;},_focusNextTab:function(index,goingForward){index=this._findNextTab(index,goingForward);this.tabs.eq(index).trigger("focus");return index;},_setOption:function(key,value){if(key==="active"){this._activate(value);return;}
this._super(key,value);if(key==="collapsible"){this._toggleClass("ui-tabs-collapsible",null,value);if(!value&&this.options.active===false){this._activate(0);}}
if(key==="event"){this._setupEvents(value);}
if(key==="heightStyle"){this._setupHeightStyle(value);}},_sanitizeSelector:function(hash){return hash?hash.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):"";},refresh:function(){var options=this.options,lis=this.tablist.children(":has(a[href])");options.disabled=$.map(lis.filter(".ui-state-disabled"),function(tab){return lis.index(tab);});this._processTabs();if(options.active===false||!this.anchors.length){options.active=false;this.active=$();}else if(this.active.length&&!$.contains(this.tablist[0],this.active[0])){if(this.tabs.length===options.disabled.length){options.active=false;this.active=$();}else{this._activate(this._findNextTab(Math.max(0,options.active-1),false));}}else{options.active=this.tabs.index(this.active);}
this._refresh();},_refresh:function(){this._setOptionDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"});if(!this.active.length){this.tabs.eq(0).attr("tabIndex",0);}else{this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0});this._addClass(this.active,"ui-tabs-active","ui-state-active");this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"});}},_processTabs:function(){var that=this,prevTabs=this.tabs,prevAnchors=this.anchors,prevPanels=this.panels;this.tablist=this._getList().attr("role","tablist");this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header");this.tablist.on("mousedown"+this.eventNamespace,"> li",function(event){if($(this).is(".ui-state-disabled")){event.preventDefault();}}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){if($(this).closest("li").is(".ui-state-disabled")){this.blur();}});this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1});this._addClass(this.tabs,"ui-tabs-tab","ui-state-default");this.anchors=this.tabs.map(function(){return $("a",this)[0];}).attr({role:"presentation",tabIndex:-1});this._addClass(this.anchors,"ui-tabs-anchor");this.panels=$();this.anchors.each(function(i,anchor){var selector,panel,panelId,anchorId=$(anchor).uniqueId().attr("id"),tab=$(anchor).closest("li"),originalAriaControls=tab.attr("aria-controls");if(that._isLocal(anchor)){selector=anchor.hash;panelId=selector.substring(1);panel=that.element.find(that._sanitizeSelector(selector));}else{panelId=tab.attr("aria-controls")||$({}).uniqueId()[0].id;selector="#"+panelId;panel=that.element.find(selector);if(!panel.length){panel=that._createPanel(panelId);panel.insertAfter(that.panels[i-1]||that.tablist);}
panel.attr("aria-live","polite");}
if(panel.length){that.panels=that.panels.add(panel);}
if(originalAriaControls){tab.data("ui-tabs-aria-controls",originalAriaControls);}
tab.attr({"aria-controls":panelId,"aria-labelledby":anchorId});panel.attr("aria-labelledby",anchorId);});this.panels.attr("role","tabpanel");this._addClass(this.panels,"ui-tabs-panel","ui-widget-content");if(prevTabs){this._off(prevTabs.not(this.tabs));this._off(prevAnchors.not(this.anchors));this._off(prevPanels.not(this.panels));}},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0);},_createPanel:function(id){return $("<div>").attr("id",id).data("ui-tabs-destroy",true);},_setOptionDisabled:function(disabled){var currentItem,li,i;if($.isArray(disabled)){if(!disabled.length){disabled=false;}else if(disabled.length===this.anchors.length){disabled=true;}}
for(i=0;(li=this.tabs[i]);i++){currentItem=$(li);if(disabled===true||$.inArray(i,disabled)!==-1){currentItem.attr("aria-disabled","true");this._addClass(currentItem,null,"ui-state-disabled");}else{currentItem.removeAttr("aria-disabled");this._removeClass(currentItem,null,"ui-state-disabled");}}
this.options.disabled=disabled;this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,disabled===true);},_setupEvents:function(event){var events={};if(event){$.each(event.split(" "),function(index,eventName){events[eventName]="_eventHandler";});}
this._off(this.anchors.add(this.tabs).add(this.panels));this._on(true,this.anchors,{click:function(event){event.preventDefault();}});this._on(this.anchors,events);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs);},_setupHeightStyle:function(heightStyle){var maxHeight,parent=this.element.parent();if(heightStyle==="fill"){maxHeight=parent.height();maxHeight-=this.element.outerHeight()-this.element.height();this.element.siblings(":visible").each(function(){var elem=$(this),position=elem.css("position");if(position==="absolute"||position==="fixed"){return;}
maxHeight-=elem.outerHeight(true);});this.element.children().not(this.panels).each(function(){maxHeight-=$(this).outerHeight(true);});this.panels.each(function(){$(this).height(Math.max(0,maxHeight-
$(this).innerHeight()+$(this).height()));}).css("overflow","auto");}else if(heightStyle==="auto"){maxHeight=0;this.panels.each(function(){maxHeight=Math.max(maxHeight,$(this).height("").height());}).height(maxHeight);}},_eventHandler:function(event){var options=this.options,active=this.active,anchor=$(event.currentTarget),tab=anchor.closest("li"),clickedIsActive=tab[0]===active[0],collapsing=clickedIsActive&&options.collapsible,toShow=collapsing?$():this._getPanelForTab(tab),toHide=!active.length?$():this._getPanelForTab(active),eventData={oldTab:active,oldPanel:toHide,newTab:collapsing?$():tab,newPanel:toShow};event.preventDefault();if(tab.hasClass("ui-state-disabled")||tab.hasClass("ui-tabs-loading")||this.running||(clickedIsActive&&!options.collapsible)||(this._trigger("beforeActivate",event,eventData)===false)){return;}
options.active=collapsing?false:this.tabs.index(tab);this.active=clickedIsActive?$():tab;if(this.xhr){this.xhr.abort();}
if(!toHide.length&&!toShow.length){$.error("jQuery UI Tabs: Mismatching fragment identifier.");}
if(toShow.length){this.load(this.tabs.index(tab),event);}
this._toggle(event,eventData);},_toggle:function(event,eventData){var that=this,toShow=eventData.newPanel,toHide=eventData.oldPanel;this.running=true;function complete(){that.running=false;that._trigger("activate",event,eventData);}
function show(){that._addClass(eventData.newTab.closest("li"),"ui-tabs-active","ui-state-active");if(toShow.length&&that.options.show){that._show(toShow,that.options.show,complete);}else{toShow.show();complete();}}
if(toHide.length&&this.options.hide){this._hide(toHide,this.options.hide,function(){that._removeClass(eventData.oldTab.closest("li"),"ui-tabs-active","ui-state-active");show();});}else{this._removeClass(eventData.oldTab.closest("li"),"ui-tabs-active","ui-state-active");toHide.hide();show();}
toHide.attr("aria-hidden","true");eventData.oldTab.attr({"aria-selected":"false","aria-expanded":"false"});if(toShow.length&&toHide.length){eventData.oldTab.attr("tabIndex",-1);}else if(toShow.length){this.tabs.filter(function(){return $(this).attr("tabIndex")===0;}).attr("tabIndex",-1);}
toShow.attr("aria-hidden","false");eventData.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0});},_activate:function(index){var anchor,active=this._findActive(index);if(active[0]===this.active[0]){return;}
if(!active.length){active=this.active;}
anchor=active.find(".ui-tabs-anchor")[0];this._eventHandler({target:anchor,currentTarget:anchor,preventDefault:$.noop});},_findActive:function(index){return index===false?$():this.tabs.eq(index);},_getIndex:function(index){if(typeof index==="string"){index=this.anchors.index(this.anchors.filter("[href$='"+
$.ui.escapeSelector(index)+"']"));}
return index;},_destroy:function(){if(this.xhr){this.xhr.abort();}
this.tablist.removeAttr("role").off(this.eventNamespace);this.anchors.removeAttr("role tabIndex").removeUniqueId();this.tabs.add(this.panels).each(function(){if($.data(this,"ui-tabs-destroy")){$(this).remove();}else{$(this).removeAttr("role tabIndex "+"aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded");}});this.tabs.each(function(){var li=$(this),prev=li.data("ui-tabs-aria-controls");if(prev){li.attr("aria-controls",prev).removeData("ui-tabs-aria-controls");}else{li.removeAttr("aria-controls");}});this.panels.show();if(this.options.heightStyle!=="content"){this.panels.css("height","");}},enable:function(index){var disabled=this.options.disabled;if(disabled===false){return;}
if(index===undefined){disabled=false;}else{index=this._getIndex(index);if($.isArray(disabled)){disabled=$.map(disabled,function(num){return num!==index?num:null;});}else{disabled=$.map(this.tabs,function(li,num){return num!==index?num:null;});}}
this._setOptionDisabled(disabled);},disable:function(index){var disabled=this.options.disabled;if(disabled===true){return;}
if(index===undefined){disabled=true;}else{index=this._getIndex(index);if($.inArray(index,disabled)!==-1){return;}
if($.isArray(disabled)){disabled=$.merge([index],disabled).sort();}else{disabled=[index];}}
this._setOptionDisabled(disabled);},load:function(index,event){index=this._getIndex(index);var that=this,tab=this.tabs.eq(index),anchor=tab.find(".ui-tabs-anchor"),panel=this._getPanelForTab(tab),eventData={tab:tab,panel:panel},complete=function(jqXHR,status){if(status==="abort"){that.panels.stop(false,true);}
that._removeClass(tab,"ui-tabs-loading");panel.removeAttr("aria-busy");if(jqXHR===that.xhr){delete that.xhr;}};if(this._isLocal(anchor[0])){return;}
this.xhr=$.ajax(this._ajaxSettings(anchor,event,eventData));if(this.xhr&&this.xhr.statusText!=="canceled"){this._addClass(tab,"ui-tabs-loading");panel.attr("aria-busy","true");this.xhr.done(function(response,status,jqXHR){setTimeout(function(){panel.html(response);that._trigger("load",event,eventData);complete(jqXHR,status);},1);}).fail(function(jqXHR,status){setTimeout(function(){complete(jqXHR,status);},1);});}},_ajaxSettings:function(anchor,event,eventData){var that=this;return{url:anchor.attr("href").replace(/#.*$/,""),beforeSend:function(jqXHR,settings){return that._trigger("beforeLoad",event,$.extend({jqXHR:jqXHR,ajaxSettings:settings},eventData));}};},_getPanelForTab:function(tab){var id=$(tab).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+id));}});if($.uiBackCompat!==false){$.widget("ui.tabs",$.ui.tabs,{_processTabs:function(){this._superApply(arguments);this._addClass(this.tabs,"ui-tab");}});}
var widgetsTabs=$.ui.tabs;$.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var title=$(this).attr("title")||"";return $("<a>").text(title).html();},hide:true,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:true,track:false,close:null,open:null},_addDescribedBy:function(elem,id){var describedby=(elem.attr("aria-describedby")||"").split(/\s+/);describedby.push(id);elem.data("ui-tooltip-id",id).attr("aria-describedby",$.trim(describedby.join(" ")));},_removeDescribedBy:function(elem){var id=elem.data("ui-tooltip-id"),describedby=(elem.attr("aria-describedby")||"").split(/\s+/),index=$.inArray(id,describedby);if(index!==-1){describedby.splice(index,1);}
elem.removeData("ui-tooltip-id");describedby=$.trim(describedby.join(" "));if(describedby){elem.attr("aria-describedby",describedby);}else{elem.removeAttr("aria-describedby");}},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};this.liveRegion=$("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body);this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible");this.disabledTitles=$([]);},_setOption:function(key,value){var that=this;this._super(key,value);if(key==="content"){$.each(this.tooltips,function(id,tooltipData){that._updateContent(tooltipData.element);});}},_setOptionDisabled:function(value){this[value?"_disable":"_enable"]();},_disable:function(){var that=this;$.each(this.tooltips,function(id,tooltipData){var event=$.Event("blur");event.target=event.currentTarget=tooltipData.element[0];that.close(event,true);});this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var element=$(this);if(element.is("[title]")){return element.data("ui-tooltip-title",element.attr("title")).removeAttr("title");}}));},_enable:function(){this.disabledTitles.each(function(){var element=$(this);if(element.data("ui-tooltip-title")){element.attr("title",element.data("ui-tooltip-title"));}});this.disabledTitles=$([]);},open:function(event){var that=this,target=$(event?event.target:this.element).closest(this.options.items);if(!target.length||target.data("ui-tooltip-id")){return;}
if(target.attr("title")){target.data("ui-tooltip-title",target.attr("title"));}
target.data("ui-tooltip-open",true);if(event&&event.type==="mouseover"){target.parents().each(function(){var parent=$(this),blurEvent;if(parent.data("ui-tooltip-open")){blurEvent=$.Event("blur");blurEvent.target=blurEvent.currentTarget=this;that.close(blurEvent,true);}
if(parent.attr("title")){parent.uniqueId();that.parents[this.id]={element:this,title:parent.attr("title")};parent.attr("title","");}});}
this._registerCloseHandlers(event,target);this._updateContent(target,event);},_updateContent:function(target,event){var content,contentOption=this.options.content,that=this,eventType=event?event.type:null;if(typeof contentOption==="string"||contentOption.nodeType||contentOption.jquery){return this._open(event,target,contentOption);}
content=contentOption.call(target[0],function(response){that._delay(function(){if(!target.data("ui-tooltip-open")){return;}
if(event){event.type=eventType;}
this._open(event,target,response);});});if(content){this._open(event,target,content);}},_open:function(event,target,content){var tooltipData,tooltip,delayedShow,a11yContent,positionOption=$.extend({},this.options.position);if(!content){return;}
tooltipData=this._find(target);if(tooltipData){tooltipData.tooltip.find(".ui-tooltip-content").html(content);return;}
if(target.is("[title]")){if(event&&event.type==="mouseover"){target.attr("title","");}else{target.removeAttr("title");}}
tooltipData=this._tooltip(target);tooltip=tooltipData.tooltip;this._addDescribedBy(target,tooltip.attr("id"));tooltip.find(".ui-tooltip-content").html(content);this.liveRegion.children().hide();a11yContent=$("<div>").html(tooltip.find(".ui-tooltip-content").html());a11yContent.removeAttr("name").find("[name]").removeAttr("name");a11yContent.removeAttr("id").find("[id]").removeAttr("id");a11yContent.appendTo(this.liveRegion);function position(event){positionOption.of=event;if(tooltip.is(":hidden")){return;}
tooltip.position(positionOption);}
if(this.options.track&&event&&/^mouse/.test(event.type)){this._on(this.document,{mousemove:position});position(event);}else{tooltip.position($.extend({of:target},this.options.position));}
tooltip.hide();this._show(tooltip,this.options.show);if(this.options.track&&this.options.show&&this.options.show.delay){delayedShow=this.delayedShow=setInterval(function(){if(tooltip.is(":visible")){position(positionOption.of);clearInterval(delayedShow);}},$.fx.interval);}
this._trigger("open",event,{tooltip:tooltip});},_registerCloseHandlers:function(event,target){var events={keyup:function(event){if(event.keyCode===$.ui.keyCode.ESCAPE){var fakeEvent=$.Event(event);fakeEvent.currentTarget=target[0];this.close(fakeEvent,true);}}};if(target[0]!==this.element[0]){events.remove=function(){this._removeTooltip(this._find(target).tooltip);};}
if(!event||event.type==="mouseover"){events.mouseleave="close";}
if(!event||event.type==="focusin"){events.focusout="close";}
this._on(true,target,events);},close:function(event){var tooltip,that=this,target=$(event?event.currentTarget:this.element),tooltipData=this._find(target);if(!tooltipData){target.removeData("ui-tooltip-open");return;}
tooltip=tooltipData.tooltip;if(tooltipData.closing){return;}
clearInterval(this.delayedShow);if(target.data("ui-tooltip-title")&&!target.attr("title")){target.attr("title",target.data("ui-tooltip-title"));}
this._removeDescribedBy(target);tooltipData.hiding=true;tooltip.stop(true);this._hide(tooltip,this.options.hide,function(){that._removeTooltip($(this));});target.removeData("ui-tooltip-open");this._off(target,"mouseleave focusout keyup");if(target[0]!==this.element[0]){this._off(target,"remove");}
this._off(this.document,"mousemove");if(event&&event.type==="mouseleave"){$.each(this.parents,function(id,parent){$(parent.element).attr("title",parent.title);delete that.parents[id];});}
tooltipData.closing=true;this._trigger("close",event,{tooltip:tooltip});if(!tooltipData.hiding){tooltipData.closing=false;}},_tooltip:function(element){var tooltip=$("<div>").attr("role","tooltip"),content=$("<div>").appendTo(tooltip),id=tooltip.uniqueId().attr("id");this._addClass(content,"ui-tooltip-content");this._addClass(tooltip,"ui-tooltip","ui-widget ui-widget-content");tooltip.appendTo(this._appendTo(element));return this.tooltips[id]={element:element,tooltip:tooltip};},_find:function(target){var id=target.data("ui-tooltip-id");return id?this.tooltips[id]:null;},_removeTooltip:function(tooltip){tooltip.remove();delete this.tooltips[tooltip.attr("id")];},_appendTo:function(target){var element=target.closest(".ui-front, dialog");if(!element.length){element=this.document[0].body;}
return element;},_destroy:function(){var that=this;$.each(this.tooltips,function(id,tooltipData){var event=$.Event("blur"),element=tooltipData.element;event.target=event.currentTarget=element[0];that.close(event,true);$("#"+id).remove();if(element.data("ui-tooltip-title")){if(!element.attr("title")){element.attr("title",element.data("ui-tooltip-title"));}
element.removeData("ui-tooltip-title");}});this.liveRegion.remove();}});if($.uiBackCompat!==false){$.widget("ui.tooltip",$.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var tooltipData=this._superApply(arguments);if(this.options.tooltipClass){tooltipData.tooltip.addClass(this.options.tooltipClass);}
return tooltipData;}});}
var widgetsTooltip=$.ui.tooltip;}));;